{"version":3,"sources":["styles/common/UtilStyle.js","styles/FooterStyle.js","components/Footer/Footer.js","components/Page.js","components/Route/CustomRoute.js","lib/graphql.js","lib/util.js","components/Loader/Loader.js","components/Route/PrivateRoute.js","assets/images/feature.jpg","styles/HeaderStyle.js","components/Header/Header.js","styles/BookStyle.js","components/Book/Book.js","styles/FeaturedBookStyle.js","components/Book/FeaturedBook.js","styles/HomeStyle.js","pageRouter/pages/Home.js","styles/ShoppingStyle.js","components/Shopping/Books/Books.js","styles/PaginationStyle.js","components/Pagination/Pagination.js","components/Shopping/SmallBooks/SmallBooks.js","pageRouter/pages/Shopping.js","assets/images/sell_image.jpg","styles/SellStyle.js","lib/useForm.js","pageRouter/pages/Sell.js","assets/images/account_background.jpg","styles/common/FormPageStyle.js","pageRouter/pages/Account.js","assets/images/login_background.jpg","pageRouter/pages/Login.js","assets/images/register_background.jpg","pageRouter/pages/Register.js","styles/OrdersStyle.js","components/Order/OrderItem/OrderItem.js","components/Order/Order.js","pageRouter/pages/Orders.js","styles/BookPageStyle.js","pageRouter/pages/Book.js","pageRouter/pages/EditBook.js","components/Navbar/BurgerButton/BurgerButton.js","styles/SearchStyle.js","lib/OutsideClickDetector.js","components/Search/Search.js","components/CartStateProvider.js","components/Navbar/CartButton/CartButton.js","components/Navbar/LogoutButton/LogoutButton.js","components/Navbar/Navbar.js","lib/ScrollToTop.js","pageRouter/PageRouter.js","styles/CartModalStyle.js","components/Cart/CartModal/CartItem/CartItem.js","components/Cart/CartModal/CartModal.js","App.js","reportWebVitals.js","Apollo/ApolloProvider.js","lib/paginationField.js","index.js"],"names":["FlexRow","styled","div","FlexColumn","FooterStyle","Footer","href","target","rel","className","GlobalStyles","createGlobalStyle","PageStyle","Page","children","CustomRoute","props","React","useState","nprogress","start","useEffect","done","gql","require","_","GET_ME_QUERY","LOGIN_MUTATION","LOGOUT_MUTATION","REGISTER_USER_MUTATION","GET_CART_QUERY","ADD_TO_CART_MUTATION","REMOVE_FROM_CART_MUTATION","FIND_BOOKS_QUERY","GET_BOOK_PAGINATION_META_QUERY","GET_RANDOM_BOOK_QUERY","GET_DISCOUNTED_BOOKS","ADD_BOOK_MUTATION","UPDATE_BOOK_MUTATION","SINGLE_BOOK_QUERY","CHECKOUT_MUTATION","UPDATE_USER_MUTATION","GET_ORDERS_QUERY","cacheUpdateAddToCart","cache","payload","data","cloneDeep","readQuery","query","cartItemAdded","addToCart","index","getMe","cart","findIndex","item","book","id","push","quantity","writeQuery","toDataURL","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onloadend","result","error","useUser","useQuery","isImageValid","imageFile","FormData","append","t","type","split","pop","toLowerCase","includes","epochToFormattedDate","epoch","d","Date","ye","Intl","DateTimeFormat","year","format","mo","month","da","day","LoaderStyle","Loader","PrivateRoute","Component","component","rest","isLoggedIn","render","to","HeaderStyle","featureImg","Outer","showNavBg","Container","Nav","nav","searchOn","Menu","NavLinksContainer","ul","Content","NavLink","a","Button","CartItemCountContainer","ItemCount","span","BurgerWrapper","ButtonStyle","withRouter","history","onClick","BookStyle","BookInfo","ButtonGroup","BookButton","button","image","title","author","price","promotion","user","useMutation","variables","bookId","update","alertify","success","realPrice","loading","isMine","books","src","alt","toFixed","FeaturedBookStyle","GetBookButton","description","PopularBooks","BooksContainer","OurLibrary","Section","InnerSection","limit","popularBooksData","popularBooks","getRandomBooks","featureBookData","featureBook","length","map","ShoppingStyle","MainArea","SideBars","BooksStyle","Card","SmallBook","BookDetails","Books","match","perPage","page","params","criteria","skip","findBooks","PaginationStyle","PageNumber","active","PaginationArrow","disabled","bookCount","currentPage","useLocation","pathname","goToPage","parseInt","goToBook","Shopping","relatedBooksData","relatedBooks","discountBooksData","discountBooks","getDiscountedBooks","getBookPaginationMeta","count","path","keyframes","SellStyle","Form","form","Column","Row","useForm","initial","setInputs","initialValues","Object","values","join","handleChange","e","value","name","parseFloat","files","resetForm","clearForm","blankState","fromEntries","entries","key","Sell","subtitle","shortDescription","imageName","state","setState","bookAdded","addBook","meta","cacheUpdateAddBook","onSubmit","preventDefault","formToSubmit","then","base64Image","Error","aria-busy","placeholder","onChange","required","step","min","max","rows","FormPageStyle","AccountStyle","backgroundImage","Account","me","username","email","oldPassword","newPassword","updateUser","cacheUpdateUpdateUser","LoginStyle","password","login","cacheUpdateLogin","class","RegisterStyle","confirmPassword","avatar","register","cacheUpdateRegister","Wrapper","OrderStyle","OrderItemStyle","orderItem","pricePerItem","Order","order","orderItems","createdAt","total","reduce","sum","NoOrderWrapper","Orders","orders","BookPageStyle","Showcase","ShowcaseTop","ShowcaseInfo","ImageContainer","PriceBox","Description","RelatedBooks","useParams","addToCartLoading","fetchPolicy","findBookById","EditBookStyle","EditBook","bookUpdated","updateBook","filter","cacheUpdateUpdateBook","updateBookLoading","BurgerButton","toggleDropdown","open","SearchBar","showSearch","Dropdown","DropdownItem","OutsideClickDetector","onClickOutside","wrapperRef","useRef","ref","handleClickOutside","event","current","contains","isFunction","document","addEventListener","removeEventListener","useOutsideClickDetector","searchToggled","navState","setNavState","toggleSearch","input","setInput","useLazyQuery","boldIfMatch","text","strToMatch","startIndex","indexOf","endIndex","boldText","substring","findItemsDebounced","callback","delay","callbackRef","useCallback","debounce","useDebouncedCallback","resetIdCounter","useCombobox","items","onInputValueChange","inputValue","titleContains","onSelectedItemChange","selectedItem","itemToString","getMenuProps","getInputProps","getComboboxProps","getItemProps","highlightedIndex","isOpen","width","StateContext","createContext","StateProvider","Provider","CartStateProvider","cartOpen","setCartOpen","toggleCart","closeCart","openCart","useCart","useContext","CartButton","cartItemCount","cacheUpdateLogout","removeCookie","logout","Navbar","transparentInitially","dropdownNav","outerStyle","on","searchState","setSearchState","scrolled","eventHandler","window","pageYOffset","prevState","transform","setTimeout","style","as","Link","isSearchOn","unlisten","listen","scrollTo","PageRouter","location","isTransparentNavPage","exact","Home","Login","Register","Book","Modal","show","Backdrop","Item","ItemImage","img","InfoAndOptions","ItemOptions","TotalPrice","CheckoutButton","CartItem","cartItem","subTotal","cartItemRemoved","removeFromCart","splice","cacheUpdateRemoveFromCart","CartModal","formEnabled","cartItems","forEach","cacheUpdateCheckout","checkout","checkoutLoading","cartDisplay","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","createNetworkStatusNotifier","link","useApolloNetworkStatus","GlobalLoadingIndicator","numPendingMutations","httpLink","createHttpLink","uri","credentials","errorLink","onError","graphQLErrors","networkError","message","errorMessage","locations","client","ApolloClient","concat","InMemoryCache","typePolicies","Query","fields","keyArgs","read","existing","args","pages","Math","ceil","lastPageCount","slice","x","merge","incoming","merged","i","connectToDevTools","ReactDOM","StrictMode","ApolloProvider","getElementById"],"mappings":"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","file":"static/js/main.3f329a6a.chunk.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nexport const FlexRow = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\n\r\nexport const FlexColumn = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nimport { FlexRow } from './common/UtilStyle';\r\n\r\nexport const FooterStyle = styled(FlexRow)`\r\n    background: var(--darker-black);\r\n    font-size: 16px;\r\n    color: white;\r\n    padding: 20px;\r\n    text-align: center;\r\n    p {\r\n        margin: 0px;\r\n    }\r\n`;\r\n","import { FooterStyle } from '../../styles/FooterStyle';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <FooterStyle>\r\n            <p>\r\n                An open source project by Anh Minh Tran{' '}\r\n                <a\r\n                    href='https://github.com/anhminhtran235/Bookworm'\r\n                    target='_blank'\r\n                    rel='noreferrer'\r\n                >\r\n                    <i className='fab fa-github'></i>\r\n                </a>\r\n            </p>\r\n        </FooterStyle>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import { BrowserRouter } from 'react-router-dom';\r\nimport styled, { createGlobalStyle } from 'styled-components';\r\nimport Footer from './Footer/Footer';\r\n\r\nconst GlobalStyles = createGlobalStyle`\r\n    @import url('https://fonts.googleapis.com/css?family=Montserrat:400,900|Roboto');\r\n    @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap');\r\n\r\n    html {\r\n        --lighter-blue: #24b6c8;\r\n        --darker-blue: #26aec0;\r\n        --darkest-blue: #22a0b1;\r\n\r\n        --lighter-grey: #f4f7f9;\r\n        --darker-grey: #dbdbdb;\r\n        --darkest-grey: #acacac;\r\n\r\n        --lighter-orange: #e05100;\r\n        --darker-orange: #cc4b01;\r\n        --darkest-orange: #bd4703;\r\n\r\n        --lighter-black: #2d3e50;\r\n        --darker-black: #222222;\r\n        --darkest-black: #161616;\r\n\r\n        --container-padding: 120px;\r\n        @media (max-width: 1300px) {\r\n            --container-padding: 60px;\r\n        }\r\n        @media (max-width: 1015px) {\r\n            --container-padding: 40px;\r\n        }\r\n        @media (max-width: 927px) {\r\n            --container-padding: 20px;\r\n        }\r\n        @media (max-width: 500px) {\r\n            --container-padding: 10px;\r\n        }\r\n\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    *,\r\n    *:before,\r\n    *:after {\r\n        box-sizing: inherit;\r\n    }\r\n\r\n    body {\r\n        font-family: 'Montserrat';\r\n        padding: 0;\r\n        margin: 0;\r\n        font-size: 20px;\r\n    }\r\n\r\n    ul {\r\n        text-decoration: none;\r\n        list-style: none;\r\n    }\r\n\r\n    a {\r\n        text-decoration: none;\r\n        color: var(---darker-black);\r\n    }\r\n\r\n    a:hover {\r\n        text-decoration: underline;\r\n    }\r\n\r\n    button {\r\n        font-family: 'Montserrat';\r\n    }\r\n\r\n    .special-text {\r\n        font-family: 'Dancing Script', cursive\r\n    }\r\n`;\r\n\r\nconst PageStyle = styled.div`\r\n    min-height: 100vh;\r\n`;\r\n\r\nconst Page = ({ children }) => {\r\n    return (\r\n        <>\r\n            <BrowserRouter>\r\n                <GlobalStyles />\r\n                <PageStyle>{children}</PageStyle>\r\n                <Footer />\r\n            </BrowserRouter>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Page;\r\n","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport nprogress from 'nprogress';\r\nimport 'nprogress/nprogress.css';\r\n\r\nimport './NProgress.css';\r\n\r\nconst CustomRoute = (props) => {\r\n    React.useState(nprogress.start());\r\n\r\n    React.useEffect(() => {\r\n        nprogress.done();\r\n        return () => nprogress.start();\r\n    });\r\n\r\n    return <Route {...props} />;\r\n};\r\n\r\nexport default CustomRoute;\r\n","const gql = require('graphql-tag');\r\nconst _ = require('lodash');\r\n\r\nexport const GET_ME_QUERY = gql`\r\n    query getMe {\r\n        getMe {\r\n            id\r\n            username\r\n            email\r\n            avatar\r\n            createdAt\r\n            orders {\r\n                id\r\n            }\r\n            cart {\r\n                id\r\n                book {\r\n                    id\r\n                }\r\n                quantity\r\n            }\r\n            books {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const LOGIN_MUTATION = gql`\r\n    mutation login($email: String!, $password: String!) {\r\n        login(loginInput: { email: $email, password: $password }) {\r\n            id\r\n            username\r\n            email\r\n            avatar\r\n            createdAt\r\n            orders {\r\n                id\r\n            }\r\n            cart {\r\n                id\r\n                book {\r\n                    id\r\n                }\r\n                quantity\r\n            }\r\n            books {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\nexport const LOGOUT_MUTATION = gql`\r\n    mutation {\r\n        logout\r\n    }\r\n`;\r\n\r\nexport const REGISTER_USER_MUTATION = gql`\r\n    mutation register(\r\n        $username: String!\r\n        $email: String!\r\n        $password: String!\r\n        $avatar: String\r\n    ) {\r\n        register(\r\n            registerInput: {\r\n                username: $username\r\n                email: $email\r\n                password: $password\r\n                avatar: $avatar\r\n            }\r\n        ) {\r\n            id\r\n            username\r\n            email\r\n            avatar\r\n            createdAt\r\n            orders {\r\n                id\r\n            }\r\n            cart {\r\n                id\r\n                book {\r\n                    id\r\n                }\r\n                quantity\r\n            }\r\n            books {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const GET_CART_QUERY = gql`\r\n    query getCart {\r\n        getMe {\r\n            cart {\r\n                id\r\n                book {\r\n                    id\r\n                    title\r\n                    subtitle\r\n                    description\r\n                    shortDescription\r\n                    image\r\n                    price\r\n                    promotion\r\n                }\r\n                quantity\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const ADD_TO_CART_MUTATION = gql`\r\n    mutation addToCart($bookId: ID!) {\r\n        addToCart(bookId: $bookId) {\r\n            quantity\r\n            book {\r\n                id\r\n                title\r\n                subtitle\r\n                author\r\n                description\r\n                shortDescription\r\n                image\r\n                price\r\n                promotion\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const REMOVE_FROM_CART_MUTATION = gql`\r\n    mutation addToCart($bookId: ID!) {\r\n        removeFromCart(bookId: $bookId) {\r\n            quantity\r\n            book {\r\n                id\r\n                title\r\n                subtitle\r\n                author\r\n                description\r\n                shortDescription\r\n                image\r\n                price\r\n                promotion\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const FIND_BOOKS_QUERY = gql`\r\n    query findBooks($titleContains: String, $skip: Int, $limit: Int) {\r\n        findBooks(\r\n            criteria: { titleContains: $titleContains }\r\n            skip: $skip\r\n            limit: $limit\r\n        ) {\r\n            id\r\n            title\r\n            subtitle\r\n            author\r\n            description\r\n            shortDescription\r\n            image\r\n            price\r\n            promotion\r\n        }\r\n    }\r\n`;\r\n\r\nexport const GET_BOOK_PAGINATION_META_QUERY = gql`\r\n    query getBookPaginationMeta($titleContains: String) {\r\n        getBookPaginationMeta(criteria: { titleContains: $titleContains }) {\r\n            count\r\n        }\r\n    }\r\n`;\r\n\r\nexport const GET_RANDOM_BOOK_QUERY = gql`\r\n    query getRandomBooks($limit: Int) {\r\n        getRandomBooks(limit: $limit) {\r\n            id\r\n            title\r\n            subtitle\r\n            author\r\n            description\r\n            shortDescription\r\n            image\r\n            price\r\n            promotion\r\n        }\r\n    }\r\n`;\r\n\r\nexport const GET_DISCOUNTED_BOOKS = gql`\r\n    query getDiscountedBooks($limit: Int) {\r\n        getDiscountedBooks(limit: $limit) {\r\n            id\r\n            title\r\n            subtitle\r\n            author\r\n            description\r\n            shortDescription\r\n            image\r\n            price\r\n            promotion\r\n        }\r\n    }\r\n`;\r\n\r\nexport const ADD_BOOK_MUTATION = gql`\r\n    mutation addBook(\r\n        $title: String!\r\n        $subtitle: String\r\n        $author: String!\r\n        $description: String!\r\n        $shortDescription: String!\r\n        $image: String!\r\n        $price: Float!\r\n    ) {\r\n        addBook(\r\n            title: $title\r\n            subtitle: $subtitle\r\n            author: $author\r\n            description: $description\r\n            shortDescription: $shortDescription\r\n            image: $image\r\n            price: $price\r\n        ) {\r\n            id\r\n            title\r\n            subtitle\r\n            description\r\n            shortDescription\r\n            image\r\n            price\r\n            promotion\r\n        }\r\n    }\r\n`;\r\n\r\nexport const UPDATE_BOOK_MUTATION = gql`\r\n    mutation updateBook(\r\n        $id: ID!\r\n        $title: String\r\n        $subtitle: String\r\n        $author: String\r\n        $description: String\r\n        $shortDescription: String\r\n        $image: String\r\n        $price: Float\r\n        $promotion: Float\r\n    ) {\r\n        updateBook(\r\n            id: $id\r\n            title: $title\r\n            subtitle: $subtitle\r\n            author: $author\r\n            description: $description\r\n            shortDescription: $shortDescription\r\n            image: $image\r\n            price: $price\r\n            promotion: $promotion\r\n        ) {\r\n            id\r\n            title\r\n            subtitle\r\n            author\r\n            description\r\n            shortDescription\r\n            image\r\n            price\r\n            promotion\r\n        }\r\n    }\r\n`;\r\n\r\nexport const DELETE_BOOK_MUTATION = gql`\r\n    mutation deleteBook($id: ID!) {\r\n        deleteBook(id: $id) {\r\n            id\r\n            title\r\n            subtitle\r\n            author\r\n            description\r\n            shortDescription\r\n            image\r\n            price\r\n            promotion\r\n        }\r\n    }\r\n`;\r\n\r\nexport const SINGLE_BOOK_QUERY = gql`\r\n    query findBookById($id: ID!) {\r\n        findBookById(id: $id) {\r\n            id\r\n            title\r\n            subtitle\r\n            author\r\n            description\r\n            shortDescription\r\n            image\r\n            price\r\n            promotion\r\n        }\r\n    }\r\n`;\r\n\r\nexport const CHECKOUT_MUTATION = gql`\r\n    mutation checkout($password: String!) {\r\n        checkout(password: $password) {\r\n            orderItems {\r\n                id\r\n                book {\r\n                    title\r\n                }\r\n                quantity\r\n                pricePerItem\r\n            }\r\n            createdAt\r\n        }\r\n    }\r\n`;\r\n\r\nexport const UPDATE_USER_MUTATION = gql`\r\n    mutation updateUser(\r\n        $username: String!\r\n        $oldPassword: String!\r\n        $newPassword: String!\r\n    ) {\r\n        updateUser(\r\n            username: $username\r\n            oldPassword: $oldPassword\r\n            newPassword: $newPassword\r\n        ) {\r\n            username\r\n        }\r\n    }\r\n`;\r\n\r\nexport const GET_ORDERS_QUERY = gql`\r\n    query getOrders {\r\n        getMe {\r\n            orders {\r\n                id\r\n                orderItems {\r\n                    book {\r\n                        id\r\n                        title\r\n                        subtitle\r\n                        description\r\n                        shortDescription\r\n                        image\r\n                        price\r\n                        promotion\r\n                        author\r\n                    }\r\n                    quantity\r\n                    pricePerItem\r\n                }\r\n                createdAt\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const cacheUpdateAddToCart = (cache, payload) => {\r\n    const data = _.cloneDeep(cache.readQuery({ query: GET_CART_QUERY }));\r\n    if (!data) return;\r\n    const cartItemAdded = payload.data.addToCart;\r\n    const index = data.getMe.cart.findIndex(\r\n        (item) => item.book.id === cartItemAdded.book.id\r\n    );\r\n    if (index === -1) {\r\n        data.getMe.cart.push(cartItemAdded);\r\n    } else {\r\n        data.getMe.cart[index].quantity++;\r\n    }\r\n    cache.writeQuery({\r\n        query: GET_CART_QUERY,\r\n        data,\r\n    });\r\n};\r\n\r\nexport const cacheUpdateRemoveFromCart = (cache, payload) => {\r\n    const data = _.cloneDeep(cache.readQuery({ query: GET_CART_QUERY }));\r\n    if (!data) return;\r\n    const cartItemRemoved = payload.data.removeFromCart;\r\n    const index = data.getMe.cart.findIndex(\r\n        (item) => item.book.id === cartItemRemoved.book.id\r\n    );\r\n    if (index !== -1) {\r\n        data.getMe.cart[index].quantity--;\r\n        if (data.getMe.cart[index].quantity <= 0) {\r\n            data.getMe.cart.splice(index, 1);\r\n        }\r\n        cache.writeQuery({\r\n            query: GET_CART_QUERY,\r\n            data,\r\n        });\r\n    }\r\n};\r\n\r\nexport const cacheUpdateAddBook = (cache, payload) => {\r\n    const data = _.cloneDeep(cache.readQuery({ query: FIND_BOOKS_QUERY }));\r\n    if (!data) return;\r\n    const bookAdded = payload.data.addBook;\r\n    cache.writeQuery({\r\n        query: FIND_BOOKS_QUERY,\r\n        data: {\r\n            findBooks: [bookAdded, ...data.findBooks],\r\n        },\r\n    });\r\n\r\n    const meta = _.cloneDeep(\r\n        cache.readQuery({ query: GET_BOOK_PAGINATION_META_QUERY })\r\n    );\r\n    if (!meta) return;\r\n    cache.writeQuery({\r\n        query: GET_BOOK_PAGINATION_META_QUERY,\r\n        variables: {\r\n            criteria: {},\r\n        },\r\n        data: {\r\n            getBookPaginationMeta: {\r\n                ...meta.getBookPaginationMeta,\r\n                count: meta.getBookPaginationMeta.count + 1,\r\n            },\r\n        },\r\n    });\r\n\r\n    const user = _.cloneDeep(cache.readQuery({ query: GET_ME_QUERY }));\r\n    if (!user) return;\r\n    user.getMe.books.push(payload.data.addBook.id);\r\n    cache.writeQuery({\r\n        query: GET_ME_QUERY,\r\n        data: {\r\n            getMe: user,\r\n        },\r\n    });\r\n};\r\n\r\nexport const cacheUpdateUpdateBook = (cache, payload) => {\r\n    const data = _.cloneDeep(cache.readQuery({ query: FIND_BOOKS_QUERY }));\r\n    if (!data) return;\r\n    const bookUpdated = payload.data.updateBook;\r\n    data.findBooks = data.findBooks.filter(\r\n        (book) => book.id !== bookUpdated.id\r\n    );\r\n    cache.writeQuery({\r\n        query: FIND_BOOKS_QUERY,\r\n        data: {\r\n            findBooks: [bookUpdated, ...data.findBooks],\r\n        },\r\n    });\r\n};\r\n\r\nexport const cacheUpdateDeleteBook = (cache, payload) => {\r\n    cache.evict(cache.identify(payload.data.deleteBook));\r\n\r\n    const meta = _.cloneDeep(\r\n        cache.readQuery({ query: GET_BOOK_PAGINATION_META_QUERY })\r\n    );\r\n    if (!meta) return;\r\n    cache.writeQuery({\r\n        query: GET_BOOK_PAGINATION_META_QUERY,\r\n        variables: {\r\n            criteria: {},\r\n        },\r\n        data: {\r\n            getBookPaginationMeta: {\r\n                ...meta.getBookPaginationMeta,\r\n                count: meta.getBookPaginationMeta.count - 1,\r\n            },\r\n        },\r\n    });\r\n};\r\n\r\nexport const cacheUpdateCheckout = (cache, payload) => {\r\n    const data = _.cloneDeep(cache.readQuery({ query: GET_CART_QUERY }));\r\n    if (!data) return;\r\n    cache.writeQuery({\r\n        query: GET_CART_QUERY,\r\n        data: {\r\n            getMe: {\r\n                ...data.getMe,\r\n                cart: [],\r\n            },\r\n        },\r\n    });\r\n};\r\n\r\nexport const cacheUpdateUpdateUser = (cache, payload) => {\r\n    const data = _.cloneDeep(cache.readQuery({ query: GET_ME_QUERY }));\r\n    if (!data) return;\r\n    cache.writeQuery({\r\n        query: GET_ME_QUERY,\r\n        data: {\r\n            getMe: {\r\n                ...data.getMe,\r\n                username: payload.data.updateUser.username,\r\n            },\r\n        },\r\n    });\r\n};\r\n\r\nexport const cacheUpdateLogout = (cache, payload) => {\r\n    cache.writeQuery({\r\n        query: GET_ME_QUERY,\r\n        data: {\r\n            getMe: null,\r\n        },\r\n    });\r\n};\r\n\r\nexport const cacheUpdateLogin = (cache, payload) => {\r\n    const user = payload?.data?.login;\r\n    if (!user) return;\r\n    cache.writeQuery({\r\n        query: GET_ME_QUERY,\r\n        data: {\r\n            getMe: user,\r\n        },\r\n    });\r\n};\r\n\r\nexport const cacheUpdateRegister = (cache, payload) => {\r\n    const user = payload?.data?.register;\r\n    if (!user) return;\r\n    cache.writeQuery({\r\n        query: GET_ME_QUERY,\r\n        data: {\r\n            getMe: user,\r\n        },\r\n    });\r\n};\r\n","import { useQuery } from '@apollo/client';\r\nimport { useCallback, useRef } from 'react';\r\nimport { debounce } from 'lodash';\r\n\r\nimport { GET_ME_QUERY } from './graphql';\r\n\r\nexport const toDataURL = (file) => {\r\n    return new Promise((resolve, reject) => {\r\n        try {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onloadend = () => {\r\n                resolve(reader.result);\r\n            };\r\n        } catch (error) {\r\n            reject(error);\r\n        }\r\n    });\r\n};\r\n\r\nexport const transformImage = (imageUrl, ratioWidth, ratioHeight) => {\r\n    return (\r\n        imageUrl?.split('upload/')[0] +\r\n        'upload/ar_' +\r\n        ratioWidth +\r\n        ':' +\r\n        ratioHeight +\r\n        ',c_crop/' +\r\n        imageUrl?.split('upload/')[1]\r\n    );\r\n};\r\n\r\nexport const useUser = () => {\r\n    const { data } = useQuery(GET_ME_QUERY);\r\n    return data?.getMe;\r\n};\r\n\r\nexport const useDebouncedCallback = (callback, delay) => {\r\n    const callbackRef = useRef();\r\n    callbackRef.current = callback;\r\n    return useCallback(\r\n        debounce((...args) => callbackRef.current(...args), delay),\r\n        []\r\n    );\r\n};\r\n\r\nexport const isImageValid = (imageFile) => {\r\n    if (!imageFile) {\r\n        return false;\r\n    }\r\n    var formData = new FormData();\r\n    formData.append('Filedata', imageFile);\r\n    var t = imageFile.type.split('/').pop().toLowerCase();\r\n    if (!['jpeg', 'jpg', 'png', 'bmp', 'gif'].includes(t)) {\r\n        return false;\r\n    }\r\n    return true;\r\n};\r\n\r\nexport const epochToFormattedDate = (epoch) => {\r\n    const d = new Date(epoch);\r\n    const ye = new Intl.DateTimeFormat('en', { year: 'numeric' }).format(d);\r\n    const mo = new Intl.DateTimeFormat('en', { month: 'short' }).format(d);\r\n    const da = new Intl.DateTimeFormat('en', { day: '2-digit' }).format(d);\r\n    return `${da}-${mo}-${ye}`;\r\n};\r\n","import styled from 'styled-components';\r\n\r\nconst LoaderStyle = styled.div`\r\n    display: inline-block;\r\n    position: fixed;\r\n    z-index: 100;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    width: 80px;\r\n    height: 80px;\r\n    div {\r\n        animation: lds-roller 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\r\n        transform-origin: 40px 40px;\r\n    }\r\n    div:after {\r\n        content: ' ';\r\n        display: block;\r\n        position: absolute;\r\n        width: 7px;\r\n        height: 7px;\r\n        border-radius: 50%;\r\n        background: #24b6c8;\r\n        margin: -4px 0 0 -4px;\r\n    }\r\n    div:nth-child(1) {\r\n        animation-delay: -0.036s;\r\n    }\r\n    div:nth-child(1):after {\r\n        top: 63px;\r\n        left: 63px;\r\n    }\r\n    div:nth-child(2) {\r\n        animation-delay: -0.072s;\r\n    }\r\n    div:nth-child(2):after {\r\n        top: 68px;\r\n        left: 56px;\r\n    }\r\n    div:nth-child(3) {\r\n        animation-delay: -0.108s;\r\n    }\r\n    div:nth-child(3):after {\r\n        top: 71px;\r\n        left: 48px;\r\n    }\r\n    div:nth-child(4) {\r\n        animation-delay: -0.144s;\r\n    }\r\n    div:nth-child(4):after {\r\n        top: 72px;\r\n        left: 40px;\r\n    }\r\n    div:nth-child(5) {\r\n        animation-delay: -0.18s;\r\n    }\r\n    div:nth-child(5):after {\r\n        top: 71px;\r\n        left: 32px;\r\n    }\r\n    div:nth-child(6) {\r\n        animation-delay: -0.216s;\r\n    }\r\n    div:nth-child(6):after {\r\n        top: 68px;\r\n        left: 24px;\r\n    }\r\n    div:nth-child(7) {\r\n        animation-delay: -0.252s;\r\n    }\r\n    div:nth-child(7):after {\r\n        top: 63px;\r\n        left: 17px;\r\n    }\r\n    div:nth-child(8) {\r\n        animation-delay: -0.288s;\r\n    }\r\n    div:nth-child(8):after {\r\n        top: 56px;\r\n        left: 12px;\r\n    }\r\n    @keyframes lds-roller {\r\n        0% {\r\n            transform: rotate(0deg);\r\n        }\r\n        100% {\r\n            transform: rotate(360deg);\r\n        }\r\n    }\r\n`;\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <>\r\n            <LoaderStyle>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n            </LoaderStyle>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\nimport nprogress from 'nprogress';\r\nimport 'nprogress/nprogress.css';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nimport './NProgress.css';\r\nimport { useUser } from '../../lib/util';\r\nimport Loader from '../Loader/Loader';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n    const me = useUser();\r\n    const isLoggedIn = me != null;\r\n\r\n    React.useState(nprogress.start());\r\n\r\n    React.useEffect(() => {\r\n        nprogress.done();\r\n        return () => nprogress.start();\r\n    });\r\n\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={(props) =>\r\n                isLoggedIn == null ? (\r\n                    <Loader />\r\n                ) : isLoggedIn ? (\r\n                    <Component {...props} />\r\n                ) : (\r\n                    <Redirect to='/login' />\r\n                )\r\n            }\r\n        />\r\n    );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","export default __webpack_public_path__ + \"static/media/feature.33a47ab1.jpg\";","import styled from 'styled-components';\r\n\r\nimport { FlexColumn, FlexRow } from './common/UtilStyle';\r\nimport featureImg from '../assets/images/feature.jpg';\r\n\r\nexport const HeaderStyle = styled(FlexRow)`\r\n    background: url(${featureImg}) no-repeat center center/cover;\r\n    height: 700px;\r\n    color: white;\r\n    margin: 0;\r\n    text-align: center;\r\n    padding: 0px var(--container-padding);\r\n`;\r\n\r\nexport const Outer = styled.div`\r\n    z-index: 1000;\r\n    position: fixed;\r\n    top: 0;\r\n    color: white;\r\n    background: ${(props) =>\r\n        props.showNavBg ? 'var(--lighter-blue)' : 'none'};\r\n    width: 100%;\r\n    transition: 0.5s ease-out;\r\n`;\r\n\r\nexport const Container = styled.div`\r\n    margin: 0 auto;\r\n    padding: 1rem;\r\n    margin: 0px var(--container-padding);\r\n    position: relative;\r\n`;\r\n\r\nexport const Nav = styled.nav`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    .logo {\r\n        font-size: 40px;\r\n        line-height: 1.2;\r\n        display: block;\r\n        transition: all 1s;\r\n        transform: translateX(0px);\r\n        :hover {\r\n            color: white;\r\n            text-decoration: none;\r\n        }\r\n    }\r\n    h1 {\r\n        margin: 0;\r\n        cursor: pointer;\r\n    }\r\n    ::after {\r\n        content: ${(props) => (props.showNavBg ? 'none' : \"''\")};\r\n        display: block;\r\n        width: 100%;\r\n        height: 0.4rem;\r\n        position: absolute;\r\n        left: 0;\r\n        right: 0;\r\n        background-color: white;\r\n        top: 4.5rem;\r\n        border-radius: 5px;\r\n    }\r\n    .disable {\r\n        @media (max-width: 720px) {\r\n            transform: translateX(-400px);\r\n        }\r\n    }\r\n    @media (max-width: 720px) {\r\n        justify-content: ${(props) =>\r\n            props.searchOn ? 'flex-end' : 'space-between'};\r\n    }\r\n`;\r\n\r\nexport const Menu = styled(FlexRow)`\r\n    align-self: flex-end;\r\n    justify-self: flex-end;\r\n    .dropdown-nav {\r\n        display: flex;\r\n        position: absolute;\r\n        top: 80px;\r\n        left: 0px;\r\n        flex-direction: column;\r\n        width: 100%;\r\n        overflow: hidden;\r\n        padding-left: 0px;\r\n        background: var(--darker-blue);\r\n        border-bottom-right-radius: 5px;\r\n        border-bottom-left-radius: 5px;\r\n        animation-name: anim;\r\n        animation-duration: 1s;\r\n        @keyframes anim {\r\n            from {\r\n                opacity: 0%;\r\n                height: 0px;\r\n            }\r\n            to {\r\n                height: 240px;\r\n                opacity: 100%;\r\n            }\r\n        }\r\n        a {\r\n            ::after {\r\n                content: none;\r\n            }\r\n            padding: 5px;\r\n            margin: 0px;\r\n            width: 100%;\r\n            text-align: center;\r\n            :last-child {\r\n                padding-bottom: 5px;\r\n            }\r\n            :hover {\r\n                background: var(--darkest-blue);\r\n                cursor: pointer;\r\n            }\r\n        }\r\n    }\r\n    .show-nav-bg {\r\n        > a {\r\n            :hover {\r\n                ::after {\r\n                    background: white;\r\n                }\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const NavLinksContainer = styled.ul`\r\n    display: flex;\r\n    margin: 0;\r\n    padding-left: 0;\r\n    @media (max-width: 1195px) {\r\n        display: none;\r\n    }\r\n`;\r\n\r\nexport const Content = styled(FlexColumn)`\r\n    h1 {\r\n        margin-bottom: 20px;\r\n    }\r\n    p {\r\n        margin-bottom: 30px;\r\n        font-size: 18px;\r\n        max-width: 500px;\r\n        text-align: center;\r\n    }\r\n    transform: translateY(-80px);\r\n`;\r\n\r\nexport const NavLink = styled.a`\r\n    position: relative;\r\n    margin-left: 8px;\r\n    align-self: center;\r\n    ::after {\r\n        content: '';\r\n        display: block;\r\n        position: absolute;\r\n        transition: all 0.3s;\r\n        width: 0%;\r\n        top: 30px;\r\n        left: 50%;\r\n        right: 50%;\r\n        height: 2px;\r\n    }\r\n    :hover {\r\n        cursor: pointer;\r\n        color: white;\r\n        text-decoration: none;\r\n        ::after {\r\n            background: ${(props) =>\r\n                props.showNavBg ? 'white' : 'var(--lighter-blue)'};\r\n            width: 100%;\r\n            left: 0%;\r\n            right: 0%;\r\n        }\r\n    }\r\n`;\r\n\r\nexport const Button = styled.div`\r\n    background: white;\r\n    color: #e05100;\r\n    padding: 10px 20px;\r\n    border-radius: 5px;\r\n    font-weight: bold;\r\n    font-size: 20px;\r\n    :hover {\r\n        cursor: pointer;\r\n        background: var(--lighter-grey);\r\n    }\r\n`;\r\n\r\nexport const CartItemCountContainer = styled.div`\r\n    display: inline-block;\r\n    position: relative;\r\n`;\r\n\r\nexport const ItemCount = styled.span`\r\n    position: absolute;\r\n    font-size: 12px;\r\n    top: -9px;\r\n    right: -11px;\r\n    background: red;\r\n    border-radius: 80%;\r\n    padding: 2px 4px;\r\n    color: white;\r\n`;\r\n\r\nexport const BurgerWrapper = styled.div`\r\n    transform: translateY(-3px);\r\n    .open span:nth-child(1) {\r\n        top: 18px;\r\n        width: 0%;\r\n        left: 50%;\r\n    }\r\n\r\n    .open span:nth-child(2) {\r\n        -webkit-transform: rotate(45deg);\r\n        -moz-transform: rotate(45deg);\r\n        -o-transform: rotate(45deg);\r\n        transform: rotate(45deg);\r\n    }\r\n\r\n    .open span:nth-child(3) {\r\n        -webkit-transform: rotate(-45deg);\r\n        -moz-transform: rotate(-45deg);\r\n        -o-transform: rotate(-45deg);\r\n        transform: rotate(-45deg);\r\n    }\r\n\r\n    .open span:nth-child(4) {\r\n        top: 18px;\r\n        width: 0%;\r\n        left: 50%;\r\n    }\r\n\r\n    display: none;\r\n    @media (max-width: 1195px) {\r\n        display: block;\r\n    }\r\n`;\r\n\r\nexport const ButtonStyle = styled.div`\r\n    width: 30px;\r\n    height: 22px;\r\n    position: relative;\r\n    -webkit-transform: rotate(0deg);\r\n    -moz-transform: rotate(0deg);\r\n    -o-transform: rotate(0deg);\r\n    transform: rotate(0deg);\r\n    -webkit-transition: 0.5s ease-in-out;\r\n    -moz-transition: 0.5s ease-in-out;\r\n    -o-transition: 0.5s ease-in-out;\r\n    transition: 0.5s ease-in-out;\r\n    cursor: pointer;\r\n\r\n    span {\r\n        display: block;\r\n        position: absolute;\r\n        height: 5px;\r\n        width: 100%;\r\n        background: white;\r\n        border-radius: 9px;\r\n        opacity: 1;\r\n        left: 0;\r\n        -webkit-transform: rotate(0deg);\r\n        -moz-transform: rotate(0deg);\r\n        -o-transform: rotate(0deg);\r\n        transform: rotate(0deg);\r\n        -webkit-transition: 0.25s ease-in-out;\r\n        -moz-transition: 0.25s ease-in-out;\r\n        -o-transition: 0.25s ease-in-out;\r\n        transition: 0.25s ease-in-out;\r\n    }\r\n\r\n    span:nth-child(1) {\r\n        top: 0px;\r\n    }\r\n\r\n    span:nth-child(2),\r\n    span:nth-child(3) {\r\n        top: 10px;\r\n    }\r\n\r\n    span:nth-child(4) {\r\n        top: 20px;\r\n    }\r\n`;\r\n","import { withRouter } from 'react-router';\r\nimport { HeaderStyle, Button, Content } from '../../styles/HeaderStyle';\r\n\r\nconst Header = ({ history }) => {\r\n    const goToShopping = () => {\r\n        history.push('/shopping');\r\n    };\r\n    return (\r\n        <>\r\n            <HeaderStyle>\r\n                <Content>\r\n                    <h1 className='special-text'>\r\n                        Meet your next favourite book\r\n                    </h1>\r\n                    <p>\r\n                        Discover millions of books from a vast number of\r\n                        categories including novel, biography, finance and\r\n                        education\r\n                    </p>\r\n                    <Button onClick={goToShopping}>Start Reading Now</Button>\r\n                </Content>\r\n            </HeaderStyle>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default withRouter(Header);\r\n","import styled from 'styled-components';\r\n\r\nimport { FlexColumn } from './common/UtilStyle';\r\n\r\nexport const BookStyle = styled(FlexColumn)`\r\n    position: relative;\r\n    background: white;\r\n    padding: 10px;\r\n    box-shadow: 0 0 5px 0 rgb(0 0 0 / 10%);\r\n    border-radius: 8px;\r\n    text-align: center;\r\n    width: 100%;\r\n    word-wrap: break-word;\r\n    overflow: hidden;\r\n    img {\r\n        width: 100%;\r\n        height: 100%;\r\n        padding: 5px;\r\n        box-shadow: 2px 2px 7px rgb(0 0 0 / 30%);\r\n        border-radius: 2px;\r\n        object-fit: fill;\r\n    }\r\n\r\n    .promotion-tag {\r\n        background: red;\r\n        color: white;\r\n        position: absolute;\r\n        top: 0;\r\n        right: 0;\r\n        padding: 3px 70px;\r\n        transform: rotate(36deg) translate(174px, -87px);\r\n        text-align: center;\r\n        width: 500px;\r\n    }\r\n`;\r\n\r\nexport const BookInfo = styled(FlexColumn)`\r\n    margin: 10px 0px;\r\n    p {\r\n        margin: 0;\r\n    }\r\n    .book-title {\r\n        font-size: 20px;\r\n    }\r\n    .book-author {\r\n        color: var(--lighter-black);\r\n        font-size: 16px;\r\n        font-style: italic;\r\n    }\r\n    .book-price {\r\n        font-size: 25px;\r\n        margin-top: 0px;\r\n        .promotion {\r\n            margin-right: 5px;\r\n            color: var(--darkest-grey);\r\n            font-size: 18px;\r\n        }\r\n    }\r\n`;\r\n\r\nexport const ButtonGroup = styled.div`\r\n    margin-top: 10px;\r\n    button:first-child {\r\n        margin-right: 10px;\r\n    }\r\n`;\r\n\r\nexport const BookButton = styled.button`\r\n    background: white;\r\n    color: var(--lighter-black);\r\n    border-radius: 5px;\r\n    font-size: 20px;\r\n    :hover {\r\n        background: var(--darker-grey);\r\n    }\r\n`;\r\n","import { useMutation } from '@apollo/client';\r\nimport alertify from 'alertifyjs';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport {\r\n    BookStyle,\r\n    BookInfo,\r\n    ButtonGroup,\r\n    BookButton,\r\n} from '../../styles/BookStyle';\r\nimport { cacheUpdateAddToCart, ADD_TO_CART_MUTATION } from '../../lib/graphql';\r\nimport { useUser } from '../../lib/util';\r\n\r\nconst Book = ({\r\n    book: { id, image, title, author, price, promotion },\r\n    history,\r\n}) => {\r\n    const user = useUser();\r\n    const isLoggedIn = user != null;\r\n\r\n    const [addToCart, { loading }] = useMutation(ADD_TO_CART_MUTATION, {\r\n        variables: {\r\n            bookId: id,\r\n        },\r\n        update(cache, payload) {\r\n            alertify.success('Added to cart');\r\n            cacheUpdateAddToCart(cache, payload);\r\n        },\r\n    });\r\n\r\n    const onAddToCart = () => {\r\n        if (!isLoggedIn) {\r\n            alertify.error('Please log in first');\r\n            history.push('/login');\r\n        } else {\r\n            addToCart();\r\n        }\r\n    };\r\n\r\n    const goToBook = () => {\r\n        history.push('/book/' + id);\r\n    };\r\n\r\n    const goToEditBook = () => {\r\n        history.push('/edit/book/' + id);\r\n    };\r\n\r\n    const realPrice = promotion ? (price * (100 - promotion)) / 100 : price;\r\n    const isMine =\r\n        user?.books && user.books.findIndex((book) => book.id === id) !== -1;\r\n\r\n    return (\r\n        <BookStyle>\r\n            {promotion != 0 && (\r\n                <span className='promotion-tag'>SALE {promotion}%</span>\r\n            )}\r\n            <img src={image} alt='' />\r\n            <BookInfo>\r\n                <p className='book-title'>{title}</p>\r\n                <p className='book-author'>{author}</p>\r\n                <p className='book-price'>\r\n                    {promotion !== 0 && (\r\n                        <strike className='promotion'>\r\n                            ${price.toFixed(2)}\r\n                        </strike>\r\n                    )}\r\n                    ${realPrice.toFixed(2)}\r\n                </p>\r\n                <ButtonGroup>\r\n                    <BookButton onClick={goToBook}>Detail</BookButton>\r\n                    {!isMine && (\r\n                        <BookButton onClick={onAddToCart}>\r\n                            Add to cart\r\n                        </BookButton>\r\n                    )}\r\n                    {isMine && (\r\n                        <BookButton onClick={goToEditBook}>\r\n                            Edit Book\r\n                        </BookButton>\r\n                    )}\r\n                </ButtonGroup>\r\n            </BookInfo>\r\n        </BookStyle>\r\n    );\r\n};\r\n\r\nexport default withRouter(Book);\r\n","import styled from 'styled-components';\r\n\r\nimport { FlexRow } from './common/UtilStyle';\r\n\r\nexport const FeaturedBookStyle = styled(FlexRow)`\r\n    white-space: pre-wrap;\r\n    justify-content: space-between;\r\n    padding: 40px var(--container-padding);\r\n    color: var(--darker-black);\r\n    div {\r\n        width: 50%;\r\n        padding: 0px 20px;\r\n    }\r\n    img {\r\n        width: 80%;\r\n        display: block;\r\n        margin: auto;\r\n    }\r\n    h4 {\r\n        color: var(--lighter-black);\r\n    }\r\n    h3 {\r\n        color: var(--darker-black);\r\n        font-size: 30px;\r\n        margin-top: 25px;\r\n        margin-bottom: 0px;\r\n    }\r\n    .book-author {\r\n        color: var(--lighter-black);\r\n        font-style: italic;\r\n        font-size: 16px;\r\n    }\r\n    .book-description {\r\n        margin-top: 25px;\r\n    }\r\n    @media (max-width: 1015px) {\r\n        flex-direction: column;\r\n        div {\r\n            width: 100%;\r\n            margin-bottom: 10px;\r\n        }\r\n        img {\r\n            max-width: 500px;\r\n        }\r\n    }\r\n`;\r\n\r\nexport const GetBookButton = styled.button`\r\n    margin-top: 10px;\r\n    background: var(--darker-black);\r\n    color: white;\r\n    padding: 5px 20px;\r\n    border-radius: 20px;\r\n    :hover {\r\n        background-color: var(--lighter-black);\r\n    }\r\n`;\r\n","import { withRouter } from 'react-router';\r\nimport {\r\n    FeaturedBookStyle,\r\n    GetBookButton,\r\n} from '../../styles/FeaturedBookStyle';\r\n\r\nconst FeaturedBook = ({\r\n    book: { id, image, title, author, description },\r\n    history,\r\n}) => {\r\n    const goToBook = () => {\r\n        history.push('/book/' + id);\r\n    };\r\n\r\n    return (\r\n        <FeaturedBookStyle>\r\n            <div>\r\n                <h4>Featured Book</h4>\r\n                <h3>{title}</h3>\r\n                <p className='book-author'>{author}</p>\r\n                <p className='description'>{description}</p>\r\n                <GetBookButton onClick={goToBook}>Get This Book</GetBookButton>\r\n            </div>\r\n            <div>\r\n                <img src={image} alt='' />\r\n            </div>\r\n        </FeaturedBookStyle>\r\n    );\r\n};\r\n\r\nexport default withRouter(FeaturedBook);\r\n","import styled from 'styled-components';\r\n\r\nimport { FlexColumn, FlexRow } from './common/UtilStyle';\r\n\r\nexport const PopularBooks = styled(FlexColumn)`\r\n    padding: 40px var(--container-padding);\r\n    background: var(--lighter-grey);\r\n    div {\r\n        margin-right: 20px;\r\n    }\r\n    div :last-child {\r\n        margin-right: 0px;\r\n    }\r\n    h3 {\r\n        margin-bottom: 15px;\r\n    }\r\n    @media (max-width: 1015px) {\r\n        div {\r\n            margin-right: 0px;\r\n            margin-bottom: 10px;\r\n        }\r\n    }\r\n`;\r\n\r\nexport const BooksContainer = styled(FlexRow)`\r\n    @media (max-width: 1015px) {\r\n        flex-direction: column;\r\n    }\r\n    align-items: stretch;\r\n    > div {\r\n        flex: 1;\r\n    }\r\n`;\r\n\r\nexport const OurLibrary = styled(FlexColumn)`\r\n    background: var(--lighter-grey);\r\n    color: var(--lighter-black);\r\n    padding: 40px 0px;\r\n    text-align: center;\r\n    p:hover {\r\n        cursor: pointer;\r\n        color: var(--darker-black);\r\n    }\r\n`;\r\n\r\nexport const Section = styled(FlexRow)`\r\n    padding: 40px var(--container-padding);\r\n    div {\r\n        margin-right: 20px;\r\n    }\r\n    div :last-child {\r\n        margin-right: 0px;\r\n    }\r\n    @media (max-width: 927px) {\r\n        flex-direction: column;\r\n        div {\r\n            margin-right: 0px;\r\n        }\r\n    }\r\n`;\r\n\r\nexport const InnerSection = styled(FlexColumn)`\r\n    text-align: center;\r\n    flex: 1;\r\n    i {\r\n        font-size: 45px;\r\n        padding: 20px;\r\n        border-radius: 50%;\r\n        color: white;\r\n        background: var(--lighter-orange);\r\n        :nth-child(2) {\r\n            background: var(--lighter-blue);\r\n        }\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    @media (max-width: 927px) {\r\n        border-bottom: 1px solid var(--darker-grey);\r\n        margin-bottom: 20px;\r\n\r\n        :last-child {\r\n            border-bottom: none;\r\n            margin-bottom: 0px;\r\n        }\r\n    }\r\n`;\r\n","import Header from '../../components/Header/Header';\r\nimport Book from '../../components/Book/Book';\r\nimport FeaturedBook from '../../components/Book/FeaturedBook';\r\nimport {\r\n    PopularBooks,\r\n    OurLibrary,\r\n    InnerSection,\r\n    Section,\r\n    BooksContainer,\r\n} from '../../styles/HomeStyle';\r\nimport { useQuery } from '@apollo/client';\r\nimport { GET_RANDOM_BOOK_QUERY } from '../../lib/graphql';\r\nimport { withRouter } from 'react-router';\r\n\r\nconst Home = ({ history }) => {\r\n    const { data: popularBooksData, loading: popularBooksLoading } = useQuery(\r\n        GET_RANDOM_BOOK_QUERY,\r\n        {\r\n            variables: { limit: 4 },\r\n        }\r\n    );\r\n    const popularBooks = popularBooksData?.getRandomBooks;\r\n    const { data: featureBookData, loading: featureBookLoading } = useQuery(\r\n        GET_RANDOM_BOOK_QUERY,\r\n        {\r\n            variables: { limit: 1 },\r\n        }\r\n    );\r\n    const featureBook = featureBookData?.getRandomBooks\r\n        ? featureBookData.getRandomBooks[0]\r\n        : null;\r\n    const goToShopping = () => {\r\n        history.push('/shopping');\r\n    };\r\n    return (\r\n        <>\r\n            <Header />\r\n            <Section>\r\n                <InnerSection>\r\n                    <i className='fas fa-book-open'></i>{' '}\r\n                    <p>We stock over 2 million books for immediate delivery</p>\r\n                </InnerSection>\r\n                <InnerSection>\r\n                    <i className='fas fa-truck'></i>\r\n                    <p>2 days delivery guaranteed in more than 60 countries</p>\r\n                </InnerSection>\r\n                <InnerSection>\r\n                    <i className='fas fa-undo-alt'></i>{' '}\r\n                    <p>\r\n                        30 days return policy free of charge. No question asks!\r\n                    </p>\r\n                </InnerSection>\r\n            </Section>\r\n\r\n            <PopularBooks>\r\n                <h3>Popular Books</h3>\r\n                <BooksContainer>\r\n                    {popularBooks &&\r\n                        popularBooks.length &&\r\n                        popularBooks.map((book) => (\r\n                            <Book key={book.id} book={book} />\r\n                        ))}\r\n                </BooksContainer>\r\n            </PopularBooks>\r\n\r\n            {featureBook && <FeaturedBook book={featureBook} />}\r\n\r\n            <OurLibrary>\r\n                <h1>Browse Through Our Complete Library</h1>\r\n                <p onClick={goToShopping}>Browse Collection &rarr;</p>\r\n            </OurLibrary>\r\n\r\n            <Section>\r\n                <InnerSection>\r\n                    <i className='fas fa-book-reader'></i>\r\n                    <h3>Thousands of readers</h3>\r\n                    <p>\r\n                        More than 5000 readers has considered Bookworm their go\r\n                        to place\r\n                    </p>\r\n                </InnerSection>\r\n                <InnerSection>\r\n                    <i className='fas fa-pen-fancy'></i>{' '}\r\n                    <h3>Hundreds of Authors</h3>\r\n                    <p>\r\n                        We have books written by more than 200 best selling\r\n                        authors\r\n                    </p>\r\n                </InnerSection>\r\n                <InnerSection>\r\n                    <i className='fas fa-globe'></i>\r\n                    <h3>Worldwide operation</h3>\r\n                    <p>\r\n                        With offices all over the globe, we ensure the best\r\n                        customer service\r\n                    </p>\r\n                </InnerSection>\r\n            </Section>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default withRouter(Home);\r\n","import styled from 'styled-components';\r\nimport { FlexColumn, FlexRow } from './common/UtilStyle';\r\n\r\nexport const ShoppingStyle = styled.div`\r\n    padding: 0px var(--container-padding);\r\n    padding-top: 80px;\r\n    background: var(--lighter-grey);\r\n`;\r\n\r\nexport const MainArea = styled.div`\r\n    padding: 30px 0px 40px 0px;\r\n    display: flex;\r\n    align-items: flex-start;\r\n\r\n    @media (max-width: 1300px) {\r\n        flex-direction: column;\r\n    }\r\n`;\r\n\r\nexport const SideBars = styled.div`\r\n    flex: 1 1 0px;\r\n    width: 50%;\r\n    @media (max-width: 1300px) {\r\n        width: 100%;\r\n        display: flex;\r\n        margin-top: 40px;\r\n    }\r\n    @media (max-width: 720px) {\r\n        flex-direction: column;\r\n    }\r\n`;\r\n\r\nexport const BooksStyle = styled.div`\r\n    flex: 2 2 0px;\r\n    position: relative;\r\n    display: grid;\r\n    grid-template-columns: repeat(3, minmax(0, 1fr));\r\n    gap: 20px;\r\n    @media (max-width: 720px) {\r\n        grid-template-columns: repeat(2, minmax(0, 1fr));\r\n    }\r\n    @media (max-width: 500px) {\r\n        grid-template-columns: repeat(1, minmax(0, 1fr));\r\n    }\r\n`;\r\n\r\nexport const Card = styled.div`\r\n    padding: 30px;\r\n    h4 {\r\n        font-size: 16px;\r\n        font-weight: bold;\r\n    }\r\n    background: white;\r\n    border-radius: 8px;\r\n    margin-left: 40px;\r\n    margin-bottom: 40px;\r\n    box-shadow: 0 0 5px 0 rgb(0 0 0 / 10%);\r\n    @media (max-width: 1300px) {\r\n        width: 50%;\r\n        :first-child {\r\n            margin-left: 0px;\r\n        }\r\n    }\r\n    @media (max-width: 720px) {\r\n        width: 100%;\r\n        margin-left: 0px;\r\n    }\r\n`;\r\n\r\nexport const SmallBook = styled(FlexRow)`\r\n    justify-content: flex-start;\r\n    margin-top: 40px;\r\n    p {\r\n        margin: 0;\r\n    }\r\n    .image-wrapper {\r\n        flex: 1;\r\n        position: relative;\r\n        height: 100%;\r\n        width: 70px;\r\n        overflow: hidden;\r\n        .promotion-tag {\r\n            background: red;\r\n            font-size: 14px;\r\n            color: white;\r\n            position: absolute;\r\n            top: 0;\r\n            right: 0;\r\n            -webkit-transform: rotate(36deg) translate(174px, -87px);\r\n            -ms-transform: rotate(36deg) translate(174px, -87px);\r\n            transform: rotate(36deg) translate(189px, -114px);\r\n            text-align: center;\r\n            width: 500px;\r\n        }\r\n        img {\r\n            width: 100%;\r\n            height: 100%;\r\n        }\r\n    }\r\n    height: 100px;\r\n`;\r\n\r\nexport const BookDetails = styled(FlexColumn)`\r\n    flex: 2.5;\r\n    align-items: flex-start;\r\n    padding-left: 30px;\r\n    .book-title {\r\n        font-size: 18px;\r\n        color: var(--lighter-blue);\r\n        :hover {\r\n            text-decoration: underline;\r\n            cursor: pointer;\r\n        }\r\n    }\r\n    .book-author {\r\n        font-size: 14px;\r\n        font-style: italic;\r\n    }\r\n    .book-price {\r\n        font-size: 18px;\r\n        font-weight: bold;\r\n        .promotion {\r\n            margin-right: 5px;\r\n            color: var(--darkest-grey);\r\n            font-size: 14px;\r\n        }\r\n    }\r\n`;\r\n","import { useQuery } from '@apollo/client';\r\n\r\nimport { BooksStyle } from '../../../styles/ShoppingStyle';\r\nimport Book from '../../Book/Book';\r\nimport { FIND_BOOKS_QUERY } from '../../../lib/graphql';\r\nimport Loader from '../../Loader/Loader';\r\n\r\nconst Books = ({ match, perPage }) => {\r\n    const page = match.params.page || 1;\r\n    const { loading, data } = useQuery(FIND_BOOKS_QUERY, {\r\n        variables: {\r\n            criteria: {},\r\n            skip: (page - 1) * perPage,\r\n            limit: perPage,\r\n        },\r\n    });\r\n    const books = data?.findBooks;\r\n\r\n    return (\r\n        <BooksStyle>\r\n            {loading && <Loader />}\r\n            {books &&\r\n                books.length &&\r\n                books.map((book) => <Book key={book.id} book={book} />)}\r\n        </BooksStyle>\r\n    );\r\n};\r\n\r\nexport default Books;\r\n","import styled from 'styled-components';\r\n\r\nexport const PaginationStyle = styled.div`\r\n    margin-top: 30px;\r\n    display: flex;\r\n`;\r\n\r\nexport const PageNumber = styled.div`\r\n    background: ${(props) => (props.active ? 'var(--lighter-blue)' : 'white')};\r\n    color: ${(props) => (props.active ? 'white' : 'var(--lighter-blue)')};\r\n    border: 2px solid var(--lighter-blue);\r\n    margin-right: 10px;\r\n    padding: 5px 15px;\r\n    border-radius: 3px;\r\n    :hover {\r\n        cursor: pointer;\r\n        background: ${(props) =>\r\n            props.active ? 'var(--darker-blue)' : 'var(--lighter-grey)'};\r\n    }\r\n    @media (max-width: 720px) {\r\n        padding: 2px 5px;\r\n        margin-right: 5px;\r\n    }\r\n`;\r\n\r\nexport const PaginationArrow = styled(PageNumber)`\r\n    background: ${(props) => (props.disabled ? 'var(--darker-grey)' : 'white')};\r\n    pointer-events: ${(props) => (props.disabled ? 'none' : 'all')};\r\n`;\r\n","import { withRouter } from 'react-router';\r\nimport { useLocation } from 'react-router';\r\n\r\nimport {\r\n    PaginationArrow,\r\n    PageNumber,\r\n    PaginationStyle,\r\n} from '../../styles/PaginationStyle';\r\n\r\nconst Pagination = ({ history, perPage, bookCount }) => {\r\n    const location = useLocation();\r\n    const currentPage = location.pathname.split('shopping/')[1];\r\n    const goToPage = (page) => {\r\n        history.push('/shopping/' + page);\r\n    };\r\n\r\n    return (\r\n        <PaginationStyle>\r\n            <PaginationArrow\r\n                disabled={currentPage === '1'}\r\n                onClick={() => goToPage(parseInt(currentPage) - 1)}\r\n            >\r\n                <i className='fas fa-chevron-left'></i>\r\n            </PaginationArrow>\r\n            <PageNumber active>{currentPage}</PageNumber>\r\n            <PageNumber>...</PageNumber>\r\n            <PaginationArrow\r\n                disabled={\r\n                    parseInt(bookCount) <=\r\n                    parseInt(currentPage) * parseInt(perPage)\r\n                }\r\n                onClick={() => goToPage(parseInt(currentPage) + 1)}\r\n            >\r\n                <i className='fas fa-chevron-right'></i>\r\n            </PaginationArrow>\r\n        </PaginationStyle>\r\n    );\r\n};\r\n\r\nexport default withRouter(Pagination);\r\n","import { withRouter } from 'react-router';\r\nimport { SmallBook, BookDetails } from '../../../styles/ShoppingStyle';\r\n\r\nconst SmallBooks = ({ books, history }) => {\r\n    const goToBook = (id) => {\r\n        history.push('/book/' + id);\r\n    };\r\n    return (\r\n        <>\r\n            {books &&\r\n                books.length &&\r\n                books.map(({ id, image, title, author, price, promotion }) => {\r\n                    const realPrice = promotion\r\n                        ? (price * (100 - promotion)) / 100\r\n                        : price;\r\n\r\n                    return (\r\n                        <SmallBook key={id}>\r\n                            <div className='image-wrapper'>\r\n                                {promotion != 0 && (\r\n                                    <span className='promotion-tag'>\r\n                                        SALE {promotion}%\r\n                                    </span>\r\n                                )}\r\n                                <img src={image} alt='' />\r\n                            </div>\r\n                            <BookDetails>\r\n                                <p\r\n                                    className='book-title'\r\n                                    onClick={() => goToBook(id)}\r\n                                >\r\n                                    {title}\r\n                                </p>\r\n                                <p className='book-author'>{author}</p>\r\n                                <p className='book-price'>\r\n                                    {promotion !== 0 && (\r\n                                        <strike className='promotion'>\r\n                                            ${price.toFixed(2)}\r\n                                        </strike>\r\n                                    )}\r\n                                    ${realPrice.toFixed(2)}\r\n                                </p>\r\n                            </BookDetails>\r\n                        </SmallBook>\r\n                    );\r\n                })}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default withRouter(SmallBooks);\r\n","import { Route } from 'react-router';\r\nimport { useQuery } from '@apollo/client';\r\n\r\nimport Books from '../../components/Shopping/Books/Books';\r\nimport {\r\n    ShoppingStyle,\r\n    Card,\r\n    MainArea,\r\n    SideBars,\r\n} from '../../styles/ShoppingStyle';\r\nimport Pagination from '../../components/Pagination/Pagination';\r\nimport SmallBooks from '../../components/Shopping/SmallBooks/SmallBooks';\r\nimport {\r\n    GET_BOOK_PAGINATION_META_QUERY,\r\n    GET_DISCOUNTED_BOOKS,\r\n    GET_RANDOM_BOOK_QUERY,\r\n} from '../../lib/graphql';\r\nimport Loader from '../../components/Loader/Loader';\r\n\r\nconst Shopping = ({ match }) => {\r\n    const { data: relatedBooksData, loading: relatedBooksLoading } = useQuery(\r\n        GET_RANDOM_BOOK_QUERY,\r\n        {\r\n            variables: { limit: 4 },\r\n        }\r\n    );\r\n    const relatedBooks = relatedBooksData?.getRandomBooks;\r\n    const { data: discountBooksData, loading: discountBooksLoading } = useQuery(\r\n        GET_DISCOUNTED_BOOKS,\r\n        {\r\n            variables: { limit: 3 },\r\n        }\r\n    );\r\n    const discountBooks = discountBooksData?.getDiscountedBooks;\r\n\r\n    const perPage = 9;\r\n\r\n    const { data, loading, error } = useQuery(GET_BOOK_PAGINATION_META_QUERY);\r\n\r\n    if (error) {\r\n        return <h1>Something went wrong. Please try again later</h1>;\r\n    }\r\n\r\n    return loading ? (\r\n        <Loader />\r\n    ) : (\r\n        <>\r\n            <ShoppingStyle>\r\n                <Pagination\r\n                    perPage={perPage}\r\n                    bookCount={data.getBookPaginationMeta.count}\r\n                />\r\n                <MainArea>\r\n                    <Route\r\n                        path={`${match.path}/:page`}\r\n                        render={(props) => (\r\n                            <Books perPage={perPage} {...props} />\r\n                        )}\r\n                    />\r\n                    <SideBars>\r\n                        <Card>\r\n                            <h4>RELATED PRODUCTS</h4>\r\n                            {relatedBooks && relatedBooks.length > 0 && (\r\n                                <SmallBooks books={relatedBooks} />\r\n                            )}\r\n                        </Card>\r\n                        <Card>\r\n                            <h4>PROMOTION</h4>\r\n                            {discountBooks && discountBooks.length > 0 && (\r\n                                <SmallBooks books={discountBooks} />\r\n                            )}\r\n                        </Card>\r\n                    </SideBars>\r\n                </MainArea>\r\n            </ShoppingStyle>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Shopping;\r\n","export default __webpack_public_path__ + \"static/media/sell_image.834d5ff0.jpg\";","import styled, { keyframes } from 'styled-components';\r\nimport { FlexRow, FlexColumn } from './common/UtilStyle';\r\n\r\nconst loading = keyframes`\r\n  from {\r\n    background-position: 0 0;\r\n    /* rotate: 0; */\r\n  }\r\n\r\n  to {\r\n    background-position: 100% 100%;\r\n    /* rotate: 360deg; */\r\n  }\r\n`;\r\n\r\nexport const SellStyle = styled(FlexRow)`\r\n    margin-top: 80px;\r\n    padding: 40px var(--container-padding);\r\n    .side-img {\r\n        width: 33.33%;\r\n    }\r\n    background: var(--lighter-grey);\r\n    @media (max-width: 1180px) {\r\n        .side-img {\r\n            display: none;\r\n        }\r\n    }\r\n`;\r\n\r\nexport const Form = styled.form`\r\n    width: 66.67%;\r\n\r\n    fieldset {\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        background: white;\r\n        box-shadow: 0 0 5px 0 rgb(0 0 0 / 10%);\r\n        margin-left: 50px;\r\n        padding: 30px 40px;\r\n        border-radius: 8px;\r\n        text-align: center;\r\n\r\n        h2 {\r\n            font-weight: bold;\r\n            margin-bottom: 20px;\r\n        }\r\n\r\n        input,\r\n        textarea,\r\n        .custom-file-upload {\r\n            margin-top: 10px;\r\n            width: 100%;\r\n            font-size: 20px;\r\n            border-radius: 5px;\r\n            padding: 5px 15px;\r\n            border: 1px solid var(--darker-grey);\r\n            :focus {\r\n                outline: none;\r\n                border: 1px solid var(--lighter-blue);\r\n            }\r\n        }\r\n\r\n        input[type='file'] {\r\n            display: none;\r\n        }\r\n        .custom-file-upload {\r\n            text-align: center;\r\n            margin-bottom: 0px;\r\n            i {\r\n                color: var(--lighter-blue);\r\n            }\r\n            :hover {\r\n                cursor: pointer;\r\n                background: var(--lighter-grey);\r\n            }\r\n        }\r\n\r\n        button {\r\n            margin-top: 40px;\r\n            background: var(--lighter-blue);\r\n            color: white;\r\n            padding: 5px 20px;\r\n            width: 100%;\r\n            border: 1px solid var(--lighter-blue);\r\n            border-radius: 5px;\r\n            :hover {\r\n                background: var(--darker-blue);\r\n            }\r\n        }\r\n\r\n        p {\r\n            margin-top: 20px;\r\n            font-size: 16px;\r\n            a {\r\n                color: var(--darker-blue);\r\n            }\r\n        }\r\n\r\n        &[disabled] {\r\n            opacity: 0.5;\r\n        }\r\n        &::before {\r\n            height: 10px;\r\n            display: block;\r\n            background-image: linear-gradient(\r\n                to right,\r\n                #24b6c8 0%,\r\n                #ffffff 50%,\r\n                #24b6c8 100%\r\n            );\r\n        }\r\n        &[aria-busy='true']::before {\r\n            transform: translateY(-10px);\r\n            content: '';\r\n            width: 100%;\r\n            background-size: 50% auto;\r\n            animation: ${loading} 0.5s linear infinite;\r\n        }\r\n\r\n        @media (max-width: 1180px) {\r\n            width: 100%;\r\n            margin-left: 0px;\r\n        }\r\n    }\r\n`;\r\n\r\nexport const Column = styled(FlexColumn)`\r\n    width: 50%;\r\n    @media (max-width: 720px) {\r\n        width: 100%;\r\n    }\r\n`;\r\n\r\nexport const Row = styled(FlexRow)`\r\n    width: 100%;\r\n    .left {\r\n        margin-right: 20px;\r\n    }\r\n    @media (max-width: 720px) {\r\n        flex-direction: column;\r\n        .left {\r\n            margin-right: 0px;\r\n        }\r\n    }\r\n`;\r\n","import { useEffect, useState } from 'react';\r\n\r\nexport default function useForm(initial = {}) {\r\n    const [form, setInputs] = useState(initial);\r\n    const initialValues = Object.values(initial).join('');\r\n\r\n    useEffect(() => {\r\n        // This function runs when the things we are watching change\r\n        setInputs(initial);\r\n    }, [initialValues]);\r\n\r\n    function handleChange(e) {\r\n        let { value, name, type } = e.target;\r\n        if (type === 'number') {\r\n            value = parseFloat(value);\r\n        }\r\n        if (type === 'file') {\r\n            [value] = e.target.files;\r\n        }\r\n        setInputs({\r\n            ...form,\r\n            [name]: value,\r\n        });\r\n    }\r\n\r\n    function resetForm() {\r\n        setInputs(initial);\r\n    }\r\n\r\n    function clearForm() {\r\n        const blankState = Object.fromEntries(\r\n            Object.entries(form).map(([key, value]) => [key, ''])\r\n        );\r\n        setInputs(blankState);\r\n    }\r\n\r\n    return {\r\n        form,\r\n        handleChange,\r\n        resetForm,\r\n        clearForm,\r\n    };\r\n}\r\n","import { useMutation } from '@apollo/client';\r\nimport alertify from 'alertifyjs';\r\nimport { useState } from 'react';\r\n\r\nimport image from '../../assets/images/sell_image.jpg';\r\nimport { Column, Form, Row, SellStyle } from '../../styles/SellStyle';\r\nimport useForm from '../../lib/useForm';\r\nimport { toDataURL, isImageValid } from '../../lib/util';\r\nimport { cacheUpdateAddBook, ADD_BOOK_MUTATION } from '../../lib/graphql';\r\n\r\nconst Sell = () => {\r\n    const { form, handleChange, clearForm } = useForm({\r\n        title: '',\r\n        subtitle: '',\r\n        author: '',\r\n        description: '',\r\n        shortDescription: '',\r\n        price: '',\r\n        promotion: '',\r\n        image: '',\r\n    });\r\n\r\n    const [state, setState] = useState({ imageName: '' });\r\n\r\n    const [addBook, { loading }] = useMutation(ADD_BOOK_MUTATION, {\r\n        update(cache, result) {\r\n            clearForm();\r\n            alertify.success('Book added successfully');\r\n            cacheUpdateAddBook(cache, result);\r\n        },\r\n    });\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (form.price) {\r\n            form.price = parseFloat(form.price);\r\n        }\r\n        if (form.promotion) {\r\n            form.promotion = parseFloat(form.promotion);\r\n        }\r\n        const formToSubmit = { ...form };\r\n\r\n        if (form.image && form.image !== '') {\r\n            try {\r\n                toDataURL(form.image).then((base64Image) => {\r\n                    formToSubmit.image = base64Image;\r\n                    addBook({ variables: formToSubmit });\r\n                });\r\n            } catch (error) {\r\n                throw new Error(error);\r\n            }\r\n        } else {\r\n            alertify.error('Please choose an image for this book');\r\n        }\r\n    };\r\n\r\n    const onPickImage = (e) => {\r\n        if (isImageValid(e?.target?.files[0])) {\r\n            setState({ imageName: e?.target?.files[0]?.name });\r\n            handleChange(e);\r\n        } else {\r\n            alertify.error(\r\n                'Please choose an image file. Accepted extensions are jpeg, jpg, png, bmp and gif'\r\n            );\r\n            setState({ imageName: 'Upload Image *' });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <SellStyle>\r\n                <div className='side-img'>\r\n                    <img src={image} alt='' />\r\n                </div>\r\n                <Form onSubmit={onSubmit}>\r\n                    <fieldset disabled={loading} aria-busy={loading}>\r\n                        <h2>Add new product</h2>\r\n                        <Row>\r\n                            <Column className='left'>\r\n                                <input\r\n                                    type='text'\r\n                                    placeholder='Title *'\r\n                                    name='title'\r\n                                    value={form.title}\r\n                                    onChange={handleChange}\r\n                                    required\r\n                                />\r\n                                <input\r\n                                    type='text'\r\n                                    placeholder='Subtitle'\r\n                                    name='subtitle'\r\n                                    value={form.subtitle}\r\n                                    onChange={handleChange}\r\n                                />\r\n                                <input\r\n                                    type='text'\r\n                                    placeholder='Author *'\r\n                                    name='author'\r\n                                    value={form.author}\r\n                                    onChange={handleChange}\r\n                                    required\r\n                                />\r\n                            </Column>\r\n                            <Column className='right'>\r\n                                <input\r\n                                    type='number'\r\n                                    step='0.01'\r\n                                    min='0'\r\n                                    max='100'\r\n                                    placeholder='Price *'\r\n                                    name='price'\r\n                                    value={form.price}\r\n                                    onChange={handleChange}\r\n                                    required\r\n                                />\r\n                                <input\r\n                                    type='number'\r\n                                    min='0'\r\n                                    max='100'\r\n                                    placeholder='Promotion (%) *'\r\n                                    name='promotion'\r\n                                    value={form.promotion}\r\n                                    onChange={handleChange}\r\n                                    required\r\n                                />\r\n                                <textarea\r\n                                    placeholder='Short description *'\r\n                                    rows='1'\r\n                                    name='shortDescription'\r\n                                    value={form.shortDescription}\r\n                                    onChange={handleChange}\r\n                                    required\r\n                                />\r\n                            </Column>\r\n                        </Row>\r\n\r\n                        <textarea\r\n                            placeholder='Description *'\r\n                            rows='3'\r\n                            name='description'\r\n                            value={form.description}\r\n                            onChange={handleChange}\r\n                            required\r\n                        />\r\n                        <label className='custom-file-upload'>\r\n                            <input\r\n                                type='file'\r\n                                name='image'\r\n                                onChange={onPickImage}\r\n                                required\r\n                            />\r\n                            <i className='fa fa-cloud-upload'></i>{' '}\r\n                            {!state.imageName\r\n                                ? 'Upload Image *'\r\n                                : state.imageName}\r\n                        </label>\r\n\r\n                        <button type='submit'>+ Add product</button>\r\n                    </fieldset>\r\n                </Form>\r\n            </SellStyle>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Sell;\r\n","export default __webpack_public_path__ + \"static/media/account_background.43e6ef4c.jpg\";","import styled, { keyframes } from 'styled-components';\r\nimport { FlexRow } from './UtilStyle';\r\n\r\nexport const FormPageStyle = styled(FlexRow)`\r\n    min-height: 100vh;\r\n`;\r\n\r\nconst loading = keyframes`\r\n  from {\r\n    background-position: 0 0;\r\n    /* rotate: 0; */\r\n  }\r\n\r\n  to {\r\n    background-position: 100% 100%;\r\n    /* rotate: 360deg; */\r\n  }\r\n`;\r\n\r\nexport const Form = styled.form`\r\n    fieldset {\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        background: white;\r\n        padding: 30px 40px;\r\n        margin-top: 100px;\r\n        margin-bottom: 20px;\r\n        border-radius: 8px;\r\n        h2 {\r\n            font-weight: bold;\r\n        }\r\n        input {\r\n            margin-top: 10px;\r\n            font-size: 20px;\r\n            width: 350px;\r\n            border-radius: 5px;\r\n            padding: 5px 15px;\r\n            border: 1px solid var(--darker-grey);\r\n            :focus {\r\n                outline: none;\r\n                border: 1px solid var(--lighter-blue);\r\n            }\r\n        }\r\n\r\n        button {\r\n            margin-top: 20px;\r\n            background: var(--lighter-blue);\r\n            color: white;\r\n            padding: 5px 20px;\r\n            width: 100%;\r\n            border: 1px solid var(--lighter-blue);\r\n            border-radius: 5px;\r\n            :hover {\r\n                background: var(--darker-blue);\r\n            }\r\n        }\r\n\r\n        p {\r\n            margin-top: 20px;\r\n            font-size: 16px;\r\n            a {\r\n                color: var(--darker-blue);\r\n            }\r\n        }\r\n\r\n        &[disabled] {\r\n            opacity: 0.5;\r\n        }\r\n        &::before {\r\n            height: 10px;\r\n            display: block;\r\n            background-image: linear-gradient(\r\n                to right,\r\n                #24b6c8 0%,\r\n                #ffffff 50%,\r\n                #24b6c8 100%\r\n            );\r\n        }\r\n        &[aria-busy='true']::before {\r\n            transform: translateY(-10px);\r\n            content: '';\r\n            width: 100%;\r\n            background-size: 50% auto;\r\n            animation: ${loading} 0.5s linear infinite;\r\n        }\r\n\r\n        .info {\r\n            margin: 0;\r\n            color: var(--lighter-orange);\r\n        }\r\n\r\n        @media (max-width: 720px) {\r\n            input {\r\n                width: 250px;\r\n            }\r\n        }\r\n        @media (max-width: 460px) {\r\n            padding: 20px 30px;\r\n            input {\r\n                width: 200px;\r\n            }\r\n            p {\r\n                font-size: 12px;\r\n            }\r\n        }\r\n    }\r\n`;\r\n","import styled from 'styled-components';\r\nimport { useMutation } from '@apollo/client';\r\nimport alertify from 'alertifyjs';\r\n\r\nimport backgroundImage from '../../assets/images/account_background.jpg';\r\nimport { FormPageStyle, Form } from '../../styles/common/FormPageStyle';\r\nimport useForm from '../../lib/useForm';\r\nimport { UPDATE_USER_MUTATION, cacheUpdateUpdateUser } from '../../lib/graphql';\r\nimport { useUser } from '../../lib/util';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst AccountStyle = styled(FormPageStyle)`\r\n    background: url(${backgroundImage}) no-repeat center/cover;\r\n`;\r\n\r\nconst Account = () => {\r\n    const me = useUser();\r\n\r\n    const { form, handleChange } = useForm(\r\n        me\r\n            ? {\r\n                  username: me.username,\r\n                  email: me.email,\r\n                  oldPassword: '',\r\n                  newPassword: '',\r\n              }\r\n            : {\r\n                  username: '',\r\n                  email: '',\r\n                  oldPassword: '',\r\n                  newPassword: '',\r\n              }\r\n    );\r\n\r\n    const [updateUser, { loading, error }] = useMutation(UPDATE_USER_MUTATION, {\r\n        variables: {\r\n            username: form.username,\r\n            oldPassword: form.oldPassword,\r\n            newPassword: form.newPassword,\r\n        },\r\n        update(cache, result) {\r\n            alertify.success('Update profile successully');\r\n            cacheUpdateUpdateUser(cache, result);\r\n        },\r\n    });\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        await updateUser();\r\n    };\r\n    return (\r\n        <>\r\n            <AccountStyle>\r\n                <Form onSubmit={onSubmit}>\r\n                    <fieldset disabled={loading} aria-busy={loading}>\r\n                        <h2>Edit Your Info</h2>\r\n                        <input\r\n                            type='text'\r\n                            placeholder='Username'\r\n                            name='username'\r\n                            value={form.username}\r\n                            onChange={handleChange}\r\n                            required\r\n                        />\r\n                        <input\r\n                            type='text'\r\n                            placeholder='Email'\r\n                            name='email'\r\n                            value={form.email}\r\n                            onChange={handleChange}\r\n                            disabled\r\n                        />\r\n                        <input\r\n                            type='password'\r\n                            placeholder='Re-enter password *'\r\n                            name='oldPassword'\r\n                            value={form.oldPassword}\r\n                            onChange={handleChange}\r\n                            required\r\n                        />\r\n                        <input\r\n                            type='password'\r\n                            placeholder='New password'\r\n                            name='newPassword'\r\n                            value={form.newPassword}\r\n                            onChange={handleChange}\r\n                        />\r\n                        <button type='submit'>Update info</button>\r\n                        <p>\r\n                            Came here by mistake?{' '}\r\n                            <Link to='/shopping'>Go back to shopping</Link>\r\n                        </p>\r\n                    </fieldset>\r\n                </Form>\r\n            </AccountStyle>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Account;\r\n","export default __webpack_public_path__ + \"static/media/login_background.2d7c4679.jpg\";","import { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { useMutation } from '@apollo/client';\r\nimport { Redirect, withRouter } from 'react-router';\r\nimport alertify from 'alertifyjs';\r\n\r\nimport backgroundImage from '../../assets/images/login_background.jpg';\r\nimport { Form, FormPageStyle } from '../../styles/common/FormPageStyle';\r\nimport useForm from '../../lib/useForm';\r\nimport { cacheUpdateLogin, LOGIN_MUTATION } from '../../lib/graphql';\r\nimport { useUser } from '../../lib/util';\r\n\r\nconst LoginStyle = styled(FormPageStyle)`\r\n    background: url(${backgroundImage}) no-repeat center/cover;\r\n`;\r\n\r\nconst Login = ({ history }) => {\r\n    const { form, handleChange } = useForm({\r\n        email: 'user1@gmail.com',\r\n        password: '123456',\r\n    });\r\n\r\n    const [login, { loading, error }] = useMutation(LOGIN_MUTATION, {\r\n        update(cache, result) {\r\n            cacheUpdateLogin(cache, result);\r\n            alertify.success('Logged in sucessfully');\r\n            history.push('/shopping');\r\n        },\r\n    });\r\n\r\n    const me = useUser();\r\n    const isLoggedIn = me != null;\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        login({ variables: form });\r\n    };\r\n\r\n    return isLoggedIn ? (\r\n        <Redirect to='/shopping' />\r\n    ) : (\r\n        <>\r\n            <LoginStyle>\r\n                <Form onSubmit={onSubmit}>\r\n                    <fieldset disabled={loading} aria-busy={loading}>\r\n                        <h2>Login</h2>\r\n                        <p class='info'>\r\n                            You can use this testing account or create your own\r\n                        </p>\r\n                        <input\r\n                            type='text'\r\n                            placeholder='Email'\r\n                            name='email'\r\n                            value={form.email}\r\n                            onChange={handleChange}\r\n                            required\r\n                        />\r\n                        <input\r\n                            type='password'\r\n                            placeholder='Password'\r\n                            name='password'\r\n                            value={form.password}\r\n                            onChange={handleChange}\r\n                            required\r\n                        />\r\n                        <button type='submit'>Login</button>\r\n                        <p>\r\n                            New to this website?{' '}\r\n                            <Link to='/register'>Register here</Link>\r\n                        </p>\r\n                    </fieldset>\r\n                </Form>\r\n            </LoginStyle>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default withRouter(Login);\r\n","export default __webpack_public_path__ + \"static/media/register_background.6264653b.jpg\";","import styled from 'styled-components';\r\nimport { useMutation } from '@apollo/client';\r\nimport alertify from 'alertifyjs';\r\nimport { Redirect, withRouter } from 'react-router';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport backgroundImage from '../../assets/images/register_background.jpg';\r\nimport { Form, FormPageStyle } from '../../styles/common/FormPageStyle';\r\nimport useForm from '../../lib/useForm';\r\nimport { useUser } from '../../lib/util';\r\nimport { REGISTER_USER_MUTATION, cacheUpdateRegister } from '../../lib/graphql';\r\n\r\nconst RegisterStyle = styled(FormPageStyle)`\r\n    background: url(${backgroundImage}) no-repeat center/cover;\r\n`;\r\n\r\nconst Register = ({ history }) => {\r\n    const { form, handleChange } = useForm({\r\n        username: '',\r\n        email: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n        avatar: '',\r\n    });\r\n\r\n    const [register, { loading }] = useMutation(REGISTER_USER_MUTATION, {\r\n        update(cache, result) {\r\n            cacheUpdateRegister(cache, result);\r\n            alertify.success('Registered sucessfully');\r\n            history.push('/shopping');\r\n        },\r\n    });\r\n\r\n    const me = useUser();\r\n    const isLoggedIn = me != null;\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const formToSubmit = { ...form };\r\n        delete formToSubmit.confirmPassword;\r\n\r\n        register({ variables: formToSubmit });\r\n    };\r\n\r\n    return isLoggedIn ? (\r\n        <Redirect to='/shopping' />\r\n    ) : (\r\n        <>\r\n            <RegisterStyle>\r\n                <Form onSubmit={onSubmit}>\r\n                    <fieldset disabled={loading} aria-busy={loading}>\r\n                        <h2>Create Account</h2>\r\n                        <input\r\n                            type='text'\r\n                            placeholder='Username'\r\n                            value={form.username}\r\n                            name='username'\r\n                            onChange={handleChange}\r\n                            required\r\n                        />\r\n                        <input\r\n                            type='email'\r\n                            placeholder='Email'\r\n                            value={form.email}\r\n                            name='email'\r\n                            onChange={handleChange}\r\n                            required\r\n                        />\r\n                        <input\r\n                            type='password'\r\n                            placeholder='Password'\r\n                            value={form.password}\r\n                            name='password'\r\n                            onChange={handleChange}\r\n                            required\r\n                        />\r\n                        <input\r\n                            type='password'\r\n                            placeholder='Confirm password'\r\n                            value={form.confirmPassword}\r\n                            name='confirmPassword'\r\n                            onChange={handleChange}\r\n                            required\r\n                        />\r\n                        <button type='submit'>Sign up</button>\r\n                        <p>\r\n                            Already have an account?{' '}\r\n                            <Link to='/login'>Login here</Link>\r\n                        </p>\r\n                    </fieldset>\r\n                </Form>\r\n            </RegisterStyle>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default withRouter(Register);\r\n","import styled from 'styled-components';\r\nimport { FlexColumn, FlexRow } from './common/UtilStyle';\r\n\r\nexport const Wrapper = styled.div`\r\n    padding-top: 80px;\r\n    min-height: 100vh;\r\n    h1 {\r\n        margin-bottom: 20px;\r\n    }\r\n`;\r\n\r\nexport const Container = styled.div`\r\n    margin-top: 20px;\r\n    padding: 0px var(--container-padding);\r\n`;\r\n\r\nexport const OrderStyle = styled(FlexColumn)`\r\n    align-items: flex-start;\r\n    border: 1px solid var(--darker-grey);\r\n    border-radius: 5px;\r\n    width: 100%;\r\n    margin-bottom: 20px;\r\n\r\n    :last-child {\r\n        margin-bottom: 60px;\r\n    }\r\n\r\n    .top {\r\n        width: 100%;\r\n        background: var(--lighter-grey);\r\n        padding: 20px;\r\n        .inner {\r\n            display: flex;\r\n        }\r\n        p {\r\n            margin: 0;\r\n        }\r\n        .info-group {\r\n            margin-right: 20px;\r\n        }\r\n    }\r\n\r\n    .bottom {\r\n        padding: 20px;\r\n    }\r\n`;\r\n\r\nexport const OrderItemStyle = styled(FlexRow)`\r\n    justify-content: flex-start;\r\n    margin-top: 10px;\r\n    img {\r\n        width: 150px;\r\n    }\r\n    p {\r\n        margin: 0;\r\n    }\r\n    .item-info {\r\n        margin-left: 15px;\r\n        .book-title {\r\n            color: var(--lighter-blue);\r\n            :hover {\r\n                cursor: pointer;\r\n                text-decoration: underline;\r\n            }\r\n        }\r\n        .book-info {\r\n            font-style: italic;\r\n            font-size: 16px;\r\n        }\r\n    }\r\n`;\r\n","import { withRouter } from 'react-router';\r\nimport { OrderItemStyle } from '../../../styles/OrdersStyle';\r\n\r\nconst OrderItem = ({\r\n    orderItem: {\r\n        quantity,\r\n        pricePerItem,\r\n        book: { id, title, author, image },\r\n    },\r\n    history,\r\n}) => {\r\n    const goToBook = () => {\r\n        history.push('/book/' + id);\r\n    };\r\n    return (\r\n        <OrderItemStyle>\r\n            <img src={image} alt='' />\r\n            <div className='item-info'>\r\n                <p className='book-title' onClick={goToBook}>\r\n                    {title}\r\n                </p>\r\n                <p className='book-info'>{author}</p>\r\n                <p className='book-info'>Price: ${pricePerItem.toFixed(2)}</p>\r\n                <p className='book-info'>Quantity: {quantity}</p>\r\n                <p className='book-info'>\r\n                    Subtotal: ${(quantity * pricePerItem).toFixed(2)}\r\n                </p>\r\n            </div>\r\n        </OrderItemStyle>\r\n    );\r\n};\r\n\r\nexport default withRouter(OrderItem);\r\n","import { epochToFormattedDate } from '../../lib/util';\r\nimport { OrderStyle } from '../../styles/OrdersStyle';\r\nimport OrderItem from './OrderItem/OrderItem';\r\n\r\nconst Order = ({ order: { orderItems, createdAt } }) => {\r\n    const total = orderItems.reduce(\r\n        (sum, item) => sum + item.quantity * item.pricePerItem,\r\n        0\r\n    );\r\n    return (\r\n        <OrderStyle>\r\n            <div className='top'>\r\n                <div className='inner'>\r\n                    <div className='info-group'>\r\n                        <p>Purchase date</p>\r\n                        <p>{epochToFormattedDate(createdAt)}</p>\r\n                    </div>\r\n                    <div className='info-group'>\r\n                        <p>Total</p>\r\n                        <p>${total.toFixed(2)}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='bottom'>\r\n                {orderItems &&\r\n                    orderItems.length &&\r\n                    orderItems.map((item) => (\r\n                        <OrderItem key={item.book.id} orderItem={item} />\r\n                    ))}\r\n            </div>\r\n        </OrderStyle>\r\n    );\r\n};\r\n\r\nexport default Order;\r\n","import { useQuery } from '@apollo/client';\r\n\r\nimport Order from '../../components/Order/Order';\r\nimport { Wrapper, Container } from '../../styles/OrdersStyle';\r\nimport { GET_ORDERS_QUERY } from '../../lib/graphql';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Loader from '../../components/Loader/Loader';\r\n\r\nconst NoOrderWrapper = styled.div`\r\n    .link {\r\n        color: var(--lighter-blue);\r\n    }\r\n`;\r\n\r\nconst Orders = () => {\r\n    const { data, loading, error } = useQuery(GET_ORDERS_QUERY);\r\n    const orders = data?.getMe?.orders;\r\n\r\n    return loading ? (\r\n        <Loader />\r\n    ) : (\r\n        <>\r\n            <Wrapper>\r\n                <Container>\r\n                    <h1>Your orders</h1>\r\n                    {orders &&\r\n                        orders.length > 0 &&\r\n                        orders.map((order) => (\r\n                            <Order key={order.id} order={order} />\r\n                        ))}\r\n                    {orders && orders.length === 0 && (\r\n                        <NoOrderWrapper>\r\n                            <p>\r\n                                You don't have any order.{' '}\r\n                                <Link className='link' to={'/shopping'}>\r\n                                    Shop now\r\n                                </Link>\r\n                            </p>\r\n                        </NoOrderWrapper>\r\n                    )}\r\n                </Container>\r\n            </Wrapper>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Orders;\r\n","import styled from 'styled-components';\r\n\r\nimport { FlexColumn, FlexRow } from './common/UtilStyle';\r\n\r\nexport const BookPageStyle = styled.div`\r\n    padding-top: 80px;\r\n    white-space: pre-wrap;\r\n`;\r\n\r\nexport const Container = styled.div`\r\n    background: var(--lighter-grey);\r\n    padding: 40px var(--container-padding);\r\n`;\r\n\r\nexport const Showcase = styled.div`\r\n    background: white;\r\n    padding: 60px;\r\n    border-radius: 8px;\r\n`;\r\n\r\nexport const ShowcaseTop = styled(FlexRow)`\r\n    img {\r\n        flex: 1 1 0px;\r\n    }\r\n    @media (max-width: 1096px) {\r\n        flex-direction: column-reverse;\r\n    }\r\n`;\r\n\r\nexport const ShowcaseInfo = styled(FlexColumn)`\r\n    flex: 3 3 0px;\r\n    padding: 10px 0px;\r\n    align-self: stretch;\r\n    margin-left: 40px;\r\n    justify-content: flex-start;\r\n    align-items: flex-start;\r\n    h1 {\r\n        margin: 0;\r\n    }\r\n    .book-author {\r\n        font-style: italic;\r\n    }\r\n    @media (max-width: 1096px) {\r\n        margin: 0;\r\n    }\r\n`;\r\n\r\nexport const ImageContainer = styled.div`\r\n    width: 33.33%;\r\n    position: relative;\r\n    overflow: hidden;\r\n    .promotion-tag {\r\n        background: red;\r\n        color: white;\r\n        position: absolute;\r\n        top: 0;\r\n        right: 0;\r\n        padding: 3px 70px;\r\n        transform: rotate(36deg) translate(174px, -87px);\r\n        text-align: center;\r\n        width: 500px;\r\n    }\r\n    img {\r\n        width: 100%;\r\n    }\r\n    @media (max-width: 1096px) {\r\n        width: 80%;\r\n        margin-top: 20px;\r\n    }\r\n    @media (max-width: 720px) {\r\n        width: 100%;\r\n    }\r\n`;\r\n\r\nexport const PriceBox = styled(FlexColumn)`\r\n    justify-content: flex-start;\r\n    margin-top: 20px;\r\n    border: 2px solid var(--darker-grey);\r\n    border-top-left-radius: 12px;\r\n    border-top-right-radius: 12px;\r\n    border-bottom-left-radius: 8px;\r\n    border-bottom-right-radius: 8px;\r\n    .top {\r\n        padding: 10px 80px;\r\n        background: var(--lighter-grey);\r\n        .promotion {\r\n            margin-right: 5px;\r\n            color: var(--darkest-grey);\r\n            font-size: 18px;\r\n        }\r\n    }\r\n    .bottom {\r\n        padding: 10px 20px;\r\n        display: flex;\r\n        input {\r\n            padding: 10px;\r\n            width: 70px;\r\n            margin-right: 10px;\r\n            border-radius: 5px;\r\n        }\r\n        button {\r\n            padding: 0px 20px;\r\n            background: var(--darker-black);\r\n            color: white;\r\n            border-radius: 50px;\r\n            :hover {\r\n                background: var(--lighter-black);\r\n            }\r\n        }\r\n    }\r\n    @media (max-width: 572px) {\r\n        .top {\r\n            padding: 10px 80px;\r\n        }\r\n        .bottom {\r\n            input {\r\n                padding: 5px;\r\n                width: 30px;\r\n            }\r\n        }\r\n        button {\r\n            content: 'Add';\r\n        }\r\n    }\r\n`;\r\n\r\nexport const Description = styled.div`\r\n    margin-top: 30px;\r\n    h2::after {\r\n        content: '';\r\n        margin-top: 10px;\r\n        display: block;\r\n        border: dashed 1px var(--darker-grey);\r\n    }\r\n`;\r\n\r\nexport const RelatedBooks = styled(FlexColumn)`\r\n    padding: 40px var(--container-padding);\r\n    background: var(--lighter-grey);\r\n    div {\r\n        margin-right: 20px;\r\n    }\r\n    div :last-child {\r\n        margin-right: 0px;\r\n    }\r\n    h3 {\r\n        margin-bottom: 15px;\r\n    }\r\n    @media (max-width: 927px) {\r\n        margin-right: 0px;\r\n        div {\r\n            margin-right: 0px;\r\n        }\r\n    }\r\n`;\r\n\r\nexport const BooksContainer = styled(FlexRow)`\r\n    @media (max-width: 927px) {\r\n        flex-direction: column;\r\n        > div {\r\n            margin-bottom: 10px;\r\n        }\r\n    }\r\n    > div {\r\n        flex: 1;\r\n    }\r\n    align-items: stretch;\r\n`;\r\n","import { useParams, withRouter } from 'react-router';\r\nimport { useQuery, useMutation } from '@apollo/client';\r\nimport alertify from 'alertifyjs';\r\n\r\nimport BookComponent from '../../components/Book/Book';\r\nimport {\r\n    BookPageStyle,\r\n    BooksContainer,\r\n    Container,\r\n    Description,\r\n    PriceBox,\r\n    RelatedBooks,\r\n    Showcase,\r\n    ShowcaseInfo,\r\n    ShowcaseTop,\r\n    ImageContainer,\r\n} from '../../styles/BookPageStyle';\r\nimport {\r\n    ADD_TO_CART_MUTATION,\r\n    GET_RANDOM_BOOK_QUERY,\r\n    SINGLE_BOOK_QUERY,\r\n    cacheUpdateAddToCart,\r\n} from '../../lib/graphql';\r\nimport { useUser } from '../../lib/util';\r\nimport Loader from '../../components/Loader/Loader';\r\n\r\nconst Book = ({ history }) => {\r\n    const { id } = useParams();\r\n    const user = useUser();\r\n    const isLoggedIn = user != null;\r\n\r\n    const [addToCart, { addToCartLoading }] = useMutation(\r\n        ADD_TO_CART_MUTATION,\r\n        {\r\n            variables: {\r\n                bookId: id,\r\n            },\r\n            update(cache, payload) {\r\n                alertify.success('Added to cart');\r\n                cacheUpdateAddToCart(cache, payload);\r\n            },\r\n        }\r\n    );\r\n\r\n    const onAddToCart = () => {\r\n        if (!isLoggedIn) {\r\n            alertify.error('Please log in first');\r\n            history.push('/login');\r\n        } else {\r\n            addToCart();\r\n        }\r\n    };\r\n\r\n    const goToEditBook = () => {\r\n        history.push('/edit/book/' + id);\r\n    };\r\n\r\n    const { data: relatedBooksData, loading: relatedBooksLoading } = useQuery(\r\n        GET_RANDOM_BOOK_QUERY,\r\n        {\r\n            fetchPolicy: 'network-only',\r\n            variables: { limit: 4 },\r\n        }\r\n    );\r\n    const relatedBooks = relatedBooksData?.getRandomBooks;\r\n\r\n    const { data, loading, error } = useQuery(SINGLE_BOOK_QUERY, {\r\n        variables: { id },\r\n    });\r\n\r\n    const book = data?.findBookById;\r\n    const realPrice =\r\n        book && book.promotion\r\n            ? (book.price * (100 - book.promotion)) / 100\r\n            : book?.price;\r\n    const isMine =\r\n        user?.books && user?.books.findIndex((user) => user.id === id) !== -1;\r\n\r\n    return loading ? (\r\n        <Loader />\r\n    ) : (\r\n        <>\r\n            <BookPageStyle>\r\n                <Container>\r\n                    <Showcase>\r\n                        <ShowcaseTop>\r\n                            <ImageContainer>\r\n                                {book.promotion != 0 && (\r\n                                    <span className='promotion-tag'>\r\n                                        SALE {book.promotion}%\r\n                                    </span>\r\n                                )}\r\n                                <img src={book.image} alt='' />\r\n                            </ImageContainer>\r\n                            <ShowcaseInfo>\r\n                                <h1>{book.title}</h1>\r\n                                <p className='book-author'>By {book.author}</p>\r\n                                <p>{book.shortDescription}</p>\r\n                                <PriceBox>\r\n                                    <div className='top'>\r\n                                        <h4>\r\n                                            {book.promotion !== 0 && (\r\n                                                <strike className='promotion'>\r\n                                                    ${book.price.toFixed(2)}\r\n                                                </strike>\r\n                                            )}\r\n                                            ${realPrice.toFixed(2)}\r\n                                        </h4>\r\n                                    </div>\r\n                                    <div className='bottom'>\r\n                                        {isMine && (\r\n                                            <button onClick={goToEditBook}>\r\n                                                Edit Book\r\n                                            </button>\r\n                                        )}\r\n                                        {!isMine && (\r\n                                            <button onClick={onAddToCart}>\r\n                                                Add to cart\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                </PriceBox>\r\n                            </ShowcaseInfo>\r\n                        </ShowcaseTop>\r\n                        <Description>\r\n                            <h2>Description</h2>\r\n                            <p>{book.description}</p>\r\n                        </Description>\r\n                    </Showcase>\r\n                </Container>\r\n                <RelatedBooks>\r\n                    <h3>Related Products</h3>\r\n                    <BooksContainer>\r\n                        {relatedBooks &&\r\n                            relatedBooks.length &&\r\n                            relatedBooks.map((book) => (\r\n                                <BookComponent key={book.id} book={book} />\r\n                            ))}\r\n                    </BooksContainer>\r\n                </RelatedBooks>\r\n            </BookPageStyle>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default withRouter(Book);\r\n","import { Redirect, useParams } from 'react-router-dom';\r\nimport { useMutation, useQuery } from '@apollo/client';\r\nimport alertify from 'alertifyjs';\r\nimport { useState } from 'react';\r\n\r\nimport image from '../../assets/images/sell_image.jpg';\r\n\r\nimport { Column, Form, Row, SellStyle } from '../../styles/SellStyle';\r\nimport useForm from '../../lib/useForm';\r\nimport { useUser, isImageValid, toDataURL } from '../../lib/util';\r\nimport {\r\n    SINGLE_BOOK_QUERY,\r\n    UPDATE_BOOK_MUTATION,\r\n    cacheUpdateUpdateBook,\r\n} from '../../lib/graphql';\r\n\r\nconst EditBookStyle = SellStyle;\r\n\r\nconst EditBook = () => {\r\n    const me = useUser();\r\n\r\n    const { id } = useParams();\r\n    const { data, loading, error } = useQuery(SINGLE_BOOK_QUERY, {\r\n        variables: { id },\r\n    });\r\n    const book = data?.findBookById ? { ...data.findBookById } : null;\r\n    if (book && book.image) {\r\n        delete book.image;\r\n    }\r\n\r\n    const { form, handleChange, clearForm } = useForm(\r\n        book || {\r\n            title: '',\r\n            subtitle: '',\r\n            author: '',\r\n            description: '',\r\n            shortDescription: '',\r\n            price: '',\r\n            promotion: '',\r\n        }\r\n    );\r\n\r\n    const [state, setState] = useState({ imageName: '' });\r\n\r\n    const [updateBook, { loading: updateBookLoading }] = useMutation(\r\n        UPDATE_BOOK_MUTATION,\r\n        {\r\n            variables: { id, ...form },\r\n            update(cache, result) {\r\n                alertify.success('Book updated successfully');\r\n                clearForm();\r\n                cacheUpdateUpdateBook(cache, result);\r\n            },\r\n        }\r\n    );\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (form.price) {\r\n            form.price = parseFloat(form.price);\r\n        }\r\n        if (form.promotion) {\r\n            form.promotion = parseFloat(form.promotion);\r\n        }\r\n        const formToSubmit = { ...form };\r\n\r\n        if (form.image && form.image !== '') {\r\n            try {\r\n                toDataURL(form.image).then((base64Image) => {\r\n                    formToSubmit.image = base64Image;\r\n                    updateBook({ variables: formToSubmit });\r\n                });\r\n            } catch (error) {\r\n                throw new Error(error);\r\n            }\r\n        } else {\r\n            delete formToSubmit.image;\r\n            updateBook({ variables: formToSubmit });\r\n        }\r\n    };\r\n\r\n    const onPickImage = (e) => {\r\n        if (isImageValid(e?.target?.files[0])) {\r\n            setState({ imageName: e?.target?.files[0]?.name });\r\n            handleChange(e);\r\n        } else {\r\n            alertify.error(\r\n                'Please choose an image file. Accepted extensions are jpeg, jpg, png, bmp and gif'\r\n            );\r\n            setState({ imageName: 'Change Image' });\r\n        }\r\n    };\r\n\r\n    const hasEditPermission =\r\n        me && me.books.findIndex((book) => book.id === id) !== -1;\r\n\r\n    return !hasEditPermission ? (\r\n        <Redirect to='/shopping' />\r\n    ) : (\r\n        <>\r\n            <EditBookStyle>\r\n                <div className='side-img'>\r\n                    <img src={image} alt='' />\r\n                </div>\r\n                <Form onSubmit={onSubmit}>\r\n                    <fieldset\r\n                        disabled={updateBookLoading}\r\n                        aria-busy={updateBookLoading}\r\n                    >\r\n                        <h2>Edit product info</h2>\r\n                        <Row>\r\n                            <Column className='left'>\r\n                                <input\r\n                                    type='text'\r\n                                    placeholder='Title *'\r\n                                    name='title'\r\n                                    value={form.title}\r\n                                    onChange={handleChange}\r\n                                    required\r\n                                />\r\n                                <input\r\n                                    type='text'\r\n                                    placeholder='Subtitle'\r\n                                    name='subtitle'\r\n                                    value={form.subtitle}\r\n                                    onChange={handleChange}\r\n                                />\r\n                                <input\r\n                                    type='text'\r\n                                    placeholder='Author *'\r\n                                    name='author'\r\n                                    value={form.author}\r\n                                    onChange={handleChange}\r\n                                    required\r\n                                />\r\n                            </Column>\r\n                            <Column className='right'>\r\n                                <input\r\n                                    type='number'\r\n                                    step='0.01'\r\n                                    min='0'\r\n                                    max='100'\r\n                                    placeholder='Price *'\r\n                                    name='price'\r\n                                    value={form.price}\r\n                                    onChange={handleChange}\r\n                                    required\r\n                                />\r\n                                <input\r\n                                    type='number'\r\n                                    min='0'\r\n                                    max='100'\r\n                                    placeholder='Promotion (%) *'\r\n                                    name='promotion'\r\n                                    value={form.promotion}\r\n                                    onChange={handleChange}\r\n                                    required\r\n                                />\r\n                                <textarea\r\n                                    placeholder='Short description *'\r\n                                    rows='1'\r\n                                    name='shortDescription'\r\n                                    value={form.shortDescription}\r\n                                    onChange={handleChange}\r\n                                    required\r\n                                />\r\n                            </Column>\r\n                        </Row>\r\n\r\n                        <textarea\r\n                            placeholder='Description *'\r\n                            rows='3'\r\n                            name='description'\r\n                            value={form.description}\r\n                            onChange={handleChange}\r\n                            required\r\n                        />\r\n                        <label className='custom-file-upload'>\r\n                            <input\r\n                                type='file'\r\n                                name='image'\r\n                                onChange={onPickImage}\r\n                            />\r\n                            <i className='fa fa-cloud-upload'></i>{' '}\r\n                            {!state.imageName\r\n                                ? 'Change Image'\r\n                                : state.imageName}\r\n                        </label>\r\n\r\n                        <button type='submit'>Edit product</button>\r\n                    </fieldset>\r\n                </Form>\r\n            </EditBookStyle>\r\n            ;\r\n        </>\r\n    );\r\n};\r\n\r\nexport default EditBook;\r\n","import { BurgerWrapper, ButtonStyle } from '../../../styles/HeaderStyle';\r\n\r\nconst BurgerButton = ({ toggleDropdown, open }) => {\r\n    const onClick = () => {\r\n        toggleDropdown();\r\n    };\r\n\r\n    return (\r\n        <BurgerWrapper onClick={onClick}>\r\n            <ButtonStyle className={open ? 'open' : ''}>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n            </ButtonStyle>\r\n        </BurgerWrapper>\r\n    );\r\n};\r\n\r\nexport default BurgerButton;\r\n","import styled from 'styled-components';\r\n\r\nimport { FlexRow } from './common/UtilStyle';\r\n\r\nexport const SearchBar = styled(FlexRow)`\r\n    width: ${(props) => (props.showSearch ? '400px' : '20px')};\r\n    transition: all 1s;\r\n    position: relative;\r\n    margin-left: 10px;\r\n\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n\r\n    .input-wrapper {\r\n        width: 100%;\r\n        i {\r\n            display: ${(props) => (props.showSearch ? 'block' : 'none')};\r\n            position: absolute;\r\n            top: 11px;\r\n            right: 8px;\r\n            color: grey;\r\n        }\r\n    }\r\n\r\n    input {\r\n        color: var(--lighter-black);\r\n        transition: all 1s;\r\n        width: 100%;\r\n        opacity: ${(props) => (props.showSearch ? '100%' : '0%')};\r\n        padding: ${(props) => (props.showSearch ? '5px 20px' : '0px')};\r\n        border: 1px solid var(--darker-grey);\r\n        :focus {\r\n            outline: none;\r\n        }\r\n    }\r\n    .search-icon {\r\n        display: ${(props) => (props.showSearch ? 'none' : 'block')};\r\n        margin-left: ${(props) => (props.showSearch ? '5px' : '0px')};\r\n    }\r\n\r\n    .dropdown {\r\n        display: ${(props) => (props.showSearch ? 'block' : 'none')};\r\n    }\r\n\r\n    @media (max-width: 500px) {\r\n        width: ${(props) => (props.showSearch ? '270px' : '20px')};\r\n    }\r\n`;\r\n\r\nexport const Dropdown = styled.div`\r\n    z-index: 1;\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 43px;\r\n    box-shadow: 0px 3px 5px 0 rgb(0 0 0 / 30%);\r\n`;\r\n\r\nexport const DropdownItem = styled(FlexRow)`\r\n    transition: all 0.3s;\r\n    z-index: -1;\r\n    justify-content: flex-start;\r\n    background: ${(props) => (props.active ? 'var(--darker-grey)' : 'white')};\r\n    color: black;\r\n    border: ${(props) =>\r\n        props.active ? '2px solid yellow' : '1px solid var(--lighter-grey)'};\r\n    padding: 10px 20px;\r\n    padding-left: ${(props) => (props.active ? '30px' : '10px')};\r\n    line-height: 1;\r\n    img {\r\n        width: 50px;\r\n    }\r\n    p {\r\n        margin: 0;\r\n    }\r\n    .book-info {\r\n        margin-left: 10px;\r\n        .book-author {\r\n            font-size: 14px;\r\n            font-style: italic;\r\n            margin-top: 5px;\r\n        }\r\n    }\r\n    :hover {\r\n        background: var(--darker-grey);\r\n        border: 2px solid yellow;\r\n        padding-left: 30px;\r\n    }\r\n`;\r\n","import React, { useRef, useEffect } from 'react';\r\nimport { isFunction } from 'lodash';\r\n\r\nfunction useOutsideClickDetector(ref, onClickOutside) {\r\n    useEffect(() => {\r\n        function handleClickOutside(event) {\r\n            if (ref.current && !ref.current.contains(event.target)) {\r\n                if (isFunction(onClickOutside)) {\r\n                    onClickOutside();\r\n                }\r\n            }\r\n        }\r\n\r\n        // Bind the event listener\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => {\r\n            // Unbind the event listener on clean up\r\n            document.removeEventListener('mousedown', handleClickOutside);\r\n        };\r\n    }, [ref, onClickOutside]);\r\n}\r\n\r\n/**\r\n * Component that alerts if you click outside of it\r\n */\r\nexport default function OutsideClickDetector({ onClickOutside, ...props }) {\r\n    const wrapperRef = useRef(null);\r\n    useOutsideClickDetector(wrapperRef, onClickOutside);\r\n\r\n    return <div ref={wrapperRef}>{props.children}</div>;\r\n}\r\n","import React, { useState } from 'react';\r\nimport { resetIdCounter, useCombobox } from 'downshift';\r\nimport { useLazyQuery } from '@apollo/client';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport { Dropdown, DropdownItem, SearchBar } from '../../styles/SearchStyle';\r\nimport { FIND_BOOKS_QUERY } from '../../lib/graphql';\r\nimport { useDebouncedCallback } from '../../lib/util';\r\nimport OutsideClickDetector from '../../lib/OutsideClickDetector';\r\n\r\nconst Search = ({ searchToggled, history }) => {\r\n    const [navState, setNavState] = useState({\r\n        showSearch: false,\r\n    });\r\n\r\n    const toggleSearch = () => {\r\n        searchToggled(!navState.showSearch);\r\n        setNavState({\r\n            showSearch: !navState.showSearch,\r\n        });\r\n    };\r\n\r\n    const closeSearch = () => {\r\n        if (navState.showSearch) {\r\n            searchToggled(false);\r\n            setNavState({\r\n                showSearch: false,\r\n            });\r\n        }\r\n    };\r\n\r\n    const [input, setInput] = useState({ value: '' });\r\n\r\n    const [findBooks, { loading, data, error }] = useLazyQuery(\r\n        FIND_BOOKS_QUERY,\r\n        {\r\n            fetchPolicy: 'no-cache',\r\n        }\r\n    );\r\n\r\n    const goToBook = (id) => {\r\n        history.push('/book/' + id);\r\n    };\r\n\r\n    const boldIfMatch = (text, strToMatch) => {\r\n        const startIndex = text.toLowerCase().indexOf(strToMatch.toLowerCase());\r\n        const endIndex = startIndex + strToMatch.length;\r\n        if (startIndex === -1) {\r\n            return text;\r\n        }\r\n        const boldText = <b>{text.substring(startIndex, endIndex)}</b>;\r\n        return (\r\n            <>\r\n                {text.substring(0, startIndex)}\r\n                {boldText}\r\n                {text.substring(endIndex)}\r\n            </>\r\n        );\r\n    };\r\n\r\n    const books = data?.findBooks || [];\r\n    const findItemsDebounced = useDebouncedCallback(findBooks, 350);\r\n    resetIdCounter();\r\n\r\n    const {\r\n        getMenuProps,\r\n        getInputProps,\r\n        getComboboxProps,\r\n        getItemProps,\r\n        highlightedIndex,\r\n        isOpen,\r\n    } = useCombobox({\r\n        items: books,\r\n        onInputValueChange({ inputValue }) {\r\n            setInput({ value: inputValue });\r\n            findItemsDebounced({\r\n                variables: { titleContains: inputValue, limit: 5 },\r\n            });\r\n        },\r\n        onSelectedItemChange({ selectedItem }) {\r\n            goToBook(selectedItem.id);\r\n        },\r\n        itemToString: (book) => book?.title || '',\r\n    });\r\n\r\n    return (\r\n        <OutsideClickDetector onClickOutside={closeSearch}>\r\n            <SearchBar showSearch={navState.showSearch}>\r\n                <div {...getComboboxProps()} className='input-wrapper'>\r\n                    <input\r\n                        {...getInputProps({\r\n                            placeholder: 'Search for an item',\r\n                            id: 'search',\r\n                        })}\r\n                    />\r\n                    <i className='fas fa-times' onClick={toggleSearch}></i>\r\n                </div>\r\n                <i\r\n                    className='fas fa-search search-icon'\r\n                    onClick={toggleSearch}\r\n                ></i>\r\n                <Dropdown className='dropdown' {...getMenuProps()}>\r\n                    {isOpen &&\r\n                        books.map((book, index) => (\r\n                            <DropdownItem\r\n                                key={book.id}\r\n                                {...getItemProps({ item: book })}\r\n                                active={index === highlightedIndex}\r\n                                onClick={() => {\r\n                                    goToBook(book.id);\r\n                                    toggleSearch();\r\n                                }}\r\n                            >\r\n                                <img src={book.image} alt='' width='50px' />\r\n                                <div className='book-info'>\r\n                                    <p className='book-title'>\r\n                                        {boldIfMatch(book.title, input.value)}\r\n                                    </p>\r\n                                    <p className='book-author'>{book.author}</p>\r\n                                </div>\r\n                            </DropdownItem>\r\n                        ))}\r\n                    {isOpen && !books.length && !loading && (\r\n                        <DropdownItem>\r\n                            No item found for {input.value}\r\n                        </DropdownItem>\r\n                    )}\r\n                </Dropdown>\r\n            </SearchBar>\r\n        </OutsideClickDetector>\r\n    );\r\n};\r\n\r\nexport default withRouter(Search);\r\n","import { createContext, useContext, useState } from 'react';\r\n\r\nconst StateContext = createContext();\r\nconst StateProvider = StateContext.Provider;\r\n\r\nconst CartStateProvider = ({ children }) => {\r\n    const [cartOpen, setCartOpen] = useState(false);\r\n\r\n    const toggleCart = () => {\r\n        setCartOpen(!cartOpen);\r\n    };\r\n    const closeCart = () => {\r\n        setCartOpen(false);\r\n    };\r\n    const openCart = () => {\r\n        setCartOpen(true);\r\n    };\r\n\r\n    return (\r\n        <StateProvider value={{ cartOpen, toggleCart, closeCart, openCart }}>\r\n            {children}\r\n        </StateProvider>\r\n    );\r\n};\r\n\r\nconst useCart = () => {\r\n    const all = useContext(StateContext);\r\n    return all;\r\n};\r\n\r\nexport { CartStateProvider, useCart };\r\n","import { useCart } from '../../CartStateProvider';\r\nimport {\r\n    NavLink,\r\n    ItemCount,\r\n    CartItemCountContainer,\r\n} from '../../../styles/HeaderStyle';\r\n\r\nconst CartButton = ({ user }) => {\r\n    const { openCart } = useCart();\r\n    let cartItemCount = user?.cart?.reduce(\r\n        (total, item) => total + item.quantity,\r\n        0\r\n    );\r\n    return (\r\n        <NavLink onClick={openCart} className='position-relative'>\r\n            <CartItemCountContainer>\r\n                Cart\r\n                {cartItemCount != null && cartItemCount != 0 && (\r\n                    <ItemCount>{cartItemCount}</ItemCount>\r\n                )}\r\n            </CartItemCountContainer>\r\n        </NavLink>\r\n    );\r\n};\r\n\r\nexport default CartButton;\r\n","import { useMutation } from '@apollo/client';\r\nimport alertify from 'alertifyjs';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport { LOGOUT_MUTATION, cacheUpdateLogout } from '../../../lib/graphql';\r\nimport { NavLink } from '../../../styles/HeaderStyle';\r\n\r\nconst LogoutButton = ({ history }) => {\r\n    const [removeCookie] = useMutation(LOGOUT_MUTATION, {\r\n        update(cache, result) {\r\n            alertify.error('Logged out');\r\n            cacheUpdateLogout(cache, result);\r\n        },\r\n    });\r\n\r\n    const logout = async () => {\r\n        await removeCookie();\r\n        history.push('/');\r\n    };\r\n    return <NavLink onClick={logout}>Logout</NavLink>;\r\n};\r\n\r\nexport default withRouter(LogoutButton);\r\n","import { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport {\r\n    Container,\r\n    Menu,\r\n    Nav,\r\n    NavLink,\r\n    NavLinksContainer,\r\n    Outer,\r\n} from '../../styles/HeaderStyle';\r\nimport BurgerButton from './BurgerButton/BurgerButton';\r\nimport Search from '../Search/Search';\r\nimport CartButton from './CartButton/CartButton';\r\nimport { useUser } from '../../lib/util';\r\nimport LogoutButton from './LogoutButton/LogoutButton';\r\nimport OutsideClickDetector from '../../lib/OutsideClickDetector';\r\n\r\nconst Navbar = ({ transparentInitially }) => {\r\n    const user = useUser();\r\n    const isLoggedIn = user != null;\r\n\r\n    const [navState, setNavState] = useState({\r\n        showNavBg: transparentInitially ? false : true,\r\n        dropdownNav: false,\r\n        outerStyle: {},\r\n    });\r\n\r\n    useEffect(() => {\r\n        setNavState({\r\n            ...navState,\r\n            showNavBg: transparentInitially ? false : true,\r\n        });\r\n    }, [transparentInitially]);\r\n\r\n    const [searchState, setSearchState] = useState({ on: false });\r\n\r\n    const toggleDropdownNav = () => {\r\n        setNavState((prevState) => ({\r\n            ...prevState,\r\n            outerStyle: { ...prevState.outerStyle },\r\n            dropdownNav: !prevState.dropdownNav,\r\n        }));\r\n    };\r\n\r\n    const setDropdownNavOpen = (isOpen) => {\r\n        setNavState((prevState) => ({\r\n            ...prevState,\r\n            outerStyle: { ...prevState.outerStyle },\r\n            dropdownNav: false,\r\n        }));\r\n    };\r\n\r\n    const searchToggled = (isSearchOn) => {\r\n        setSearchState({ on: isSearchOn });\r\n    };\r\n\r\n    useEffect(() => {\r\n        let scrolled = false;\r\n        const eventHandler = (e) => {\r\n            if (window.pageYOffset > 40) {\r\n                if (scrolled) {\r\n                    setNavState((prevState) => ({\r\n                        ...prevState,\r\n                        outerStyle: { ...prevState.outerStyle },\r\n                        dropdownNav: false,\r\n                        showNavBg: true,\r\n                    }));\r\n                } else {\r\n                    setNavState((prevState) => ({\r\n                        ...prevState,\r\n                        dropdownNav: false,\r\n                        showNavBg: true,\r\n                        outerStyle: { transform: 'translateY(-80px)' },\r\n                    }));\r\n                    setTimeout(() => {\r\n                        setNavState((prevState) => ({\r\n                            ...prevState,\r\n                            dropdownNav: false,\r\n                            showNavBg: true,\r\n                            outerStyle: { transform: 'translateY(0px)' },\r\n                        }));\r\n                        scrolled = true;\r\n                    }, 500);\r\n                }\r\n            } else {\r\n                setNavState((prevState) => ({\r\n                    ...prevState,\r\n                    dropdownNav: false,\r\n                    showNavBg: false,\r\n                    outerStyle: {},\r\n                }));\r\n                scrolled = false;\r\n            }\r\n        };\r\n\r\n        if (transparentInitially) {\r\n            window.addEventListener('scroll', eventHandler);\r\n        }\r\n\r\n        return () => window.removeEventListener('scroll', eventHandler);\r\n    }, [transparentInitially]);\r\n\r\n    return (\r\n        <OutsideClickDetector onClickOutside={() => setDropdownNavOpen(false)}>\r\n            <Outer showNavBg={navState.showNavBg} style={navState.outerStyle}>\r\n                <Container>\r\n                    <Nav\r\n                        showNavBg={navState.showNavBg}\r\n                        searchOn={searchState.on}\r\n                    >\r\n                        <a\r\n                            href='/'\r\n                            className={\r\n                                searchState.on\r\n                                    ? 'special-text logo disable'\r\n                                    : 'special-text logo'\r\n                            }\r\n                        >\r\n                            Bookworm\r\n                        </a>\r\n                        <Menu>\r\n                            <NavLinksContainer\r\n                                className={\r\n                                    (navState.dropdownNav\r\n                                        ? 'dropdown-nav'\r\n                                        : '') +\r\n                                    (navState.showNavBg ? ' show-nav-bg' : '')\r\n                                }\r\n                            >\r\n                                <NavLink as={Link} to='/shopping'>\r\n                                    Shop\r\n                                </NavLink>\r\n                                {isLoggedIn && (\r\n                                    <NavLink as={Link} to='/sell'>\r\n                                        Sell\r\n                                    </NavLink>\r\n                                )}\r\n                                {isLoggedIn && (\r\n                                    <NavLink as={Link} to='/orders'>\r\n                                        Orders\r\n                                    </NavLink>\r\n                                )}\r\n                                {isLoggedIn && (\r\n                                    <NavLink as={Link} to='/account'>\r\n                                        Account\r\n                                    </NavLink>\r\n                                )}\r\n                                <CartButton\r\n                                    showNavBg={navState.showNavBg}\r\n                                    user={user}\r\n                                >\r\n                                    My Cart\r\n                                </CartButton>\r\n                                {isLoggedIn && (\r\n                                    <LogoutButton\r\n                                        showNavBg={navState.showNavBg}\r\n                                    >\r\n                                        Logout\r\n                                    </LogoutButton>\r\n                                )}\r\n                                {!isLoggedIn && (\r\n                                    <NavLink as={Link} to='/login'>\r\n                                        Login\r\n                                    </NavLink>\r\n                                )}\r\n                                {!isLoggedIn && (\r\n                                    <NavLink as={Link} to='/register'>\r\n                                        Register\r\n                                    </NavLink>\r\n                                )}\r\n                            </NavLinksContainer>\r\n                            <BurgerButton\r\n                                toggleDropdown={toggleDropdownNav}\r\n                                open={navState.dropdownNav}\r\n                            />\r\n                            <Search searchToggled={searchToggled} />\r\n                        </Menu>\r\n                    </Nav>\r\n                </Container>\r\n            </Outer>\r\n        </OutsideClickDetector>\r\n    );\r\n};\r\n\r\nexport default Navbar;\r\n","import { useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction ScrollToTop({ history }) {\r\n    useEffect(() => {\r\n        const unlisten = history.listen(() => {\r\n            window.scrollTo(0, 0);\r\n        });\r\n        return () => {\r\n            unlisten();\r\n        };\r\n    }, []);\r\n\r\n    return null;\r\n}\r\n\r\nexport default withRouter(ScrollToTop);\r\n","import { Redirect, Switch, useLocation } from 'react-router-dom';\r\n\r\nimport CustomRoute from '../components/Route/CustomRoute';\r\nimport PrivateRoute from '../components/Route/PrivateRoute';\r\nimport Home from './pages/Home';\r\nimport Shopping from './pages/Shopping';\r\nimport Sell from './pages/Sell';\r\nimport Account from './pages/Account';\r\nimport Login from './pages/Login';\r\nimport Register from './pages/Register';\r\nimport Orders from './pages/Orders';\r\nimport Book from './pages/Book';\r\nimport EditBook from './pages/EditBook';\r\nimport Navbar from '../components/Navbar/Navbar';\r\nimport ScrollToTop from '../lib/ScrollToTop';\r\n\r\nconst PageRouter = () => {\r\n    const location = useLocation();\r\n    const isTransparentNavPage = [\r\n        '/',\r\n        '/login',\r\n        '/register',\r\n        '/account',\r\n    ].includes(location.pathname);\r\n\r\n    return (\r\n        <>\r\n            <Navbar transparentInitially={isTransparentNavPage} />\r\n            <ScrollToTop />\r\n            <Switch>\r\n                <CustomRoute path='/' exact component={Home}></CustomRoute>\r\n                <CustomRoute\r\n                    path='/login'\r\n                    exact\r\n                    component={Login}\r\n                ></CustomRoute>\r\n                <CustomRoute\r\n                    path='/register'\r\n                    exact\r\n                    component={Register}\r\n                ></CustomRoute>\r\n                <CustomRoute\r\n                    path='/shopping'\r\n                    exact\r\n                    render={() => <Redirect to='/shopping/1' />}\r\n                ></CustomRoute>\r\n\r\n                <CustomRoute\r\n                    path='/shopping'\r\n                    component={Shopping}\r\n                ></CustomRoute>\r\n                <PrivateRoute\r\n                    path='/sell'\r\n                    exact\r\n                    component={Sell}\r\n                ></PrivateRoute>\r\n                <PrivateRoute\r\n                    path='/account'\r\n                    exact\r\n                    component={Account}\r\n                ></PrivateRoute>\r\n                <PrivateRoute\r\n                    path='/orders'\r\n                    exact\r\n                    component={Orders}\r\n                ></PrivateRoute>\r\n                <CustomRoute\r\n                    path='/book/:id'\r\n                    exact\r\n                    component={Book}\r\n                ></CustomRoute>\r\n                <PrivateRoute\r\n                    path='/edit/book/:id'\r\n                    exact\r\n                    component={EditBook}\r\n                ></PrivateRoute>\r\n                <CustomRoute\r\n                    path='/'\r\n                    render={() => <Redirect to='/shopping' />}\r\n                ></CustomRoute>\r\n            </Switch>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PageRouter;\r\n","import styled from 'styled-components';\r\nimport { FlexRow } from './common/UtilStyle';\r\n\r\nexport const Modal = styled.div`\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    padding: 10px 30px;\r\n    color: var(--darker-black);\r\n    transform: translate(\r\n        -50%,\r\n        ${(props) => (props.show ? 'calc(-40%)' : '-300%')}\r\n    );\r\n    transition: 1s ease-out;\r\n    width: 650px;\r\n    height: 450px;\r\n    z-index: 100;\r\n    background: white;\r\n    box-shadow: 0 0 5px 0 rgb(0 0 0 / 30%);\r\n    h2 {\r\n        text-align: center;\r\n        margin: auto;\r\n        font-size: 35px;\r\n        font-weight: bold;\r\n    }\r\n    border: 10px solid var(--lighter-blue);\r\n    border-radius: 5px;\r\n\r\n    overflow-y: scroll;\r\n    ::-webkit-scrollbar {\r\n        width: 0;\r\n    }\r\n\r\n    @media (max-height: 550px) {\r\n        height: 350px;\r\n    }\r\n    @media (max-height: 455px) {\r\n        height: 200px;\r\n        transform: translate(\r\n            -50%,\r\n            ${(props) => (props.show ? 'calc(-25%)' : '-300%')}\r\n        );\r\n    }\r\n    @media (max-width: 720px) {\r\n        width: 450px;\r\n    }\r\n    @media (max-width: 550px) {\r\n        width: 300px;\r\n        img {\r\n            display: none;\r\n        }\r\n    }\r\n`;\r\n\r\nexport const Backdrop = styled.div`\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    transition: 0.5s ease-out;\r\n    z-index: ${(props) => (props.show ? 99 : -100)};\r\n    opacity: ${(props) => (props.show ? 0.7 : 0)};\r\n    background: grey;\r\n`;\r\n\r\nexport const Item = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    padding-bottom: 15px;\r\n    margin-top: 10px;\r\n`;\r\n\r\nexport const ItemImage = styled.img`\r\n    height: 7rem;\r\n    width: 5rem;\r\n    object-fit: fill;\r\n`;\r\n\r\nexport const InfoAndOptions = styled.div`\r\n    padding-left: 20px;\r\n    display: flex;\r\n    flex-grow: 1;\r\n    justify-content: space-between;\r\n    p {\r\n        margin: 0;\r\n    }\r\n    .book-title {\r\n        color: var(--darker-black);\r\n    }\r\n    .info {\r\n        font-size: 16px;\r\n        font-style: italic;\r\n        .promotion {\r\n            margin-right: 5px;\r\n            color: var(--darkest-grey);\r\n            font-size: 12px;\r\n        }\r\n    }\r\n    @media (max-width: 550px) {\r\n        padding-left: 0px;\r\n    }\r\n`;\r\n\r\nexport const ItemOptions = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    .minus {\r\n        padding-left: 13px;\r\n        padding-right: 13px;\r\n        margin-right: 10px;\r\n    }\r\n    .plus {\r\n        margin-left: 10px;\r\n    }\r\n`;\r\n\r\nexport const Button = styled.button`\r\n    padding: 3px 10px;\r\n    color: white;\r\n    background: var(--lighter-blue);\r\n    border: none;\r\n    border-radius: 5px;\r\n    :hover {\r\n        background: var(--darker-blue);\r\n    }\r\n    :active {\r\n        background: var(--darkest-blue);\r\n    }\r\n`;\r\n\r\nexport const TotalPrice = styled.div`\r\n    text-align: right;\r\n    font-size: 25px;\r\n    font-weight: bold;\r\n`;\r\n\r\nexport const CheckoutButton = styled.button`\r\n    width: 100%;\r\n    color: white;\r\n    background: var(--lighter-orange);\r\n    border: none;\r\n    padding: 5px 0px;\r\n    border-radius: 5px;\r\n    :hover {\r\n        background: var(--darker-orange);\r\n    }\r\n    :active {\r\n        background: var(--darkest-orange);\r\n    }\r\n`;\r\n\r\nexport const Form = styled(FlexRow)`\r\n    input {\r\n        :focus {\r\n            outline: none;\r\n        }\r\n        margin-right: 25px;\r\n    }\r\n`;\r\n","import { useMutation } from '@apollo/client';\r\n\r\nimport {\r\n    Item,\r\n    ItemImage,\r\n    InfoAndOptions,\r\n    ItemOptions,\r\n    Button,\r\n} from '../../../../styles/CartModalStyle';\r\nimport {\r\n    ADD_TO_CART_MUTATION,\r\n    REMOVE_FROM_CART_MUTATION,\r\n    cacheUpdateAddToCart,\r\n    cacheUpdateRemoveFromCart,\r\n} from '../../../../lib/graphql';\r\n\r\nconst CartItem = ({\r\n    cartItem: {\r\n        book: { id, image, price, promotion, title },\r\n        quantity,\r\n    },\r\n}) => {\r\n    const realPrice = promotion ? (price * (100 - promotion)) / 100 : price;\r\n    const subTotal = quantity * realPrice;\r\n\r\n    const [addToCart] = useMutation(ADD_TO_CART_MUTATION, {\r\n        variables: { bookId: id },\r\n        update(cache, result) {\r\n            cacheUpdateAddToCart(cache, result);\r\n        },\r\n    });\r\n\r\n    const [removeFromCart] = useMutation(REMOVE_FROM_CART_MUTATION, {\r\n        variables: { bookId: id },\r\n        update(cache, result) {\r\n            cacheUpdateRemoveFromCart(cache, result);\r\n        },\r\n    });\r\n\r\n    return (\r\n        <Item>\r\n            <ItemImage src={image} />\r\n            <InfoAndOptions>\r\n                <div>\r\n                    <p className='book-title'>{title}</p>\r\n                    <p className='info'>\r\n                        Price:{' '}\r\n                        {promotion !== 0 && (\r\n                            <strike className='promotion'>\r\n                                ${price.toFixed(2)}\r\n                            </strike>\r\n                        )}\r\n                        ${realPrice.toFixed(2)}\r\n                    </p>\r\n                    <p className='info'>Quantity: {quantity}</p>\r\n                    <p className='info'>Subtotal: ${subTotal.toFixed(2)}</p>\r\n                </div>\r\n                <ItemOptions>\r\n                    <Button className='minus' onClick={removeFromCart}>\r\n                        -\r\n                    </Button>\r\n                    {quantity}\r\n                    <Button className='plus' onClick={addToCart}>\r\n                        +\r\n                    </Button>\r\n                </ItemOptions>\r\n            </InfoAndOptions>\r\n        </Item>\r\n    );\r\n};\r\n\r\nexport default CartItem;\r\n","import { useQuery, useMutation } from '@apollo/client';\r\nimport { useState } from 'react';\r\nimport alertify from 'alertifyjs';\r\n\r\nimport {\r\n    Modal,\r\n    Backdrop,\r\n    TotalPrice,\r\n    CheckoutButton,\r\n    Form,\r\n} from '../../../styles/CartModalStyle';\r\nimport { useCart } from '../../CartStateProvider';\r\nimport CartItem from './CartItem/CartItem';\r\nimport {\r\n    GET_CART_QUERY,\r\n    CHECKOUT_MUTATION,\r\n    cacheUpdateCheckout,\r\n} from '../../../lib/graphql';\r\nimport { useUser } from '../../../lib/util';\r\nimport Loader from '../../Loader/Loader';\r\n\r\nconst CartModal = () => {\r\n    const user = useUser();\r\n    const isLoggedIn = user != null;\r\n\r\n    const { cartOpen, closeCart } = useCart();\r\n\r\n    const [state, setState] = useState({\r\n        password: '',\r\n        formEnabled: false,\r\n    });\r\n\r\n    const onCloseCart = () => {\r\n        setState({\r\n            ...state,\r\n            password: '',\r\n            formEnabled: false,\r\n        });\r\n        closeCart();\r\n    };\r\n\r\n    const { data, loading } = useQuery(GET_CART_QUERY);\r\n    const cartItems = data?.getMe?.cart;\r\n    let total = 0;\r\n    if (cartItems) {\r\n        cartItems.forEach((item) => {\r\n            const realPrice = item.book.promotion\r\n                ? (item.book.price * (100 - item.book.promotion)) / 100\r\n                : item.book.price;\r\n            total += item.quantity * realPrice;\r\n        });\r\n    }\r\n\r\n    const [checkout, { loading: checkoutLoading }] = useMutation(\r\n        CHECKOUT_MUTATION,\r\n        {\r\n            variables: { password: state.password },\r\n            update(cache, result) {\r\n                alertify.success('Purchase successully');\r\n                cacheUpdateCheckout(cache, result);\r\n            },\r\n        }\r\n    );\r\n\r\n    const enableForm = () => {\r\n        setState({\r\n            ...state,\r\n            formEnabled: true,\r\n        });\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        setState({\r\n            ...state,\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    };\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        checkout();\r\n    };\r\n\r\n    let cartDisplay = null;\r\n    if (!isLoggedIn) {\r\n        cartDisplay = <p>Please login first</p>;\r\n    } else if (cartItems && cartItems.length === 0) {\r\n        cartDisplay = <p>You have no item in your cart</p>;\r\n    } else if (cartItems && cartItems.length > 0) {\r\n        cartDisplay = (\r\n            <>\r\n                {cartItems.map((item) => (\r\n                    <CartItem key={item.id} cartItem={item} />\r\n                ))}\r\n                <TotalPrice>\r\n                    <p className='pr-3 pb-1'>Total: ${total.toFixed(2)}</p>\r\n                </TotalPrice>\r\n                {!state.formEnabled && (\r\n                    <CheckoutButton onClick={enableForm}>\r\n                        CHECKOUT\r\n                    </CheckoutButton>\r\n                )}\r\n\r\n                {state.formEnabled && (\r\n                    <Form>\r\n                        <input\r\n                            type='password'\r\n                            placeholder='Re-enter your password *'\r\n                            name='password'\r\n                            value={state.password}\r\n                            onChange={handleChange}\r\n                            disabled={checkoutLoading}\r\n                            required\r\n                        />\r\n                        <CheckoutButton\r\n                            onClick={onSubmit}\r\n                            disabled={checkoutLoading}\r\n                        >\r\n                            CHECKOUT\r\n                        </CheckoutButton>\r\n                    </Form>\r\n                )}\r\n            </>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Backdrop show={cartOpen} onClick={onCloseCart} />\r\n            <Modal show={cartOpen}>\r\n                <h2>My Cart</h2>\r\n                {checkoutLoading ? <Loader /> : null}\r\n                {cartDisplay}\r\n            </Modal>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CartModal;\r\n","import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'alertifyjs/build/css/alertify.css';\r\nimport { useQuery } from '@apollo/client';\r\nimport alertify from 'alertifyjs';\r\n\r\nimport './App.css';\r\nimport Page from './components/Page';\r\nimport PageRouter from './pageRouter/PageRouter';\r\nimport CartModal from './components/Cart/CartModal/CartModal';\r\nimport { GET_ME_QUERY } from './lib/graphql';\r\nimport Loader from './components/Loader/Loader';\r\n\r\nfunction App() {\r\n    const { loading, error } = useQuery(GET_ME_QUERY);\r\n    if (error) {\r\n        alertify.error('Something went wrong. Please try again later');\r\n        return null;\r\n    }\r\n\r\n    return loading ? (\r\n        <Loader />\r\n    ) : (\r\n        <Page>\r\n            <CartModal />\r\n            <PageRouter />\r\n        </Page>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import {\r\n    ApolloClient,\r\n    InMemoryCache,\r\n    createHttpLink,\r\n    ApolloProvider,\r\n} from '@apollo/client';\r\nimport { onError } from 'apollo-link-error';\r\nimport alertify from 'alertifyjs';\r\nimport { createNetworkStatusNotifier } from 'react-apollo-network-status';\r\n\r\nimport paginationField from '../lib/paginationField';\r\nimport nprogress from 'nprogress';\r\nimport 'nprogress/nprogress.css';\r\n\r\nconst { link, useApolloNetworkStatus } = createNetworkStatusNotifier();\r\n\r\nfunction GlobalLoadingIndicator() {\r\n    const status = useApolloNetworkStatus();\r\n    if (status.numPendingMutations > 0) {\r\n        nprogress.start();\r\n        return null;\r\n    } else {\r\n        nprogress.done();\r\n        return null;\r\n    }\r\n}\r\n\r\nconst apiUrl =\r\n    process.env.NODE_ENV === 'production'\r\n        ? '/graphql'\r\n        : 'http://localhost:5000/graphql';\r\nconst httpLink = createHttpLink({\r\n    uri: apiUrl,\r\n    credentials: 'include',\r\n});\r\n\r\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\r\n    if (graphQLErrors) {\r\n        graphQLErrors.forEach(({ message, locations, path }) => {\r\n            const errorMessage = message.split(': ')[1];\r\n            if (errorMessage) {\r\n                alertify.error(errorMessage);\r\n            } else {\r\n                alertify.error(message);\r\n            }\r\n        });\r\n    }\r\n    if (networkError) {\r\n        alertify.error('Network error: ' + networkError);\r\n    }\r\n});\r\n\r\nconst client = new ApolloClient({\r\n    link: link.concat(errorLink).concat(httpLink),\r\n    cache: new InMemoryCache({\r\n        typePolicies: {\r\n            Query: {\r\n                fields: {\r\n                    findBooks: paginationField(),\r\n                },\r\n            },\r\n        },\r\n    }),\r\n    connectToDevTools: true,\r\n});\r\n\r\nconst Provider = ({ children }) => (\r\n    <ApolloProvider client={client}>\r\n        <GlobalLoadingIndicator />\r\n        {children}\r\n    </ApolloProvider>\r\n);\r\n\r\nexport default Provider;\r\n","import { GET_BOOK_PAGINATION_META_QUERY } from './graphql';\r\n\r\nexport default function paginationField() {\r\n    return {\r\n        keyArgs: false,\r\n        read(existing = [], { args, cache }) {\r\n            const { skip, limit } = args;\r\n            if (!skip && !limit) {\r\n                return existing;\r\n            }\r\n\r\n            const data = cache.readQuery({\r\n                query: GET_BOOK_PAGINATION_META_QUERY,\r\n            });\r\n            const count = data?.getBookPaginationMeta.count;\r\n            const page = skip / limit + 1;\r\n            const pages = Math.ceil(count / limit);\r\n            const lastPageCount = count - limit * (pages - 1);\r\n\r\n            const items = existing.slice(skip, skip + limit).filter((x) => x);\r\n            if (page !== pages && items.length !== limit) {\r\n                return false;\r\n            } else if (page === pages && items.length !== lastPageCount) {\r\n                return false;\r\n            } else {\r\n                return items;\r\n            }\r\n        },\r\n        merge(existing, incoming, { args }) {\r\n            const { skip, limit } = args;\r\n            if (!skip && !limit) {\r\n                return incoming;\r\n            }\r\n\r\n            const merged = existing ? existing.slice(0) : [];\r\n            for (let i = skip; i < skip + incoming.length; i++) {\r\n                merged[i] = incoming[i - skip];\r\n            }\r\n            return merged;\r\n        },\r\n    };\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport ApolloProvider from './Apollo/ApolloProvider';\r\nimport { CartStateProvider } from './components/CartStateProvider';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <ApolloProvider>\r\n            <CartStateProvider>\r\n                <App />\r\n            </CartStateProvider>\r\n        </ApolloProvider>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}