(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(n,e,t){},116:function(n,e,t){"use strict";t.r(e);var i,r,a,o,c,s,d,l,p,b,u,h,j,x,g,m,f,O,v,w,k,y,N,C,S,$,B,P,q,I,D,F,M,z,E,Q,A,T,L,R,U,Y,_,H,W,G,J,K,V,X,Z,nn,en,tn,rn,an,on,cn,sn,dn,ln,pn,bn,un=t(1),hn=t.n(un),jn=t(87),xn=t.n(jn),gn=(t(99),t(100),t(11)),mn=t(15),fn=t.n(mn),On=(t(101),t(4)),vn=t(19),wn=t(5),kn=wn.b.div(i||(i=Object(On.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),yn=wn.b.div(r||(r=Object(On.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]))),Nn=Object(wn.b)(kn)(a||(a=Object(On.a)(["\n    background: var(--darker-black);\n    font-size: 16px;\n    color: white;\n    padding: 20px;\n    text-align: center;\n    p {\n        margin: 0px;\n    }\n"]))),Cn=t(0),Sn=function(){return Object(Cn.jsx)(Nn,{children:Object(Cn.jsxs)("p",{children:["An open source project by Anh Minh Tran"," ",Object(Cn.jsx)("a",{href:"https://github.com/anhminhtran235/Bookworm",target:"_blank",rel:"noreferrer",children:Object(Cn.jsx)("i",{className:"fab fa-github"})})]})})},$n=Object(wn.a)(o||(o=Object(On.a)(["\n    @import url('https://fonts.googleapis.com/css?family=Montserrat:400,900|Roboto');\n    @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap');\n\n    html {\n        --lighter-blue: #24b6c8;\n        --darker-blue: #26aec0;\n        --darkest-blue: #22a0b1;\n\n        --lighter-grey: #f4f7f9;\n        --darker-grey: #dbdbdb;\n        --darkest-grey: #acacac;\n\n        --lighter-orange: #e05100;\n        --darker-orange: #cc4b01;\n        --darkest-orange: #bd4703;\n\n        --lighter-black: #2d3e50;\n        --darker-black: #222222;\n        --darkest-black: #161616;\n\n        --container-padding: 120px;\n        @media (max-width: 1300px) {\n            --container-padding: 60px;\n        }\n        @media (max-width: 1015px) {\n            --container-padding: 40px;\n        }\n        @media (max-width: 927px) {\n            --container-padding: 20px;\n        }\n        @media (max-width: 500px) {\n            --container-padding: 10px;\n        }\n\n        box-sizing: border-box;\n    }\n\n    *,\n    *:before,\n    *:after {\n        box-sizing: inherit;\n    }\n\n    body {\n        font-family: 'Montserrat';\n        padding: 0;\n        margin: 0;\n        font-size: 20px;\n    }\n\n    ul {\n        text-decoration: none;\n        list-style: none;\n    }\n\n    a {\n        text-decoration: none;\n        color: var(---darker-black);\n    }\n\n    a:hover {\n        text-decoration: underline;\n    }\n\n    button {\n        font-family: 'Montserrat';\n    }\n\n    .special-text {\n        font-family: 'Dancing Script', cursive\n    }\n"]))),Bn=wn.b.div(c||(c=Object(On.a)(["\n    min-height: 100vh;\n"]))),Pn=function(n){var e=n.children;return Object(Cn.jsx)(Cn.Fragment,{children:Object(Cn.jsxs)(vn.a,{children:[Object(Cn.jsx)($n,{}),Object(Cn.jsx)(Bn,{children:e}),Object(Cn.jsx)(Sn,{})]})})},qn=t(10),In=t(9),Dn=t(34),Fn=t.n(Dn),Mn=(t(64),t(73),function(n){return hn.a.useState(Fn.a.start()),hn.a.useEffect((function(){return Fn.a.done(),function(){return Fn.a.start()}})),Object(Cn.jsx)(qn.b,Object(In.a)({},n))}),zn=t(60),En=t(44),Qn=t(70),An=t(108),Tn=t(44),Ln=An(s||(s=Object(On.a)(["\n    query getMe {\n        getMe {\n            id\n            username\n            email\n            avatar\n            createdAt\n            orders {\n                id\n            }\n            cart {\n                id\n                book {\n                    id\n                }\n                quantity\n            }\n            books {\n                id\n            }\n        }\n    }\n"]))),Rn=An(d||(d=Object(On.a)(["\n    mutation login($email: String!, $password: String!) {\n        login(loginInput: { email: $email, password: $password }) {\n            id\n            username\n            email\n            avatar\n            createdAt\n            orders {\n                id\n            }\n            cart {\n                id\n                book {\n                    id\n                }\n                quantity\n            }\n            books {\n                id\n            }\n        }\n    }\n"]))),Un=An(l||(l=Object(On.a)(["\n    mutation {\n        logout\n    }\n"]))),Yn=An(p||(p=Object(On.a)(["\n    mutation register(\n        $username: String!\n        $email: String!\n        $password: String!\n        $avatar: String\n    ) {\n        register(\n            registerInput: {\n                username: $username\n                email: $email\n                password: $password\n                avatar: $avatar\n            }\n        ) {\n            id\n            username\n            email\n            avatar\n            createdAt\n            orders {\n                id\n            }\n            cart {\n                id\n                book {\n                    id\n                }\n                quantity\n            }\n            books {\n                id\n            }\n        }\n    }\n"]))),_n=An(b||(b=Object(On.a)(["\n    query getCart {\n        getMe {\n            cart {\n                id\n                book {\n                    id\n                    title\n                    subtitle\n                    description\n                    shortDescription\n                    image\n                    price\n                    promotion\n                }\n                quantity\n            }\n        }\n    }\n"]))),Hn=An(u||(u=Object(On.a)(["\n    mutation addToCart($bookId: ID!) {\n        addToCart(bookId: $bookId) {\n            quantity\n            book {\n                id\n                title\n                subtitle\n                author\n                description\n                shortDescription\n                image\n                price\n                promotion\n            }\n        }\n    }\n"]))),Wn=An(h||(h=Object(On.a)(["\n    mutation addToCart($bookId: ID!) {\n        removeFromCart(bookId: $bookId) {\n            quantity\n            book {\n                id\n                title\n                subtitle\n                author\n                description\n                shortDescription\n                image\n                price\n                promotion\n            }\n        }\n    }\n"]))),Gn=An(j||(j=Object(On.a)(["\n    query findBooks($titleContains: String, $skip: Int, $limit: Int) {\n        findBooks(\n            criteria: { titleContains: $titleContains }\n            skip: $skip\n            limit: $limit\n        ) {\n            id\n            title\n            subtitle\n            author\n            description\n            shortDescription\n            image\n            price\n            promotion\n        }\n    }\n"]))),Jn=An(x||(x=Object(On.a)(["\n    query getBookPaginationMeta($titleContains: String) {\n        getBookPaginationMeta(criteria: { titleContains: $titleContains }) {\n            count\n        }\n    }\n"]))),Kn=An(g||(g=Object(On.a)(["\n    query getRandomBooks($limit: Int) {\n        getRandomBooks(limit: $limit) {\n            id\n            title\n            subtitle\n            author\n            description\n            shortDescription\n            image\n            price\n            promotion\n        }\n    }\n"]))),Vn=An(m||(m=Object(On.a)(["\n    query getDiscountedBooks($limit: Int) {\n        getDiscountedBooks(limit: $limit) {\n            id\n            title\n            subtitle\n            author\n            description\n            shortDescription\n            image\n            price\n            promotion\n        }\n    }\n"]))),Xn=An(f||(f=Object(On.a)(["\n    mutation addBook(\n        $title: String!\n        $subtitle: String\n        $author: String!\n        $description: String!\n        $shortDescription: String!\n        $image: String!\n        $price: Float!\n    ) {\n        addBook(\n            title: $title\n            subtitle: $subtitle\n            author: $author\n            description: $description\n            shortDescription: $shortDescription\n            image: $image\n            price: $price\n        ) {\n            id\n            title\n            subtitle\n            description\n            shortDescription\n            image\n            price\n            promotion\n        }\n    }\n"]))),Zn=An(O||(O=Object(On.a)(["\n    mutation updateBook(\n        $id: ID!\n        $title: String\n        $subtitle: String\n        $author: String\n        $description: String\n        $shortDescription: String\n        $image: String\n        $price: Float\n        $promotion: Float\n    ) {\n        updateBook(\n            id: $id\n            title: $title\n            subtitle: $subtitle\n            author: $author\n            description: $description\n            shortDescription: $shortDescription\n            image: $image\n            price: $price\n            promotion: $promotion\n        ) {\n            id\n            title\n            subtitle\n            author\n            description\n            shortDescription\n            image\n            price\n            promotion\n        }\n    }\n"]))),ne=(An(v||(v=Object(On.a)(["\n    mutation deleteBook($id: ID!) {\n        deleteBook(id: $id) {\n            id\n            title\n            subtitle\n            author\n            description\n            shortDescription\n            image\n            price\n            promotion\n        }\n    }\n"]))),An(w||(w=Object(On.a)(["\n    query findBookById($id: ID!) {\n        findBookById(id: $id) {\n            id\n            title\n            subtitle\n            author\n            description\n            shortDescription\n            image\n            price\n            promotion\n        }\n    }\n"])))),ee=An(k||(k=Object(On.a)(["\n    mutation checkout($password: String!) {\n        checkout(password: $password) {\n            orderItems {\n                id\n                book {\n                    title\n                }\n                quantity\n                pricePerItem\n            }\n            createdAt\n        }\n    }\n"]))),te=An(y||(y=Object(On.a)(["\n    mutation updateUser(\n        $username: String!\n        $oldPassword: String!\n        $newPassword: String!\n    ) {\n        updateUser(\n            username: $username\n            oldPassword: $oldPassword\n            newPassword: $newPassword\n        ) {\n            username\n        }\n    }\n"]))),ie=An(N||(N=Object(On.a)(["\n    query getOrders {\n        getMe {\n            orders {\n                id\n                orderItems {\n                    book {\n                        id\n                        title\n                        subtitle\n                        description\n                        shortDescription\n                        image\n                        price\n                        promotion\n                        author\n                    }\n                    quantity\n                    pricePerItem\n                }\n                createdAt\n            }\n        }\n    }\n"]))),re=function(n,e){var t=Tn.cloneDeep(n.readQuery({query:_n}));if(t){var i=e.data.addToCart,r=t.getMe.cart.findIndex((function(n){return n.book.id===i.book.id}));-1===r?t.getMe.cart.push(i):t.getMe.cart[r].quantity++,n.writeQuery({query:_n,data:t})}},ae=function(n){return new Promise((function(e,t){try{var i=new FileReader;i.readAsDataURL(n),i.onloadend=function(){e(i.result)}}catch(r){t(r)}}))},oe=function(){var n=Object(gn.useQuery)(Ln).data;return null===n||void 0===n?void 0:n.getMe},ce=function(n){if(!n)return!1;(new FormData).append("Filedata",n);var e=n.type.split("/").pop().toLowerCase();return!!["jpeg","jpg","png","bmp","gif"].includes(e)},se=function(n){var e=new Date(n),t=new Intl.DateTimeFormat("en",{year:"numeric"}).format(e),i=new Intl.DateTimeFormat("en",{month:"short"}).format(e),r=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(e);return"".concat(r,"-").concat(i,"-").concat(t)},de=wn.b.div(C||(C=Object(On.a)(["\n    display: inline-block;\n    position: fixed;\n    z-index: 100;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 80px;\n    height: 80px;\n    div {\n        animation: lds-roller 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n        transform-origin: 40px 40px;\n    }\n    div:after {\n        content: ' ';\n        display: block;\n        position: absolute;\n        width: 7px;\n        height: 7px;\n        border-radius: 50%;\n        background: #24b6c8;\n        margin: -4px 0 0 -4px;\n    }\n    div:nth-child(1) {\n        animation-delay: -0.036s;\n    }\n    div:nth-child(1):after {\n        top: 63px;\n        left: 63px;\n    }\n    div:nth-child(2) {\n        animation-delay: -0.072s;\n    }\n    div:nth-child(2):after {\n        top: 68px;\n        left: 56px;\n    }\n    div:nth-child(3) {\n        animation-delay: -0.108s;\n    }\n    div:nth-child(3):after {\n        top: 71px;\n        left: 48px;\n    }\n    div:nth-child(4) {\n        animation-delay: -0.144s;\n    }\n    div:nth-child(4):after {\n        top: 72px;\n        left: 40px;\n    }\n    div:nth-child(5) {\n        animation-delay: -0.18s;\n    }\n    div:nth-child(5):after {\n        top: 71px;\n        left: 32px;\n    }\n    div:nth-child(6) {\n        animation-delay: -0.216s;\n    }\n    div:nth-child(6):after {\n        top: 68px;\n        left: 24px;\n    }\n    div:nth-child(7) {\n        animation-delay: -0.252s;\n    }\n    div:nth-child(7):after {\n        top: 63px;\n        left: 17px;\n    }\n    div:nth-child(8) {\n        animation-delay: -0.288s;\n    }\n    div:nth-child(8):after {\n        top: 56px;\n        left: 12px;\n    }\n    @keyframes lds-roller {\n        0% {\n            transform: rotate(0deg);\n        }\n        100% {\n            transform: rotate(360deg);\n        }\n    }\n"]))),le=function(){return Object(Cn.jsx)(Cn.Fragment,{children:Object(Cn.jsxs)(de,{children:[Object(Cn.jsx)("div",{}),Object(Cn.jsx)("div",{}),Object(Cn.jsx)("div",{}),Object(Cn.jsx)("div",{}),Object(Cn.jsx)("div",{}),Object(Cn.jsx)("div",{}),Object(Cn.jsx)("div",{}),Object(Cn.jsx)("div",{})]})})},pe=function(n){var e=n.component,t=Object(zn.a)(n,["component"]),i=null!=oe();return hn.a.useState(Fn.a.start()),hn.a.useEffect((function(){return Fn.a.done(),function(){return Fn.a.start()}})),Object(Cn.jsx)(qn.b,Object(In.a)(Object(In.a)({},t),{},{render:function(n){return null==i?Object(Cn.jsx)(le,{}):i?Object(Cn.jsx)(e,Object(In.a)({},n)):Object(Cn.jsx)(qn.a,{to:"/login"})}}))},be=t.p+"static/media/feature.33a47ab1.jpg",ue=Object(wn.b)(kn)(S||(S=Object(On.a)(["\n    background: url(",") no-repeat center center/cover;\n    height: 700px;\n    color: white;\n    margin: 0;\n    text-align: center;\n    padding: 0px var(--container-padding);\n"])),be),he=wn.b.div($||($=Object(On.a)(["\n    z-index: 1000;\n    position: fixed;\n    top: 0;\n    color: white;\n    background: ",";\n    width: 100%;\n    transition: 0.5s ease-out;\n"])),(function(n){return n.showNavBg?"var(--lighter-blue)":"none"})),je=wn.b.div(B||(B=Object(On.a)(["\n    margin: 0 auto;\n    padding: 1rem;\n    margin: 0px var(--container-padding);\n    position: relative;\n"]))),xe=wn.b.nav(P||(P=Object(On.a)(["\n    display: flex;\n    justify-content: space-between;\n    .logo {\n        font-size: 40px;\n        line-height: 1.2;\n        display: block;\n        transition: all 1s;\n        transform: translateX(0px);\n        :hover {\n            color: white;\n            text-decoration: none;\n        }\n    }\n    h1 {\n        margin: 0;\n        cursor: pointer;\n    }\n    ::after {\n        content: ",";\n        display: block;\n        width: 100%;\n        height: 0.4rem;\n        position: absolute;\n        left: 0;\n        right: 0;\n        background-color: white;\n        top: 4.5rem;\n        border-radius: 5px;\n    }\n    .disable {\n        @media (max-width: 720px) {\n            transform: translateX(-400px);\n        }\n    }\n    @media (max-width: 720px) {\n        justify-content: ",";\n    }\n"])),(function(n){return n.showNavBg?"none":"''"}),(function(n){return n.searchOn?"flex-end":"space-between"})),ge=Object(wn.b)(kn)(q||(q=Object(On.a)(["\n    align-self: flex-end;\n    justify-self: flex-end;\n    .dropdown-nav {\n        display: flex;\n        position: absolute;\n        top: 80px;\n        left: 0px;\n        flex-direction: column;\n        width: 100%;\n        overflow: hidden;\n        padding-left: 0px;\n        background: var(--darker-blue);\n        border-bottom-right-radius: 5px;\n        border-bottom-left-radius: 5px;\n        animation-name: anim;\n        animation-duration: 1s;\n        @keyframes anim {\n            from {\n                opacity: 0%;\n                height: 0px;\n            }\n            to {\n                height: 240px;\n                opacity: 100%;\n            }\n        }\n        a {\n            ::after {\n                content: none;\n            }\n            padding: 5px;\n            margin: 0px;\n            width: 100%;\n            text-align: center;\n            :last-child {\n                padding-bottom: 5px;\n            }\n            :hover {\n                background: var(--darkest-blue);\n                cursor: pointer;\n            }\n        }\n    }\n    .show-nav-bg {\n        > a {\n            :hover {\n                ::after {\n                    background: white;\n                }\n            }\n        }\n    }\n"]))),me=wn.b.ul(I||(I=Object(On.a)(["\n    display: flex;\n    margin: 0;\n    padding-left: 0;\n    @media (max-width: 1195px) {\n        display: none;\n    }\n"]))),fe=Object(wn.b)(yn)(D||(D=Object(On.a)(["\n    h1 {\n        margin-bottom: 20px;\n    }\n    p {\n        margin-bottom: 30px;\n        font-size: 18px;\n        max-width: 500px;\n        text-align: center;\n    }\n    transform: translateY(-80px);\n"]))),Oe=wn.b.a(F||(F=Object(On.a)(["\n    position: relative;\n    margin-left: 8px;\n    align-self: center;\n    ::after {\n        content: '';\n        display: block;\n        position: absolute;\n        transition: all 0.3s;\n        width: 0%;\n        top: 30px;\n        left: 50%;\n        right: 50%;\n        height: 2px;\n    }\n    :hover {\n        cursor: pointer;\n        color: white;\n        text-decoration: none;\n        ::after {\n            background: ",";\n            width: 100%;\n            left: 0%;\n            right: 0%;\n        }\n    }\n"])),(function(n){return n.showNavBg?"white":"var(--lighter-blue)"})),ve=wn.b.div(M||(M=Object(On.a)(["\n    background: white;\n    color: #e05100;\n    padding: 10px 20px;\n    border-radius: 5px;\n    font-weight: bold;\n    font-size: 20px;\n    :hover {\n        cursor: pointer;\n        background: var(--lighter-grey);\n    }\n"]))),we=wn.b.div(z||(z=Object(On.a)(["\n    display: inline-block;\n    position: relative;\n"]))),ke=wn.b.span(E||(E=Object(On.a)(["\n    position: absolute;\n    font-size: 12px;\n    top: -9px;\n    right: -11px;\n    background: red;\n    border-radius: 80%;\n    padding: 2px 4px;\n    color: white;\n"]))),ye=wn.b.div(Q||(Q=Object(On.a)(["\n    transform: translateY(-3px);\n    .open span:nth-child(1) {\n        top: 18px;\n        width: 0%;\n        left: 50%;\n    }\n\n    .open span:nth-child(2) {\n        -webkit-transform: rotate(45deg);\n        -moz-transform: rotate(45deg);\n        -o-transform: rotate(45deg);\n        transform: rotate(45deg);\n    }\n\n    .open span:nth-child(3) {\n        -webkit-transform: rotate(-45deg);\n        -moz-transform: rotate(-45deg);\n        -o-transform: rotate(-45deg);\n        transform: rotate(-45deg);\n    }\n\n    .open span:nth-child(4) {\n        top: 18px;\n        width: 0%;\n        left: 50%;\n    }\n\n    display: none;\n    @media (max-width: 1195px) {\n        display: block;\n    }\n"]))),Ne=wn.b.div(A||(A=Object(On.a)(["\n    width: 30px;\n    height: 22px;\n    position: relative;\n    -webkit-transform: rotate(0deg);\n    -moz-transform: rotate(0deg);\n    -o-transform: rotate(0deg);\n    transform: rotate(0deg);\n    -webkit-transition: 0.5s ease-in-out;\n    -moz-transition: 0.5s ease-in-out;\n    -o-transition: 0.5s ease-in-out;\n    transition: 0.5s ease-in-out;\n    cursor: pointer;\n\n    span {\n        display: block;\n        position: absolute;\n        height: 5px;\n        width: 100%;\n        background: white;\n        border-radius: 9px;\n        opacity: 1;\n        left: 0;\n        -webkit-transform: rotate(0deg);\n        -moz-transform: rotate(0deg);\n        -o-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-transition: 0.25s ease-in-out;\n        -moz-transition: 0.25s ease-in-out;\n        -o-transition: 0.25s ease-in-out;\n        transition: 0.25s ease-in-out;\n    }\n\n    span:nth-child(1) {\n        top: 0px;\n    }\n\n    span:nth-child(2),\n    span:nth-child(3) {\n        top: 10px;\n    }\n\n    span:nth-child(4) {\n        top: 20px;\n    }\n"]))),Ce=Object(qn.i)((function(n){var e=n.history;return Object(Cn.jsx)(Cn.Fragment,{children:Object(Cn.jsx)(ue,{children:Object(Cn.jsxs)(fe,{children:[Object(Cn.jsx)("h1",{className:"special-text",children:"Meet your next favourite book"}),Object(Cn.jsx)("p",{children:"Discover millions of books from a vast number of categories including novel, biography, finance and education"}),Object(Cn.jsx)(ve,{onClick:function(){e.push("/shopping")},children:"Start Reading Now"})]})})})})),Se=t(12),$e=Object(wn.b)(yn)(T||(T=Object(On.a)(["\n    position: relative;\n    background: white;\n    padding: 10px;\n    box-shadow: 0 0 5px 0 rgb(0 0 0 / 10%);\n    border-radius: 8px;\n    text-align: center;\n    width: 100%;\n    word-wrap: break-word;\n    overflow: hidden;\n    img {\n        width: 100%;\n        height: 100%;\n        padding: 5px;\n        box-shadow: 2px 2px 7px rgb(0 0 0 / 30%);\n        border-radius: 2px;\n        object-fit: fill;\n    }\n\n    .promotion-tag {\n        background: red;\n        color: white;\n        position: absolute;\n        top: 0;\n        right: 0;\n        padding: 3px 70px;\n        transform: rotate(36deg) translate(174px, -87px);\n        text-align: center;\n        width: 500px;\n    }\n"]))),Be=Object(wn.b)(yn)(L||(L=Object(On.a)(["\n    margin: 10px 0px;\n    p {\n        margin: 0;\n    }\n    .book-title {\n        font-size: 20px;\n    }\n    .book-author {\n        color: var(--lighter-black);\n        font-size: 16px;\n        font-style: italic;\n    }\n    .book-price {\n        font-size: 25px;\n        margin-top: 0px;\n        .promotion {\n            margin-right: 5px;\n            color: var(--darkest-grey);\n            font-size: 18px;\n        }\n    }\n"]))),Pe=wn.b.div(R||(R=Object(On.a)(["\n    margin-top: 10px;\n    button:first-child {\n        margin-right: 10px;\n    }\n"]))),qe=wn.b.button(U||(U=Object(On.a)(["\n    background: white;\n    color: var(--lighter-black);\n    border-radius: 5px;\n    font-size: 20px;\n    :hover {\n        background: var(--darker-grey);\n    }\n"]))),Ie=Object(qn.i)((function(n){var e=n.book,t=e.id,i=e.image,r=e.title,a=e.author,o=e.price,c=e.promotion,s=n.history,d=oe(),l=null!=d,p=Object(gn.useMutation)(Hn,{variables:{bookId:t},update:function(n,e){fn.a.success("Added to cart"),re(n,e)}}),b=Object(Se.a)(p,2),u=b[0],h=(b[1].loading,c?o*(100-c)/100:o),j=(null===d||void 0===d?void 0:d.books)&&-1!==d.books.findIndex((function(n){return n.id===t}));return Object(Cn.jsxs)($e,{children:[0!=c&&Object(Cn.jsxs)("span",{className:"promotion-tag",children:["SALE ",c,"%"]}),Object(Cn.jsx)("img",{src:i,alt:""}),Object(Cn.jsxs)(Be,{children:[Object(Cn.jsx)("p",{className:"book-title",children:r}),Object(Cn.jsx)("p",{className:"book-author",children:a}),Object(Cn.jsxs)("p",{className:"book-price",children:[0!==c&&Object(Cn.jsxs)("strike",{className:"promotion",children:["$",o.toFixed(2)]}),"$",h.toFixed(2)]}),Object(Cn.jsxs)(Pe,{children:[Object(Cn.jsx)(qe,{onClick:function(){s.push("/book/"+t)},children:"Detail"}),!j&&Object(Cn.jsx)(qe,{onClick:function(){l?u():(fn.a.error("Please log in first"),s.push("/login"))},children:"Add to cart"}),j&&Object(Cn.jsx)(qe,{onClick:function(){s.push("/edit/book/"+t)},children:"Edit Book"})]})]})]})})),De=Object(wn.b)(kn)(Y||(Y=Object(On.a)(["\n    white-space: pre-wrap;\n    justify-content: space-between;\n    padding: 40px var(--container-padding);\n    color: var(--darker-black);\n    div {\n        width: 50%;\n        padding: 0px 20px;\n    }\n    img {\n        width: 80%;\n        display: block;\n        margin: auto;\n    }\n    h4 {\n        color: var(--lighter-black);\n    }\n    h3 {\n        color: var(--darker-black);\n        font-size: 30px;\n        margin-top: 25px;\n        margin-bottom: 0px;\n    }\n    .book-author {\n        color: var(--lighter-black);\n        font-style: italic;\n        font-size: 16px;\n    }\n    .book-description {\n        margin-top: 25px;\n    }\n    @media (max-width: 1015px) {\n        flex-direction: column;\n        div {\n            width: 100%;\n            margin-bottom: 10px;\n        }\n        img {\n            max-width: 500px;\n        }\n    }\n"]))),Fe=wn.b.button(_||(_=Object(On.a)(["\n    margin-top: 10px;\n    background: var(--darker-black);\n    color: white;\n    padding: 5px 20px;\n    border-radius: 20px;\n    :hover {\n        background-color: var(--lighter-black);\n    }\n"]))),Me=Object(qn.i)((function(n){var e=n.book,t=e.id,i=e.image,r=e.title,a=e.author,o=e.description,c=n.history;return Object(Cn.jsxs)(De,{children:[Object(Cn.jsxs)("div",{children:[Object(Cn.jsx)("h4",{children:"Featured Book"}),Object(Cn.jsx)("h3",{children:r}),Object(Cn.jsx)("p",{className:"book-author",children:a}),Object(Cn.jsx)("p",{className:"description",children:o}),Object(Cn.jsx)(Fe,{onClick:function(){c.push("/book/"+t)},children:"Get This Book"})]}),Object(Cn.jsx)("div",{children:Object(Cn.jsx)("img",{src:i,alt:""})})]})})),ze=Object(wn.b)(yn)(H||(H=Object(On.a)(["\n    padding: 40px var(--container-padding);\n    background: var(--lighter-grey);\n    div {\n        margin-right: 20px;\n    }\n    div :last-child {\n        margin-right: 0px;\n    }\n    h3 {\n        margin-bottom: 15px;\n    }\n    @media (max-width: 1015px) {\n        div {\n            margin-right: 0px;\n            margin-bottom: 10px;\n        }\n    }\n"]))),Ee=Object(wn.b)(kn)(W||(W=Object(On.a)(["\n    @media (max-width: 1015px) {\n        flex-direction: column;\n    }\n    align-items: stretch;\n    > div {\n        flex: 1;\n    }\n"]))),Qe=Object(wn.b)(yn)(G||(G=Object(On.a)(["\n    background: var(--lighter-grey);\n    color: var(--lighter-black);\n    padding: 40px 0px;\n    text-align: center;\n    p:hover {\n        cursor: pointer;\n        color: var(--darker-black);\n    }\n"]))),Ae=Object(wn.b)(kn)(J||(J=Object(On.a)(["\n    padding: 40px var(--container-padding);\n    div {\n        margin-right: 20px;\n    }\n    div :last-child {\n        margin-right: 0px;\n    }\n    @media (max-width: 927px) {\n        flex-direction: column;\n        div {\n            margin-right: 0px;\n        }\n    }\n"]))),Te=Object(wn.b)(yn)(K||(K=Object(On.a)(["\n    text-align: center;\n    flex: 1;\n    i {\n        font-size: 45px;\n        padding: 20px;\n        border-radius: 50%;\n        color: white;\n        background: var(--lighter-orange);\n        :nth-child(2) {\n            background: var(--lighter-blue);\n        }\n        margin-bottom: 10px;\n    }\n\n    @media (max-width: 927px) {\n        border-bottom: 1px solid var(--darker-grey);\n        margin-bottom: 20px;\n\n        :last-child {\n            border-bottom: none;\n            margin-bottom: 0px;\n        }\n    }\n"]))),Le=Object(qn.i)((function(n){var e=n.history,t=Object(gn.useQuery)(Kn,{variables:{limit:4}}),i=t.data,r=(t.loading,null===i||void 0===i?void 0:i.getRandomBooks),a=Object(gn.useQuery)(Kn,{variables:{limit:1}}),o=a.data,c=(a.loading,(null===o||void 0===o?void 0:o.getRandomBooks)?o.getRandomBooks[0]:null);return Object(Cn.jsxs)(Cn.Fragment,{children:[Object(Cn.jsx)(Ce,{}),Object(Cn.jsxs)(Ae,{children:[Object(Cn.jsxs)(Te,{children:[Object(Cn.jsx)("i",{className:"fas fa-book-open"})," ",Object(Cn.jsx)("p",{children:"We stock over 2 million books for immediate delivery"})]}),Object(Cn.jsxs)(Te,{children:[Object(Cn.jsx)("i",{className:"fas fa-truck"}),Object(Cn.jsx)("p",{children:"2 days delivery guaranteed in more than 60 countries"})]}),Object(Cn.jsxs)(Te,{children:[Object(Cn.jsx)("i",{className:"fas fa-undo-alt"})," ",Object(Cn.jsx)("p",{children:"30 days return policy free of charge. No question asks!"})]})]}),Object(Cn.jsxs)(ze,{children:[Object(Cn.jsx)("h3",{children:"Popular Books"}),Object(Cn.jsx)(Ee,{children:r&&r.length&&r.map((function(n){return Object(Cn.jsx)(Ie,{book:n},n.id)}))})]}),c&&Object(Cn.jsx)(Me,{book:c}),Object(Cn.jsxs)(Qe,{children:[Object(Cn.jsx)("h1",{children:"Browse Through Our Complete Library"}),Object(Cn.jsx)("p",{onClick:function(){e.push("/shopping")},children:"Browse Collection \u2192"})]}),Object(Cn.jsxs)(Ae,{children:[Object(Cn.jsxs)(Te,{children:[Object(Cn.jsx)("i",{className:"fas fa-book-reader"}),Object(Cn.jsx)("h3",{children:"Thousands of readers"}),Object(Cn.jsx)("p",{children:"More than 5000 readers has considered Bookworm their go to place"})]}),Object(Cn.jsxs)(Te,{children:[Object(Cn.jsx)("i",{className:"fas fa-pen-fancy"})," ",Object(Cn.jsx)("h3",{children:"Hundreds of Authors"}),Object(Cn.jsx)("p",{children:"We have books written by more than 200 best selling authors"})]}),Object(Cn.jsxs)(Te,{children:[Object(Cn.jsx)("i",{className:"fas fa-globe"}),Object(Cn.jsx)("h3",{children:"Worldwide operation"}),Object(Cn.jsx)("p",{children:"With offices all over the globe, we ensure the best customer service"})]})]})]})})),Re=wn.b.div(V||(V=Object(On.a)(["\n    padding: 0px var(--container-padding);\n    padding-top: 80px;\n    background: var(--lighter-grey);\n"]))),Ue=wn.b.div(X||(X=Object(On.a)(["\n    padding: 30px 0px 40px 0px;\n    display: flex;\n    align-items: flex-start;\n\n    @media (max-width: 1300px) {\n        flex-direction: column;\n    }\n"]))),Ye=wn.b.div(Z||(Z=Object(On.a)(["\n    flex: 1 1 0px;\n    width: 50%;\n    @media (max-width: 1300px) {\n        width: 100%;\n        display: flex;\n        margin-top: 40px;\n    }\n    @media (max-width: 720px) {\n        flex-direction: column;\n    }\n"]))),_e=wn.b.div(nn||(nn=Object(On.a)(["\n    flex: 2 2 0px;\n    position: relative;\n    display: grid;\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n    gap: 20px;\n    @media (max-width: 720px) {\n        grid-template-columns: repeat(2, minmax(0, 1fr));\n    }\n    @media (max-width: 500px) {\n        grid-template-columns: repeat(1, minmax(0, 1fr));\n    }\n"]))),He=wn.b.div(en||(en=Object(On.a)(["\n    padding: 30px;\n    h4 {\n        font-size: 16px;\n        font-weight: bold;\n    }\n    background: white;\n    border-radius: 8px;\n    margin-left: 40px;\n    margin-bottom: 40px;\n    box-shadow: 0 0 5px 0 rgb(0 0 0 / 10%);\n    @media (max-width: 1300px) {\n        width: 50%;\n        :first-child {\n            margin-left: 0px;\n        }\n    }\n    @media (max-width: 720px) {\n        width: 100%;\n        margin-left: 0px;\n    }\n"]))),We=Object(wn.b)(kn)(tn||(tn=Object(On.a)(["\n    justify-content: flex-start;\n    margin-top: 40px;\n    p {\n        margin: 0;\n    }\n    .image-wrapper {\n        flex: 1;\n        position: relative;\n        height: 100%;\n        width: 70px;\n        overflow: hidden;\n        .promotion-tag {\n            background: red;\n            font-size: 14px;\n            color: white;\n            position: absolute;\n            top: 0;\n            right: 0;\n            -webkit-transform: rotate(36deg) translate(174px, -87px);\n            -ms-transform: rotate(36deg) translate(174px, -87px);\n            transform: rotate(36deg) translate(189px, -114px);\n            text-align: center;\n            width: 500px;\n        }\n        img {\n            width: 100%;\n            height: 100%;\n        }\n    }\n    height: 100px;\n"]))),Ge=Object(wn.b)(yn)(rn||(rn=Object(On.a)(["\n    flex: 2.5;\n    align-items: flex-start;\n    padding-left: 30px;\n    .book-title {\n        font-size: 18px;\n        color: var(--lighter-blue);\n        :hover {\n            text-decoration: underline;\n            cursor: pointer;\n        }\n    }\n    .book-author {\n        font-size: 14px;\n        font-style: italic;\n    }\n    .book-price {\n        font-size: 18px;\n        font-weight: bold;\n        .promotion {\n            margin-right: 5px;\n            color: var(--darkest-grey);\n            font-size: 14px;\n        }\n    }\n"]))),Je=function(n){var e=n.match,t=n.perPage,i=e.params.page||1,r=Object(gn.useQuery)(Gn,{variables:{criteria:{},skip:(i-1)*t,limit:t}}),a=r.loading,o=r.data,c=null===o||void 0===o?void 0:o.findBooks;return Object(Cn.jsxs)(_e,{children:[a&&Object(Cn.jsx)(le,{}),c&&c.length&&c.map((function(n){return Object(Cn.jsx)(Ie,{book:n},n.id)}))]})},Ke=wn.b.div(an||(an=Object(On.a)(["\n    margin-top: 30px;\n    display: flex;\n"]))),Ve=wn.b.div(on||(on=Object(On.a)(["\n    background: ",";\n    color: ",";\n    border: 2px solid var(--lighter-blue);\n    margin-right: 10px;\n    padding: 5px 15px;\n    border-radius: 3px;\n    :hover {\n        cursor: pointer;\n        background: ",";\n    }\n    @media (max-width: 720px) {\n        padding: 2px 5px;\n        margin-right: 5px;\n    }\n"])),(function(n){return n.active?"var(--lighter-blue)":"white"}),(function(n){return n.active?"white":"var(--lighter-blue)"}),(function(n){return n.active?"var(--darker-blue)":"var(--lighter-grey)"})),Xe=Object(wn.b)(Ve)(cn||(cn=Object(On.a)(["\n    background: ",";\n    pointer-events: ",";\n"])),(function(n){return n.disabled?"var(--darker-grey)":"white"}),(function(n){return n.disabled?"none":"all"})),Ze=Object(qn.i)((function(n){var e=n.history,t=n.perPage,i=n.bookCount,r=Object(qn.g)().pathname.split("shopping/")[1],a=function(n){e.push("/shopping/"+n)};return Object(Cn.jsxs)(Ke,{children:[Object(Cn.jsx)(Xe,{disabled:"1"===r,onClick:function(){return a(parseInt(r)-1)},children:Object(Cn.jsx)("i",{className:"fas fa-chevron-left"})}),Object(Cn.jsx)(Ve,{active:!0,children:r}),Object(Cn.jsx)(Ve,{children:"..."}),Object(Cn.jsx)(Xe,{disabled:parseInt(i)<=parseInt(r)*parseInt(t),onClick:function(){return a(parseInt(r)+1)},children:Object(Cn.jsx)("i",{className:"fas fa-chevron-right"})})]})})),nt=Object(qn.i)((function(n){var e=n.books,t=n.history;return Object(Cn.jsx)(Cn.Fragment,{children:e&&e.length&&e.map((function(n){var e=n.id,i=n.image,r=n.title,a=n.author,o=n.price,c=n.promotion,s=c?o*(100-c)/100:o;return Object(Cn.jsxs)(We,{children:[Object(Cn.jsxs)("div",{className:"image-wrapper",children:[0!=c&&Object(Cn.jsxs)("span",{className:"promotion-tag",children:["SALE ",c,"%"]}),Object(Cn.jsx)("img",{src:i,alt:""})]}),Object(Cn.jsxs)(Ge,{children:[Object(Cn.jsx)("p",{className:"book-title",onClick:function(){return function(n){t.push("/book/"+n)}(e)},children:r}),Object(Cn.jsx)("p",{className:"book-author",children:a}),Object(Cn.jsxs)("p",{className:"book-price",children:[0!==c&&Object(Cn.jsxs)("strike",{className:"promotion",children:["$",o.toFixed(2)]}),"$",s.toFixed(2)]})]})]},e)}))})})),et=function(n){var e=n.match,t=Object(gn.useQuery)(Kn,{variables:{limit:4}}),i=t.data,r=(t.loading,null===i||void 0===i?void 0:i.getRandomBooks),a=Object(gn.useQuery)(Vn,{variables:{limit:3}}),o=a.data,c=(a.loading,null===o||void 0===o?void 0:o.getDiscountedBooks),s=Object(gn.useQuery)(Jn),d=s.data,l=s.loading;return s.error?Object(Cn.jsx)("h1",{children:"Something went wrong. Please try again later"}):l?Object(Cn.jsx)(le,{}):Object(Cn.jsx)(Cn.Fragment,{children:Object(Cn.jsxs)(Re,{children:[Object(Cn.jsx)(Ze,{perPage:9,bookCount:d.getBookPaginationMeta.count}),Object(Cn.jsxs)(Ue,{children:[Object(Cn.jsx)(qn.b,{path:"".concat(e.path,"/:page"),render:function(n){return Object(Cn.jsx)(Je,Object(In.a)({perPage:9},n))}}),Object(Cn.jsxs)(Ye,{children:[Object(Cn.jsxs)(He,{children:[Object(Cn.jsx)("h4",{children:"RELATED PRODUCTS"}),r&&r.length>0&&Object(Cn.jsx)(nt,{books:r})]}),Object(Cn.jsxs)(He,{children:[Object(Cn.jsx)("h4",{children:"PROMOTION"}),c&&c.length>0&&Object(Cn.jsx)(nt,{books:c})]})]})]})]})})},tt=t(21),it=t.n(tt),rt=t(32),at=t.p+"static/media/sell_image.834d5ff0.jpg",ot=Object(wn.c)(sn||(sn=Object(On.a)(["\n  from {\n    background-position: 0 0;\n    /* rotate: 0; */\n  }\n\n  to {\n    background-position: 100% 100%;\n    /* rotate: 360deg; */\n  }\n"]))),ct=Object(wn.b)(kn)(dn||(dn=Object(On.a)(["\n    margin-top: 80px;\n    padding: 40px var(--container-padding);\n    .side-img {\n        width: 33.33%;\n    }\n    background: var(--lighter-grey);\n    @media (max-width: 1180px) {\n        .side-img {\n            display: none;\n        }\n    }\n"]))),st=wn.b.form(ln||(ln=Object(On.a)(["\n    width: 66.67%;\n\n    fieldset {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        background: white;\n        box-shadow: 0 0 5px 0 rgb(0 0 0 / 10%);\n        margin-left: 50px;\n        padding: 30px 40px;\n        border-radius: 8px;\n        text-align: center;\n\n        h2 {\n            font-weight: bold;\n            margin-bottom: 20px;\n        }\n\n        input,\n        textarea,\n        .custom-file-upload {\n            margin-top: 10px;\n            width: 100%;\n            font-size: 20px;\n            border-radius: 5px;\n            padding: 5px 15px;\n            border: 1px solid var(--darker-grey);\n            :focus {\n                outline: none;\n                border: 1px solid var(--lighter-blue);\n            }\n        }\n\n        input[type='file'] {\n            display: none;\n        }\n        .custom-file-upload {\n            text-align: center;\n            margin-bottom: 0px;\n            i {\n                color: var(--lighter-blue);\n            }\n            :hover {\n                cursor: pointer;\n                background: var(--lighter-grey);\n            }\n        }\n\n        button {\n            margin-top: 40px;\n            background: var(--lighter-blue);\n            color: white;\n            padding: 5px 20px;\n            width: 100%;\n            border: 1px solid var(--lighter-blue);\n            border-radius: 5px;\n            :hover {\n                background: var(--darker-blue);\n            }\n        }\n\n        p {\n            margin-top: 20px;\n            font-size: 16px;\n            a {\n                color: var(--darker-blue);\n            }\n        }\n\n        &[disabled] {\n            opacity: 0.5;\n        }\n        &::before {\n            height: 10px;\n            display: block;\n            background-image: linear-gradient(\n                to right,\n                #24b6c8 0%,\n                #ffffff 50%,\n                #24b6c8 100%\n            );\n        }\n        &[aria-busy='true']::before {\n            transform: translateY(-10px);\n            content: '';\n            width: 100%;\n            background-size: 50% auto;\n            animation: "," 0.5s linear infinite;\n        }\n\n        @media (max-width: 1180px) {\n            width: 100%;\n            margin-left: 0px;\n        }\n    }\n"])),ot),dt=Object(wn.b)(yn)(pn||(pn=Object(On.a)(["\n    width: 50%;\n    @media (max-width: 720px) {\n        width: 100%;\n    }\n"]))),lt=Object(wn.b)(kn)(bn||(bn=Object(On.a)(["\n    width: 100%;\n    .left {\n        margin-right: 20px;\n    }\n    @media (max-width: 720px) {\n        flex-direction: column;\n        .left {\n            margin-right: 0px;\n        }\n    }\n"]))),pt=t(40);function bt(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(un.useState)(n),t=Object(Se.a)(e,2),i=t[0],r=t[1],a=Object.values(n).join("");function o(n){var e=n.target,t=e.value,a=e.name,o=e.type;("number"===o&&(t=parseFloat(t)),"file"===o)&&(t=Object(Se.a)(n.target.files,1)[0]);r(Object(In.a)(Object(In.a)({},i),{},Object(pt.a)({},a,t)))}function c(){r(n)}function s(){var n=Object.fromEntries(Object.entries(i).map((function(n){var e=Object(Se.a)(n,2),t=e[0];e[1];return[t,""]})));r(n)}return Object(un.useEffect)((function(){r(n)}),[a]),{form:i,handleChange:o,resetForm:c,clearForm:s}}var ut,ht,jt,xt,gt,mt,ft,Ot,vt,wt,kt,yt,Nt,Ct,St,$t,Bt,Pt,qt,It,Dt,Ft,Mt,zt,Et=function(){var n=bt({title:"",subtitle:"",author:"",description:"",shortDescription:"",price:"",promotion:"",image:""}),e=n.form,t=n.handleChange,i=n.clearForm,r=Object(un.useState)({imageName:""}),a=Object(Se.a)(r,2),o=a[0],c=a[1],s=Object(gn.useMutation)(Xn,{update:function(n,e){i(),fn.a.success("Book added successfully"),function(n,e){var t=Tn.cloneDeep(n.readQuery({query:Gn}));if(t){var i=e.data.addBook;n.writeQuery({query:Gn,data:{findBooks:[i].concat(Object(Qn.a)(t.findBooks))}});var r=Tn.cloneDeep(n.readQuery({query:Jn}));if(r){n.writeQuery({query:Jn,variables:{criteria:{}},data:{getBookPaginationMeta:Object(In.a)(Object(In.a)({},r.getBookPaginationMeta),{},{count:r.getBookPaginationMeta.count+1})}});var a=Tn.cloneDeep(n.readQuery({query:Ln}));a&&(a.getMe.books.push(e.data.addBook.id),n.writeQuery({query:Ln,data:{getMe:a}}))}}}(n,e)}}),d=Object(Se.a)(s,2),l=d[0],p=d[1].loading,b=function(){var n=Object(rt.a)(it.a.mark((function n(t){var i;return it.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),e.price&&(e.price=parseFloat(e.price)),e.promotion&&(e.promotion=parseFloat(e.promotion)),i=Object(In.a)({},e),!e.image||""===e.image){n.next=14;break}n.prev=5,ae(e.image).then((function(n){i.image=n,l({variables:i})})),n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(5),new Error(n.t0);case 12:n.next=15;break;case 14:fn.a.error("Please choose an image for this book");case 15:case"end":return n.stop()}}),n,null,[[5,9]])})));return function(e){return n.apply(this,arguments)}}();return Object(Cn.jsx)(Cn.Fragment,{children:Object(Cn.jsxs)(ct,{children:[Object(Cn.jsx)("div",{className:"side-img",children:Object(Cn.jsx)("img",{src:at,alt:""})}),Object(Cn.jsx)(st,{onSubmit:b,children:Object(Cn.jsxs)("fieldset",{disabled:p,"aria-busy":p,children:[Object(Cn.jsx)("h2",{children:"Add new product"}),Object(Cn.jsxs)(lt,{children:[Object(Cn.jsxs)(dt,{className:"left",children:[Object(Cn.jsx)("input",{type:"text",placeholder:"Title *",name:"title",value:e.title,onChange:t,required:!0}),Object(Cn.jsx)("input",{type:"text",placeholder:"Subtitle",name:"subtitle",value:e.subtitle,onChange:t}),Object(Cn.jsx)("input",{type:"text",placeholder:"Author *",name:"author",value:e.author,onChange:t,required:!0})]}),Object(Cn.jsxs)(dt,{className:"right",children:[Object(Cn.jsx)("input",{type:"number",step:"0.01",min:"0",max:"100",placeholder:"Price *",name:"price",value:e.price,onChange:t,required:!0}),Object(Cn.jsx)("input",{type:"number",min:"0",max:"100",placeholder:"Promotion (%) *",name:"promotion",value:e.promotion,onChange:t,required:!0}),Object(Cn.jsx)("textarea",{placeholder:"Short description *",rows:"1",name:"shortDescription",value:e.shortDescription,onChange:t,required:!0})]})]}),Object(Cn.jsx)("textarea",{placeholder:"Description *",rows:"3",name:"description",value:e.description,onChange:t,required:!0}),Object(Cn.jsxs)("label",{className:"custom-file-upload",children:[Object(Cn.jsx)("input",{type:"file",name:"image",onChange:function(n){var e,i,r;ce(null===n||void 0===n||null===(e=n.target)||void 0===e?void 0:e.files[0])?(c({imageName:null===n||void 0===n||null===(i=n.target)||void 0===i||null===(r=i.files[0])||void 0===r?void 0:r.name}),t(n)):(fn.a.error("Please choose an image file. Accepted extensions are jpeg, jpg, png, bmp and gif"),c({imageName:"Upload Image *"}))},required:!0}),Object(Cn.jsx)("i",{className:"fa fa-cloud-upload"})," ",o.imageName?o.imageName:"Upload Image *"]}),Object(Cn.jsx)("button",{type:"submit",children:"+ Add product"})]})})]})})},Qt=t.p+"static/media/account_background.43e6ef4c.jpg",At=Object(wn.b)(kn)(ut||(ut=Object(On.a)(["\n    min-height: 100vh;\n"]))),Tt=Object(wn.c)(ht||(ht=Object(On.a)(["\n  from {\n    background-position: 0 0;\n    /* rotate: 0; */\n  }\n\n  to {\n    background-position: 100% 100%;\n    /* rotate: 360deg; */\n  }\n"]))),Lt=wn.b.form(jt||(jt=Object(On.a)(["\n    fieldset {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        background: white;\n        padding: 30px 40px;\n        margin-top: 100px;\n        margin-bottom: 20px;\n        border-radius: 8px;\n        h2 {\n            font-weight: bold;\n        }\n        input {\n            margin-top: 10px;\n            font-size: 20px;\n            width: 350px;\n            border-radius: 5px;\n            padding: 5px 15px;\n            border: 1px solid var(--darker-grey);\n            :focus {\n                outline: none;\n                border: 1px solid var(--lighter-blue);\n            }\n        }\n\n        button {\n            margin-top: 20px;\n            background: var(--lighter-blue);\n            color: white;\n            padding: 5px 20px;\n            width: 100%;\n            border: 1px solid var(--lighter-blue);\n            border-radius: 5px;\n            :hover {\n                background: var(--darker-blue);\n            }\n        }\n\n        p {\n            margin-top: 20px;\n            font-size: 16px;\n            a {\n                color: var(--darker-blue);\n            }\n        }\n\n        &[disabled] {\n            opacity: 0.5;\n        }\n        &::before {\n            height: 10px;\n            display: block;\n            background-image: linear-gradient(\n                to right,\n                #24b6c8 0%,\n                #ffffff 50%,\n                #24b6c8 100%\n            );\n        }\n        &[aria-busy='true']::before {\n            transform: translateY(-10px);\n            content: '';\n            width: 100%;\n            background-size: 50% auto;\n            animation: "," 0.5s linear infinite;\n        }\n\n        .info {\n            margin: 0;\n            color: var(--lighter-orange);\n        }\n\n        @media (max-width: 720px) {\n            input {\n                width: 250px;\n            }\n        }\n        @media (max-width: 460px) {\n            padding: 20px 30px;\n            input {\n                width: 200px;\n            }\n            p {\n                font-size: 12px;\n            }\n        }\n    }\n"])),Tt),Rt=Object(wn.b)(At)(xt||(xt=Object(On.a)(["\n    background: url(",") no-repeat center/cover;\n"])),Qt),Ut=function(){var n=oe(),e=bt(n?{username:n.username,email:n.email,oldPassword:"",newPassword:""}:{username:"",email:"",oldPassword:"",newPassword:""}),t=e.form,i=e.handleChange,r=Object(gn.useMutation)(te,{variables:{username:t.username,oldPassword:t.oldPassword,newPassword:t.newPassword},update:function(n,e){fn.a.success("Update profile successully"),function(n,e){var t=Tn.cloneDeep(n.readQuery({query:Ln}));t&&n.writeQuery({query:Ln,data:{getMe:Object(In.a)(Object(In.a)({},t.getMe),{},{username:e.data.updateUser.username})}})}(n,e)}}),a=Object(Se.a)(r,2),o=a[0],c=a[1],s=c.loading,d=(c.error,function(){var n=Object(rt.a)(it.a.mark((function n(e){return it.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.next=3,o();case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());return Object(Cn.jsx)(Cn.Fragment,{children:Object(Cn.jsx)(Rt,{children:Object(Cn.jsx)(Lt,{onSubmit:d,children:Object(Cn.jsxs)("fieldset",{disabled:s,"aria-busy":s,children:[Object(Cn.jsx)("h2",{children:"Edit Your Info"}),Object(Cn.jsx)("input",{type:"text",placeholder:"Username",name:"username",value:t.username,onChange:i,required:!0}),Object(Cn.jsx)("input",{type:"text",placeholder:"Email",name:"email",value:t.email,onChange:i,disabled:!0}),Object(Cn.jsx)("input",{type:"password",placeholder:"Re-enter password *",name:"oldPassword",value:t.oldPassword,onChange:i,required:!0}),Object(Cn.jsx)("input",{type:"password",placeholder:"New password",name:"newPassword",value:t.newPassword,onChange:i}),Object(Cn.jsx)("button",{type:"submit",children:"Update info"}),Object(Cn.jsxs)("p",{children:["Came here by mistake?"," ",Object(Cn.jsx)(vn.b,{to:"/shopping",children:"Go back to shopping"})]})]})})})})},Yt=t.p+"static/media/login_background.2d7c4679.jpg",_t=Object(wn.b)(At)(gt||(gt=Object(On.a)(["\n    background: url(",") no-repeat center/cover;\n"])),Yt),Ht=Object(qn.i)((function(n){var e=n.history,t=bt({email:"user1@gmail.com",password:"123456"}),i=t.form,r=t.handleChange,a=Object(gn.useMutation)(Rn,{update:function(n,t){!function(n,e){var t,i=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.login;i&&n.writeQuery({query:Ln,data:{getMe:i}})}(n,t),fn.a.success("Logged in sucessfully"),e.push("/shopping")}}),o=Object(Se.a)(a,2),c=o[0],s=o[1],d=s.loading,l=(s.error,null!=oe()),p=function(){var n=Object(rt.a)(it.a.mark((function n(e){return it.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),c({variables:i});case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return l?Object(Cn.jsx)(qn.a,{to:"/shopping"}):Object(Cn.jsx)(Cn.Fragment,{children:Object(Cn.jsx)(_t,{children:Object(Cn.jsx)(Lt,{onSubmit:p,children:Object(Cn.jsxs)("fieldset",{disabled:d,"aria-busy":d,children:[Object(Cn.jsx)("h2",{children:"Login"}),Object(Cn.jsx)("p",{class:"info",children:"You can use this testing account or create your own"}),Object(Cn.jsx)("input",{type:"text",placeholder:"Email",name:"email",value:i.email,onChange:r,required:!0}),Object(Cn.jsx)("input",{type:"password",placeholder:"Password",name:"password",value:i.password,onChange:r,required:!0}),Object(Cn.jsx)("button",{type:"submit",children:"Login"}),Object(Cn.jsxs)("p",{children:["New to this website?"," ",Object(Cn.jsx)(vn.b,{to:"/register",children:"Register here"})]})]})})})})})),Wt=t.p+"static/media/register_background.6264653b.jpg",Gt=Object(wn.b)(At)(mt||(mt=Object(On.a)(["\n    background: url(",") no-repeat center/cover;\n"])),Wt),Jt=Object(qn.i)((function(n){var e=n.history,t=bt({username:"",email:"",password:"",confirmPassword:"",avatar:""}),i=t.form,r=t.handleChange,a=Object(gn.useMutation)(Yn,{update:function(n,t){!function(n,e){var t,i=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.register;i&&n.writeQuery({query:Ln,data:{getMe:i}})}(n,t),fn.a.success("Registered sucessfully"),e.push("/shopping")}}),o=Object(Se.a)(a,2),c=o[0],s=o[1].loading,d=null!=oe(),l=function(){var n=Object(rt.a)(it.a.mark((function n(e){var t;return it.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),delete(t=Object(In.a)({},i)).confirmPassword,c({variables:t});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return d?Object(Cn.jsx)(qn.a,{to:"/shopping"}):Object(Cn.jsx)(Cn.Fragment,{children:Object(Cn.jsx)(Gt,{children:Object(Cn.jsx)(Lt,{onSubmit:l,children:Object(Cn.jsxs)("fieldset",{disabled:s,"aria-busy":s,children:[Object(Cn.jsx)("h2",{children:"Create Account"}),Object(Cn.jsx)("input",{type:"text",placeholder:"Username",value:i.username,name:"username",onChange:r,required:!0}),Object(Cn.jsx)("input",{type:"email",placeholder:"Email",value:i.email,name:"email",onChange:r,required:!0}),Object(Cn.jsx)("input",{type:"password",placeholder:"Password",value:i.password,name:"password",onChange:r,required:!0}),Object(Cn.jsx)("input",{type:"password",placeholder:"Confirm password",value:i.confirmPassword,name:"confirmPassword",onChange:r,required:!0}),Object(Cn.jsx)("button",{type:"submit",children:"Sign up"}),Object(Cn.jsxs)("p",{children:["Already have an account?"," ",Object(Cn.jsx)(vn.b,{to:"/login",children:"Login here"})]})]})})})})})),Kt=wn.b.div(ft||(ft=Object(On.a)(["\n    padding-top: 80px;\n    min-height: 100vh;\n    h1 {\n        margin-bottom: 20px;\n    }\n"]))),Vt=wn.b.div(Ot||(Ot=Object(On.a)(["\n    margin-top: 20px;\n    padding: 0px var(--container-padding);\n"]))),Xt=Object(wn.b)(yn)(vt||(vt=Object(On.a)(["\n    align-items: flex-start;\n    border: 1px solid var(--darker-grey);\n    border-radius: 5px;\n    width: 100%;\n    margin-bottom: 20px;\n\n    :last-child {\n        margin-bottom: 60px;\n    }\n\n    .top {\n        width: 100%;\n        background: var(--lighter-grey);\n        padding: 20px;\n        .inner {\n            display: flex;\n        }\n        p {\n            margin: 0;\n        }\n        .info-group {\n            margin-right: 20px;\n        }\n    }\n\n    .bottom {\n        padding: 20px;\n    }\n"]))),Zt=Object(wn.b)(kn)(wt||(wt=Object(On.a)(["\n    justify-content: flex-start;\n    margin-top: 10px;\n    img {\n        width: 150px;\n    }\n    p {\n        margin: 0;\n    }\n    .item-info {\n        margin-left: 15px;\n        .book-title {\n            color: var(--lighter-blue);\n            :hover {\n                cursor: pointer;\n                text-decoration: underline;\n            }\n        }\n        .book-info {\n            font-style: italic;\n            font-size: 16px;\n        }\n    }\n"]))),ni=Object(qn.i)((function(n){var e=n.orderItem,t=e.quantity,i=e.pricePerItem,r=e.book,a=r.id,o=r.title,c=r.author,s=r.image,d=n.history;return Object(Cn.jsxs)(Zt,{children:[Object(Cn.jsx)("img",{src:s,alt:""}),Object(Cn.jsxs)("div",{className:"item-info",children:[Object(Cn.jsx)("p",{className:"book-title",onClick:function(){d.push("/book/"+a)},children:o}),Object(Cn.jsx)("p",{className:"book-info",children:c}),Object(Cn.jsxs)("p",{className:"book-info",children:["Price: $",i.toFixed(2)]}),Object(Cn.jsxs)("p",{className:"book-info",children:["Quantity: ",t]}),Object(Cn.jsxs)("p",{className:"book-info",children:["Subtotal: $",(t*i).toFixed(2)]})]})]})})),ei=function(n){var e=n.order,t=e.orderItems,i=e.createdAt,r=t.reduce((function(n,e){return n+e.quantity*e.pricePerItem}),0);return Object(Cn.jsxs)(Xt,{children:[Object(Cn.jsx)("div",{className:"top",children:Object(Cn.jsxs)("div",{className:"inner",children:[Object(Cn.jsxs)("div",{className:"info-group",children:[Object(Cn.jsx)("p",{children:"Purchase date"}),Object(Cn.jsx)("p",{children:se(i)})]}),Object(Cn.jsxs)("div",{className:"info-group",children:[Object(Cn.jsx)("p",{children:"Total"}),Object(Cn.jsxs)("p",{children:["$",r.toFixed(2)]})]})]})}),Object(Cn.jsx)("div",{className:"bottom",children:t&&t.length&&t.map((function(n){return Object(Cn.jsx)(ni,{orderItem:n},n.book.id)}))})]})},ti=wn.b.div(kt||(kt=Object(On.a)(["\n    .link {\n        color: var(--lighter-blue);\n    }\n"]))),ii=function(){var n,e=Object(gn.useQuery)(ie),t=e.data,i=e.loading,r=(e.error,null===t||void 0===t||null===(n=t.getMe)||void 0===n?void 0:n.orders);return i?Object(Cn.jsx)(le,{}):Object(Cn.jsx)(Cn.Fragment,{children:Object(Cn.jsx)(Kt,{children:Object(Cn.jsxs)(Vt,{children:[Object(Cn.jsx)("h1",{children:"Your orders"}),r&&r.length>0&&r.map((function(n){return Object(Cn.jsx)(ei,{order:n},n.id)})),r&&0===r.length&&Object(Cn.jsx)(ti,{children:Object(Cn.jsxs)("p",{children:["You don't have any order."," ",Object(Cn.jsx)(vn.b,{className:"link",to:"/shopping",children:"Shop now"})]})})]})})})},ri=wn.b.div(yt||(yt=Object(On.a)(["\n    padding-top: 80px;\n    white-space: pre-wrap;\n"]))),ai=wn.b.div(Nt||(Nt=Object(On.a)(["\n    background: var(--lighter-grey);\n    padding: 40px var(--container-padding);\n"]))),oi=wn.b.div(Ct||(Ct=Object(On.a)(["\n    background: white;\n    padding: 60px;\n    border-radius: 8px;\n"]))),ci=Object(wn.b)(kn)(St||(St=Object(On.a)(["\n    img {\n        flex: 1 1 0px;\n    }\n    @media (max-width: 1096px) {\n        flex-direction: column-reverse;\n    }\n"]))),si=Object(wn.b)(yn)($t||($t=Object(On.a)(["\n    flex: 3 3 0px;\n    padding: 10px 0px;\n    align-self: stretch;\n    margin-left: 40px;\n    justify-content: flex-start;\n    align-items: flex-start;\n    h1 {\n        margin: 0;\n    }\n    .book-author {\n        font-style: italic;\n    }\n    @media (max-width: 1096px) {\n        margin: 0;\n    }\n"]))),di=wn.b.div(Bt||(Bt=Object(On.a)(["\n    width: 33.33%;\n    position: relative;\n    overflow: hidden;\n    .promotion-tag {\n        background: red;\n        color: white;\n        position: absolute;\n        top: 0;\n        right: 0;\n        padding: 3px 70px;\n        transform: rotate(36deg) translate(174px, -87px);\n        text-align: center;\n        width: 500px;\n    }\n    img {\n        width: 100%;\n    }\n    @media (max-width: 1096px) {\n        width: 80%;\n        margin-top: 20px;\n    }\n    @media (max-width: 720px) {\n        width: 100%;\n    }\n"]))),li=Object(wn.b)(yn)(Pt||(Pt=Object(On.a)(["\n    justify-content: flex-start;\n    margin-top: 20px;\n    border: 2px solid var(--darker-grey);\n    border-top-left-radius: 12px;\n    border-top-right-radius: 12px;\n    border-bottom-left-radius: 8px;\n    border-bottom-right-radius: 8px;\n    .top {\n        padding: 10px 80px;\n        background: var(--lighter-grey);\n        .promotion {\n            margin-right: 5px;\n            color: var(--darkest-grey);\n            font-size: 18px;\n        }\n    }\n    .bottom {\n        padding: 10px 20px;\n        display: flex;\n        input {\n            padding: 10px;\n            width: 70px;\n            margin-right: 10px;\n            border-radius: 5px;\n        }\n        button {\n            padding: 0px 20px;\n            background: var(--darker-black);\n            color: white;\n            border-radius: 50px;\n            :hover {\n                background: var(--lighter-black);\n            }\n        }\n    }\n    @media (max-width: 572px) {\n        .top {\n            padding: 10px 80px;\n        }\n        .bottom {\n            input {\n                padding: 5px;\n                width: 30px;\n            }\n        }\n        button {\n            content: 'Add';\n        }\n    }\n"]))),pi=wn.b.div(qt||(qt=Object(On.a)(["\n    margin-top: 30px;\n    h2::after {\n        content: '';\n        margin-top: 10px;\n        display: block;\n        border: dashed 1px var(--darker-grey);\n    }\n"]))),bi=Object(wn.b)(yn)(It||(It=Object(On.a)(["\n    padding: 40px var(--container-padding);\n    background: var(--lighter-grey);\n    div {\n        margin-right: 20px;\n    }\n    div :last-child {\n        margin-right: 0px;\n    }\n    h3 {\n        margin-bottom: 15px;\n    }\n    @media (max-width: 927px) {\n        margin-right: 0px;\n        div {\n            margin-right: 0px;\n        }\n    }\n"]))),ui=Object(wn.b)(kn)(Dt||(Dt=Object(On.a)(["\n    @media (max-width: 927px) {\n        flex-direction: column;\n        > div {\n            margin-bottom: 10px;\n        }\n    }\n    > div {\n        flex: 1;\n    }\n    align-items: stretch;\n"]))),hi=Object(qn.i)((function(n){var e=n.history,t=Object(qn.h)().id,i=oe(),r=null!=i,a=Object(gn.useMutation)(Hn,{variables:{bookId:t},update:function(n,e){fn.a.success("Added to cart"),re(n,e)}}),o=Object(Se.a)(a,2),c=o[0],s=(o[1].addToCartLoading,Object(gn.useQuery)(Kn,{fetchPolicy:"network-only",variables:{limit:4}})),d=s.data,l=(s.loading,null===d||void 0===d?void 0:d.getRandomBooks),p=Object(gn.useQuery)(ne,{variables:{id:t}}),b=p.data,u=p.loading,h=(p.error,null===b||void 0===b?void 0:b.findBookById),j=h&&h.promotion?h.price*(100-h.promotion)/100:null===h||void 0===h?void 0:h.price,x=(null===i||void 0===i?void 0:i.books)&&-1!==(null===i||void 0===i?void 0:i.books.findIndex((function(n){return n.id===t})));return u?Object(Cn.jsx)(le,{}):Object(Cn.jsx)(Cn.Fragment,{children:Object(Cn.jsxs)(ri,{children:[Object(Cn.jsx)(ai,{children:Object(Cn.jsxs)(oi,{children:[Object(Cn.jsxs)(ci,{children:[Object(Cn.jsxs)(di,{children:[0!=h.promotion&&Object(Cn.jsxs)("span",{className:"promotion-tag",children:["SALE ",h.promotion,"%"]}),Object(Cn.jsx)("img",{src:h.image,alt:""})]}),Object(Cn.jsxs)(si,{children:[Object(Cn.jsx)("h1",{children:h.title}),Object(Cn.jsxs)("p",{className:"book-author",children:["By ",h.author]}),Object(Cn.jsx)("p",{children:h.shortDescription}),Object(Cn.jsxs)(li,{children:[Object(Cn.jsx)("div",{className:"top",children:Object(Cn.jsxs)("h4",{children:[0!==h.promotion&&Object(Cn.jsxs)("strike",{className:"promotion",children:["$",h.price.toFixed(2)]}),"$",j.toFixed(2)]})}),Object(Cn.jsxs)("div",{className:"bottom",children:[x&&Object(Cn.jsx)("button",{onClick:function(){e.push("/edit/book/"+t)},children:"Edit Book"}),!x&&Object(Cn.jsx)("button",{onClick:function(){r?c():(fn.a.error("Please log in first"),e.push("/login"))},children:"Add to cart"})]})]})]})]}),Object(Cn.jsxs)(pi,{children:[Object(Cn.jsx)("h2",{children:"Description"}),Object(Cn.jsx)("p",{children:h.description})]})]})}),Object(Cn.jsxs)(bi,{children:[Object(Cn.jsx)("h3",{children:"Related Products"}),Object(Cn.jsx)(ui,{children:l&&l.length&&l.map((function(n){return Object(Cn.jsx)(Ie,{book:n},n.id)}))})]})]})})})),ji=ct,xi=function(){var n=oe(),e=Object(qn.h)().id,t=Object(gn.useQuery)(ne,{variables:{id:e}}),i=t.data,r=(t.loading,t.error,(null===i||void 0===i?void 0:i.findBookById)?Object(In.a)({},i.findBookById):null);r&&r.image&&delete r.image;var a=bt(r||{title:"",subtitle:"",author:"",description:"",shortDescription:"",price:"",promotion:""}),o=a.form,c=a.handleChange,s=a.clearForm,d=Object(un.useState)({imageName:""}),l=Object(Se.a)(d,2),p=l[0],b=l[1],u=Object(gn.useMutation)(Zn,{variables:Object(In.a)({id:e},o),update:function(n,e){fn.a.success("Book updated successfully"),s(),function(n,e){var t=Tn.cloneDeep(n.readQuery({query:Gn}));if(t){var i=e.data.updateBook;t.findBooks=t.findBooks.filter((function(n){return n.id!==i.id})),n.writeQuery({query:Gn,data:{findBooks:[i].concat(Object(Qn.a)(t.findBooks))}})}}(n,e)}}),h=Object(Se.a)(u,2),j=h[0],x=h[1].loading,g=function(){var n=Object(rt.a)(it.a.mark((function n(e){var t;return it.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),o.price&&(o.price=parseFloat(o.price)),o.promotion&&(o.promotion=parseFloat(o.promotion)),t=Object(In.a)({},o),!o.image||""===o.image){n.next=14;break}n.prev=5,ae(o.image).then((function(n){t.image=n,j({variables:t})})),n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(5),new Error(n.t0);case 12:n.next=16;break;case 14:delete t.image,j({variables:t});case 16:case"end":return n.stop()}}),n,null,[[5,9]])})));return function(e){return n.apply(this,arguments)}}();return n&&-1!==n.books.findIndex((function(n){return n.id===e}))?Object(Cn.jsxs)(Cn.Fragment,{children:[Object(Cn.jsxs)(ji,{children:[Object(Cn.jsx)("div",{className:"side-img",children:Object(Cn.jsx)("img",{src:at,alt:""})}),Object(Cn.jsx)(st,{onSubmit:g,children:Object(Cn.jsxs)("fieldset",{disabled:x,"aria-busy":x,children:[Object(Cn.jsx)("h2",{children:"Edit product info"}),Object(Cn.jsxs)(lt,{children:[Object(Cn.jsxs)(dt,{className:"left",children:[Object(Cn.jsx)("input",{type:"text",placeholder:"Title *",name:"title",value:o.title,onChange:c,required:!0}),Object(Cn.jsx)("input",{type:"text",placeholder:"Subtitle",name:"subtitle",value:o.subtitle,onChange:c}),Object(Cn.jsx)("input",{type:"text",placeholder:"Author *",name:"author",value:o.author,onChange:c,required:!0})]}),Object(Cn.jsxs)(dt,{className:"right",children:[Object(Cn.jsx)("input",{type:"number",step:"0.01",min:"0",max:"100",placeholder:"Price *",name:"price",value:o.price,onChange:c,required:!0}),Object(Cn.jsx)("input",{type:"number",min:"0",max:"100",placeholder:"Promotion (%) *",name:"promotion",value:o.promotion,onChange:c,required:!0}),Object(Cn.jsx)("textarea",{placeholder:"Short description *",rows:"1",name:"shortDescription",value:o.shortDescription,onChange:c,required:!0})]})]}),Object(Cn.jsx)("textarea",{placeholder:"Description *",rows:"3",name:"description",value:o.description,onChange:c,required:!0}),Object(Cn.jsxs)("label",{className:"custom-file-upload",children:[Object(Cn.jsx)("input",{type:"file",name:"image",onChange:function(n){var e,t,i;ce(null===n||void 0===n||null===(e=n.target)||void 0===e?void 0:e.files[0])?(b({imageName:null===n||void 0===n||null===(t=n.target)||void 0===t||null===(i=t.files[0])||void 0===i?void 0:i.name}),c(n)):(fn.a.error("Please choose an image file. Accepted extensions are jpeg, jpg, png, bmp and gif"),b({imageName:"Change Image"}))}}),Object(Cn.jsx)("i",{className:"fa fa-cloud-upload"})," ",p.imageName?p.imageName:"Change Image"]}),Object(Cn.jsx)("button",{type:"submit",children:"Edit product"})]})})]}),";"]}):Object(Cn.jsx)(qn.a,{to:"/shopping"})},gi=function(n){var e=n.toggleDropdown,t=n.open;return Object(Cn.jsx)(ye,{onClick:function(){e()},children:Object(Cn.jsxs)(Ne,{className:t?"open":"",children:[Object(Cn.jsx)("span",{}),Object(Cn.jsx)("span",{}),Object(Cn.jsx)("span",{}),Object(Cn.jsx)("span",{})]})})},mi=t(71),fi=Object(wn.b)(kn)(Ft||(Ft=Object(On.a)(["\n    width: ",";\n    transition: all 1s;\n    position: relative;\n    margin-left: 10px;\n\n    :hover {\n        cursor: pointer;\n    }\n\n    .input-wrapper {\n        width: 100%;\n        i {\n            display: ",";\n            position: absolute;\n            top: 11px;\n            right: 8px;\n            color: grey;\n        }\n    }\n\n    input {\n        color: var(--lighter-black);\n        transition: all 1s;\n        width: 100%;\n        opacity: ",";\n        padding: ",";\n        border: 1px solid var(--darker-grey);\n        :focus {\n            outline: none;\n        }\n    }\n    .search-icon {\n        display: ",";\n        margin-left: ",";\n    }\n\n    .dropdown {\n        display: ",";\n    }\n\n    @media (max-width: 500px) {\n        width: ",";\n    }\n"])),(function(n){return n.showSearch?"400px":"20px"}),(function(n){return n.showSearch?"block":"none"}),(function(n){return n.showSearch?"100%":"0%"}),(function(n){return n.showSearch?"5px 20px":"0px"}),(function(n){return n.showSearch?"none":"block"}),(function(n){return n.showSearch?"5px":"0px"}),(function(n){return n.showSearch?"block":"none"}),(function(n){return n.showSearch?"270px":"20px"})),Oi=wn.b.div(Mt||(Mt=Object(On.a)(["\n    z-index: 1;\n    position: absolute;\n    width: 100%;\n    top: 43px;\n    box-shadow: 0px 3px 5px 0 rgb(0 0 0 / 30%);\n"]))),vi=Object(wn.b)(kn)(zt||(zt=Object(On.a)(["\n    transition: all 0.3s;\n    z-index: -1;\n    justify-content: flex-start;\n    background: ",";\n    color: black;\n    border: ",";\n    padding: 10px 20px;\n    padding-left: ",";\n    line-height: 1;\n    img {\n        width: 50px;\n    }\n    p {\n        margin: 0;\n    }\n    .book-info {\n        margin-left: 10px;\n        .book-author {\n            font-size: 14px;\n            font-style: italic;\n            margin-top: 5px;\n        }\n    }\n    :hover {\n        background: var(--darker-grey);\n        border: 2px solid yellow;\n        padding-left: 30px;\n    }\n"])),(function(n){return n.active?"var(--darker-grey)":"white"}),(function(n){return n.active?"2px solid yellow":"1px solid var(--lighter-grey)"}),(function(n){return n.active?"30px":"10px"}));function wi(n){var e=n.onClickOutside,t=Object(zn.a)(n,["onClickOutside"]),i=Object(un.useRef)(null);return function(n,e){Object(un.useEffect)((function(){function t(t){n.current&&!n.current.contains(t.target)&&Object(En.isFunction)(e)&&e()}return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}),[n,e])}(i,e),Object(Cn.jsx)("div",{ref:i,children:t.children})}var ki=Object(qn.i)((function(n){var e=n.searchToggled,t=n.history,i=Object(un.useState)({showSearch:!1}),r=Object(Se.a)(i,2),a=r[0],o=r[1],c=function(){e(!a.showSearch),o({showSearch:!a.showSearch})},s=Object(un.useState)({value:""}),d=Object(Se.a)(s,2),l=d[0],p=d[1],b=Object(gn.useLazyQuery)(Gn,{fetchPolicy:"no-cache"}),u=Object(Se.a)(b,2),h=u[0],j=u[1],x=j.loading,g=j.data,m=(j.error,function(n){t.push("/book/"+n)}),f=function(n,e){var t=n.toLowerCase().indexOf(e.toLowerCase()),i=t+e.length;if(-1===t)return n;var r=Object(Cn.jsx)("b",{children:n.substring(t,i)});return Object(Cn.jsxs)(Cn.Fragment,{children:[n.substring(0,t),r,n.substring(i)]})},O=(null===g||void 0===g?void 0:g.findBooks)||[],v=function(n,e){var t=Object(un.useRef)();return t.current=n,Object(un.useCallback)(Object(En.debounce)((function(){return t.current.apply(t,arguments)}),e),[])}(h,350);Object(mi.a)();var w=Object(mi.b)({items:O,onInputValueChange:function(n){var e=n.inputValue;p({value:e}),v({variables:{titleContains:e,limit:5}})},onSelectedItemChange:function(n){var e=n.selectedItem;m(e.id)},itemToString:function(n){return(null===n||void 0===n?void 0:n.title)||""}}),k=w.getMenuProps,y=w.getInputProps,N=w.getComboboxProps,C=w.getItemProps,S=w.highlightedIndex,$=w.isOpen;return Object(Cn.jsx)(wi,{onClickOutside:function(){a.showSearch&&(e(!1),o({showSearch:!1}))},children:Object(Cn.jsxs)(fi,{showSearch:a.showSearch,children:[Object(Cn.jsxs)("div",Object(In.a)(Object(In.a)({},N()),{},{className:"input-wrapper",children:[Object(Cn.jsx)("input",Object(In.a)({},y({placeholder:"Search for an item",id:"search"}))),Object(Cn.jsx)("i",{className:"fas fa-times",onClick:c})]})),Object(Cn.jsx)("i",{className:"fas fa-search search-icon",onClick:c}),Object(Cn.jsxs)(Oi,Object(In.a)(Object(In.a)({className:"dropdown"},k()),{},{children:[$&&O.map((function(n,e){return Object(Cn.jsxs)(vi,Object(In.a)(Object(In.a)({},C({item:n})),{},{active:e===S,onClick:function(){m(n.id),c()},children:[Object(Cn.jsx)("img",{src:n.image,alt:"",width:"50px"}),Object(Cn.jsxs)("div",{className:"book-info",children:[Object(Cn.jsx)("p",{className:"book-title",children:f(n.title,l.value)}),Object(Cn.jsx)("p",{className:"book-author",children:n.author})]})]}),n.id)})),$&&!O.length&&!x&&Object(Cn.jsxs)(vi,{children:["No item found for ",l.value]})]}))]})})})),yi=Object(un.createContext)(),Ni=yi.Provider,Ci=function(n){var e=n.children,t=Object(un.useState)(!1),i=Object(Se.a)(t,2),r=i[0],a=i[1];return Object(Cn.jsx)(Ni,{value:{cartOpen:r,toggleCart:function(){a(!r)},closeCart:function(){a(!1)},openCart:function(){a(!0)}},children:e})},Si=function(){return Object(un.useContext)(yi)},$i=function(n){var e,t=n.user,i=Si().openCart,r=null===t||void 0===t||null===(e=t.cart)||void 0===e?void 0:e.reduce((function(n,e){return n+e.quantity}),0);return Object(Cn.jsx)(Oe,{onClick:i,className:"position-relative",children:Object(Cn.jsxs)(we,{children:["Cart",null!=r&&0!=r&&Object(Cn.jsx)(ke,{children:r})]})})},Bi=Object(qn.i)((function(n){var e=n.history,t=Object(gn.useMutation)(Un,{update:function(n,e){fn.a.error("Logged out"),function(n,e){n.writeQuery({query:Ln,data:{getMe:null}})}(n)}}),i=Object(Se.a)(t,1)[0],r=function(){var n=Object(rt.a)(it.a.mark((function n(){return it.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i();case 2:e.push("/");case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(Cn.jsx)(Oe,{onClick:r,children:"Logout"})})),Pi=function(n){var e=n.transparentInitially,t=oe(),i=null!=t,r=Object(un.useState)({showNavBg:!e,dropdownNav:!1,outerStyle:{}}),a=Object(Se.a)(r,2),o=a[0],c=a[1];Object(un.useEffect)((function(){c(Object(In.a)(Object(In.a)({},o),{},{showNavBg:!e}))}),[e]);var s=Object(un.useState)({on:!1}),d=Object(Se.a)(s,2),l=d[0],p=d[1];return Object(un.useEffect)((function(){var n=!1,t=function(e){window.pageYOffset>40?n?c((function(n){return Object(In.a)(Object(In.a)({},n),{},{outerStyle:Object(In.a)({},n.outerStyle),dropdownNav:!1,showNavBg:!0})})):(c((function(n){return Object(In.a)(Object(In.a)({},n),{},{dropdownNav:!1,showNavBg:!0,outerStyle:{transform:"translateY(-80px)"}})})),setTimeout((function(){c((function(n){return Object(In.a)(Object(In.a)({},n),{},{dropdownNav:!1,showNavBg:!0,outerStyle:{transform:"translateY(0px)"}})})),n=!0}),500)):(c((function(n){return Object(In.a)(Object(In.a)({},n),{},{dropdownNav:!1,showNavBg:!1,outerStyle:{}})})),n=!1)};return e&&window.addEventListener("scroll",t),function(){return window.removeEventListener("scroll",t)}}),[e]),Object(Cn.jsx)(wi,{onClickOutside:function(){c((function(n){return Object(In.a)(Object(In.a)({},n),{},{outerStyle:Object(In.a)({},n.outerStyle),dropdownNav:!1})}))},children:Object(Cn.jsx)(he,{showNavBg:o.showNavBg,style:o.outerStyle,children:Object(Cn.jsx)(je,{children:Object(Cn.jsxs)(xe,{showNavBg:o.showNavBg,searchOn:l.on,children:[Object(Cn.jsx)("a",{href:"/",className:l.on?"special-text logo disable":"special-text logo",children:"Bookworm"}),Object(Cn.jsxs)(ge,{children:[Object(Cn.jsxs)(me,{className:(o.dropdownNav?"dropdown-nav":"")+(o.showNavBg?" show-nav-bg":""),children:[Object(Cn.jsx)(Oe,{as:vn.b,to:"/shopping",children:"Shop"}),i&&Object(Cn.jsx)(Oe,{as:vn.b,to:"/sell",children:"Sell"}),i&&Object(Cn.jsx)(Oe,{as:vn.b,to:"/orders",children:"Orders"}),i&&Object(Cn.jsx)(Oe,{as:vn.b,to:"/account",children:"Account"}),Object(Cn.jsx)($i,{showNavBg:o.showNavBg,user:t,children:"My Cart"}),i&&Object(Cn.jsx)(Bi,{showNavBg:o.showNavBg,children:"Logout"}),!i&&Object(Cn.jsx)(Oe,{as:vn.b,to:"/login",children:"Login"}),!i&&Object(Cn.jsx)(Oe,{as:vn.b,to:"/register",children:"Register"})]}),Object(Cn.jsx)(gi,{toggleDropdown:function(){c((function(n){return Object(In.a)(Object(In.a)({},n),{},{outerStyle:Object(In.a)({},n.outerStyle),dropdownNav:!n.dropdownNav})}))},open:o.dropdownNav}),Object(Cn.jsx)(ki,{searchToggled:function(n){p({on:n})}})]})]})})})})};var qi,Ii,Di,Fi,Mi,zi,Ei,Qi,Ai,Ti,Li=Object(qn.i)((function(n){var e=n.history;return Object(un.useEffect)((function(){var n=e.listen((function(){window.scrollTo(0,0)}));return function(){n()}}),[]),null})),Ri=function(){var n=Object(qn.g)(),e=["/","/login","/register","/account"].includes(n.pathname);return Object(Cn.jsxs)(Cn.Fragment,{children:[Object(Cn.jsx)(Pi,{transparentInitially:e}),Object(Cn.jsx)(Li,{}),Object(Cn.jsxs)(qn.d,{children:[Object(Cn.jsx)(Mn,{path:"/",exact:!0,component:Le}),Object(Cn.jsx)(Mn,{path:"/login",exact:!0,component:Ht}),Object(Cn.jsx)(Mn,{path:"/register",exact:!0,component:Jt}),Object(Cn.jsx)(Mn,{path:"/shopping",exact:!0,render:function(){return Object(Cn.jsx)(qn.a,{to:"/shopping/1"})}}),Object(Cn.jsx)(Mn,{path:"/shopping",component:et}),Object(Cn.jsx)(pe,{path:"/sell",exact:!0,component:Et}),Object(Cn.jsx)(pe,{path:"/account",exact:!0,component:Ut}),Object(Cn.jsx)(pe,{path:"/orders",exact:!0,component:ii}),Object(Cn.jsx)(Mn,{path:"/book/:id",exact:!0,component:hi}),Object(Cn.jsx)(pe,{path:"/edit/book/:id",exact:!0,component:xi}),Object(Cn.jsx)(Mn,{path:"/",render:function(){return Object(Cn.jsx)(qn.a,{to:"/shopping"})}})]})]})},Ui=wn.b.div(qi||(qi=Object(On.a)(["\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    padding: 10px 30px;\n    color: var(--darker-black);\n    transform: translate(\n        -50%,\n        ","\n    );\n    transition: 1s ease-out;\n    width: 650px;\n    height: 450px;\n    z-index: 100;\n    background: white;\n    box-shadow: 0 0 5px 0 rgb(0 0 0 / 30%);\n    h2 {\n        text-align: center;\n        margin: auto;\n        font-size: 35px;\n        font-weight: bold;\n    }\n    border: 10px solid var(--lighter-blue);\n    border-radius: 5px;\n\n    overflow-y: scroll;\n    ::-webkit-scrollbar {\n        width: 0;\n    }\n\n    @media (max-height: 550px) {\n        height: 350px;\n    }\n    @media (max-height: 455px) {\n        height: 200px;\n        transform: translate(\n            -50%,\n            ","\n        );\n    }\n    @media (max-width: 720px) {\n        width: 450px;\n    }\n    @media (max-width: 550px) {\n        width: 300px;\n        img {\n            display: none;\n        }\n    }\n"])),(function(n){return n.show?"calc(-40%)":"-300%"}),(function(n){return n.show?"calc(-25%)":"-300%"})),Yi=wn.b.div(Ii||(Ii=Object(On.a)(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    transition: 0.5s ease-out;\n    z-index: ",";\n    opacity: ",";\n    background: grey;\n"])),(function(n){return n.show?99:-100}),(function(n){return n.show?.7:0})),_i=wn.b.div(Di||(Di=Object(On.a)(["\n    display: flex;\n    align-items: center;\n    padding-bottom: 15px;\n    margin-top: 10px;\n"]))),Hi=wn.b.img(Fi||(Fi=Object(On.a)(["\n    height: 7rem;\n    width: 5rem;\n    object-fit: fill;\n"]))),Wi=wn.b.div(Mi||(Mi=Object(On.a)(["\n    padding-left: 20px;\n    display: flex;\n    flex-grow: 1;\n    justify-content: space-between;\n    p {\n        margin: 0;\n    }\n    .book-title {\n        color: var(--darker-black);\n    }\n    .info {\n        font-size: 16px;\n        font-style: italic;\n        .promotion {\n            margin-right: 5px;\n            color: var(--darkest-grey);\n            font-size: 12px;\n        }\n    }\n    @media (max-width: 550px) {\n        padding-left: 0px;\n    }\n"]))),Gi=wn.b.div(zi||(zi=Object(On.a)(["\n    display: flex;\n    align-items: center;\n    .minus {\n        padding-left: 13px;\n        padding-right: 13px;\n        margin-right: 10px;\n    }\n    .plus {\n        margin-left: 10px;\n    }\n"]))),Ji=wn.b.button(Ei||(Ei=Object(On.a)(["\n    padding: 3px 10px;\n    color: white;\n    background: var(--lighter-blue);\n    border: none;\n    border-radius: 5px;\n    :hover {\n        background: var(--darker-blue);\n    }\n    :active {\n        background: var(--darkest-blue);\n    }\n"]))),Ki=wn.b.div(Qi||(Qi=Object(On.a)(["\n    text-align: right;\n    font-size: 25px;\n    font-weight: bold;\n"]))),Vi=wn.b.button(Ai||(Ai=Object(On.a)(["\n    width: 100%;\n    color: white;\n    background: var(--lighter-orange);\n    border: none;\n    padding: 5px 0px;\n    border-radius: 5px;\n    :hover {\n        background: var(--darker-orange);\n    }\n    :active {\n        background: var(--darkest-orange);\n    }\n"]))),Xi=Object(wn.b)(kn)(Ti||(Ti=Object(On.a)(["\n    input {\n        :focus {\n            outline: none;\n        }\n        margin-right: 25px;\n    }\n"]))),Zi=function(n){var e=n.cartItem,t=e.book,i=t.id,r=t.image,a=t.price,o=t.promotion,c=t.title,s=e.quantity,d=o?a*(100-o)/100:a,l=s*d,p=Object(gn.useMutation)(Hn,{variables:{bookId:i},update:function(n,e){re(n,e)}}),b=Object(Se.a)(p,1)[0],u=Object(gn.useMutation)(Wn,{variables:{bookId:i},update:function(n,e){!function(n,e){var t=Tn.cloneDeep(n.readQuery({query:_n}));if(t){var i=e.data.removeFromCart,r=t.getMe.cart.findIndex((function(n){return n.book.id===i.book.id}));-1!==r&&(t.getMe.cart[r].quantity--,t.getMe.cart[r].quantity<=0&&t.getMe.cart.splice(r,1),n.writeQuery({query:_n,data:t}))}}(n,e)}}),h=Object(Se.a)(u,1)[0];return Object(Cn.jsxs)(_i,{children:[Object(Cn.jsx)(Hi,{src:r}),Object(Cn.jsxs)(Wi,{children:[Object(Cn.jsxs)("div",{children:[Object(Cn.jsx)("p",{className:"book-title",children:c}),Object(Cn.jsxs)("p",{className:"info",children:["Price:"," ",0!==o&&Object(Cn.jsxs)("strike",{className:"promotion",children:["$",a.toFixed(2)]}),"$",d.toFixed(2)]}),Object(Cn.jsxs)("p",{className:"info",children:["Quantity: ",s]}),Object(Cn.jsxs)("p",{className:"info",children:["Subtotal: $",l.toFixed(2)]})]}),Object(Cn.jsxs)(Gi,{children:[Object(Cn.jsx)(Ji,{className:"minus",onClick:h,children:"-"}),s,Object(Cn.jsx)(Ji,{className:"plus",onClick:b,children:"+"})]})]})]})},nr=function(){var n,e=null!=oe(),t=Si(),i=t.cartOpen,r=t.closeCart,a=Object(un.useState)({password:"",formEnabled:!1}),o=Object(Se.a)(a,2),c=o[0],s=o[1],d=Object(gn.useQuery)(_n),l=d.data,p=(d.loading,null===l||void 0===l||null===(n=l.getMe)||void 0===n?void 0:n.cart),b=0;p&&p.forEach((function(n){var e=n.book.promotion?n.book.price*(100-n.book.promotion)/100:n.book.price;b+=n.quantity*e}));var u=Object(gn.useMutation)(ee,{variables:{password:c.password},update:function(n,e){fn.a.success("Purchase successully"),function(n,e){var t=Tn.cloneDeep(n.readQuery({query:_n}));t&&n.writeQuery({query:_n,data:{getMe:Object(In.a)(Object(In.a)({},t.getMe),{},{cart:[]})}})}(n)}}),h=Object(Se.a)(u,2),j=h[0],x=h[1].loading,g=null;return e?p&&0===p.length?g=Object(Cn.jsx)("p",{children:"You have no item in your cart"}):p&&p.length>0&&(g=Object(Cn.jsxs)(Cn.Fragment,{children:[p.map((function(n){return Object(Cn.jsx)(Zi,{cartItem:n},n.id)})),Object(Cn.jsx)(Ki,{children:Object(Cn.jsxs)("p",{className:"pr-3 pb-1",children:["Total: $",b.toFixed(2)]})}),!c.formEnabled&&Object(Cn.jsx)(Vi,{onClick:function(){s(Object(In.a)(Object(In.a)({},c),{},{formEnabled:!0}))},children:"CHECKOUT"}),c.formEnabled&&Object(Cn.jsxs)(Xi,{children:[Object(Cn.jsx)("input",{type:"password",placeholder:"Re-enter your password *",name:"password",value:c.password,onChange:function(n){s(Object(In.a)(Object(In.a)({},c),{},Object(pt.a)({},n.target.name,n.target.value)))},disabled:x,required:!0}),Object(Cn.jsx)(Vi,{onClick:function(n){n.preventDefault(),j()},disabled:x,children:"CHECKOUT"})]})]})):g=Object(Cn.jsx)("p",{children:"Please login first"}),Object(Cn.jsxs)(Cn.Fragment,{children:[Object(Cn.jsx)(Yi,{show:i,onClick:function(){s(Object(In.a)(Object(In.a)({},c),{},{password:"",formEnabled:!1})),r()}}),Object(Cn.jsxs)(Ui,{show:i,children:[Object(Cn.jsx)("h2",{children:"My Cart"}),x?Object(Cn.jsx)(le,{}):null,g]})]})};var er=function(){var n=Object(gn.useQuery)(Ln),e=n.loading;return n.error?(fn.a.error("Something went wrong. Please try again later"),null):e?Object(Cn.jsx)(le,{}):Object(Cn.jsxs)(Pn,{children:[Object(Cn.jsx)(nr,{}),Object(Cn.jsx)(Ri,{})]})},tr=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,117)).then((function(e){var t=e.getCLS,i=e.getFID,r=e.getFCP,a=e.getLCP,o=e.getTTFB;t(n),i(n),r(n),a(n),o(n)}))},ir=t(94),rr=t(92);var ar=Object(rr.createNetworkStatusNotifier)(),or=ar.link,cr=ar.useApolloNetworkStatus;function sr(){return cr().numPendingMutations>0?(Fn.a.start(),null):(Fn.a.done(),null)}var dr=Object(gn.createHttpLink)({uri:"/graphql",credentials:"include"}),lr=Object(ir.a)((function(n){var e=n.graphQLErrors,t=n.networkError;e&&e.forEach((function(n){var e=n.message,t=(n.locations,n.path,e.split(": ")[1]);t?fn.a.error(t):fn.a.error(e)})),t&&fn.a.error("Network error: "+t)})),pr=new gn.ApolloClient({link:or.concat(lr).concat(dr),cache:new gn.InMemoryCache({typePolicies:{Query:{fields:{findBooks:{keyArgs:!1,read:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,t=e.args,i=e.cache,r=t.skip,a=t.limit;if(!r&&!a)return n;var o=i.readQuery({query:Jn}),c=null===o||void 0===o?void 0:o.getBookPaginationMeta.count,s=r/a+1,d=Math.ceil(c/a),l=c-a*(d-1),p=n.slice(r,r+a).filter((function(n){return n}));return(s===d||p.length===a)&&(s!==d||p.length===l)&&p},merge:function(n,e,t){var i=t.args,r=i.skip,a=i.limit;if(!r&&!a)return e;for(var o=n?n.slice(0):[],c=r;c<r+e.length;c++)o[c]=e[c-r];return o}}}}}}),connectToDevTools:!0}),br=function(n){var e=n.children;return Object(Cn.jsxs)(gn.ApolloProvider,{client:pr,children:[Object(Cn.jsx)(sr,{}),e]})};xn.a.render(Object(Cn.jsx)(hn.a.StrictMode,{children:Object(Cn.jsx)(br,{children:Object(Cn.jsx)(Ci,{children:Object(Cn.jsx)(er,{})})})}),document.getElementById("root")),tr()},73:function(n,e,t){}},[[116,1,2]]]);
//# sourceMappingURL=main.3f329a6a.chunk.js.map